(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Rl(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const Ie={},so=[],En=()=>{},_v=()=>!1,Xs=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),kl=n=>n.startsWith("onUpdate:"),st=Object.assign,Ol=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},yv=Object.prototype.hasOwnProperty,we=(n,e)=>yv.call(n,e),re=Array.isArray,ao=n=>Zs(n)==="[object Map]",Qf=n=>Zs(n)==="[object Set]",se=n=>typeof n=="function",Ke=n=>typeof n=="string",lr=n=>typeof n=="symbol",De=n=>n!==null&&typeof n=="object",Jf=n=>(De(n)||se(n))&&se(n.then)&&se(n.catch),Xf=Object.prototype.toString,Zs=n=>Xf.call(n),vv=n=>Zs(n).slice(8,-1),Zf=n=>Zs(n)==="[object Object]",Pl=n=>Ke(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Zo=Rl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ea=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Cv=/-(\w)/g,Vt=ea(n=>n.replace(Cv,(e,t)=>t?t.toUpperCase():"")),Ev=/\B([A-Z])/g,Lr=ea(n=>n.replace(Ev,"-$1").toLowerCase()),ta=ea(n=>n.charAt(0).toUpperCase()+n.slice(1)),Ja=ea(n=>n?`on${ta(n)}`:""),Zn=(n,e)=>!Object.is(n,e),Xa=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},ep=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},wv=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let Td;const na=()=>Td||(Td=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nl(n){if(re(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],o=Ke(r)?Sv(r):Nl(r);if(o)for(const i in o)e[i]=o[i]}return e}else if(Ke(n)||De(n))return n}const Tv=/;(?![^(]*\))/g,bv=/:([^]+)/,Av=/\/\*[^]*?\*\//g;function Sv(n){const e={};return n.replace(Av,"").split(Tv).forEach(t=>{if(t){const r=t.split(bv);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Jn(n){let e="";if(Ke(n))e=n;else if(re(n))for(let t=0;t<n.length;t++){const r=Jn(n[t]);r&&(e+=r+" ")}else if(De(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Iv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Rv=Rl(Iv);function tp(n){return!!n||n===""}const np=n=>!!(n&&n.__v_isRef===!0),ie=n=>Ke(n)?n:n==null?"":re(n)||De(n)&&(n.toString===Xf||!se(n.toString))?np(n)?ie(n.value):JSON.stringify(n,rp,2):String(n),rp=(n,e)=>np(e)?rp(n,e.value):ao(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,o],i)=>(t[Za(r,i)+" =>"]=o,t),{})}:Qf(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Za(t))}:lr(e)?Za(e):De(e)&&!re(e)&&!Zf(e)?String(e):e,Za=(n,e="")=>{var t;return lr(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _t;class op{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_t,!e&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=_t;try{return _t=this,e()}finally{_t=t}}}on(){++this._on===1&&(this.prevScope=_t,_t=this)}off(){this._on>0&&--this._on===0&&(_t=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(this.effects.length=0,t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function kv(n){return new op(n)}function Ov(){return _t}let Oe;const ec=new WeakSet;class ip{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_t&&_t.active&&_t.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ec.has(this)&&(ec.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ap(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bd(this),cp(this);const e=Oe,t=Zt;Oe=this,Zt=!0;try{return this.fn()}finally{lp(this),Oe=e,Zt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)xl(e);this.deps=this.depsTail=void 0,bd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ec.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xc(this)&&this.run()}get dirty(){return xc(this)}}let sp=0,ei,ti;function ap(n,e=!1){if(n.flags|=8,e){n.next=ti,ti=n;return}n.next=ei,ei=n}function Ml(){sp++}function Dl(){if(--sp>0)return;if(ti){let e=ti;for(ti=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;ei;){let e=ei;for(ei=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=t}}if(n)throw n}function cp(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function lp(n){let e,t=n.depsTail,r=t;for(;r;){const o=r.prevDep;r.version===-1?(r===t&&(t=o),xl(r),Pv(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}n.deps=e,n.depsTail=t}function xc(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(up(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function up(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===fi)||(n.globalVersion=fi,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!xc(n))))return;n.flags|=2;const e=n.dep,t=Oe,r=Zt;Oe=n,Zt=!0;try{cp(n);const o=n.fn(n._value);(e.version===0||Zn(o,n._value))&&(n.flags|=128,n._value=o,e.version++)}catch(o){throw e.version++,o}finally{Oe=t,Zt=r,lp(n),n.flags&=-3}}function xl(n,e=!1){const{dep:t,prevSub:r,nextSub:o}=n;if(r&&(r.nextSub=o,n.prevSub=void 0),o&&(o.prevSub=r,n.nextSub=void 0),t.subs===n&&(t.subs=r,!r&&t.computed)){t.computed.flags&=-5;for(let i=t.computed.deps;i;i=i.nextDep)xl(i,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Pv(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let Zt=!0;const dp=[];function Un(){dp.push(Zt),Zt=!1}function $n(){const n=dp.pop();Zt=n===void 0?!0:n}function bd(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=Oe;Oe=void 0;try{e()}finally{Oe=t}}}let fi=0;class Nv{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ll{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Oe||!Zt||Oe===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Oe)t=this.activeLink=new Nv(Oe,this),Oe.deps?(t.prevDep=Oe.depsTail,Oe.depsTail.nextDep=t,Oe.depsTail=t):Oe.deps=Oe.depsTail=t,hp(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=Oe.depsTail,t.nextDep=void 0,Oe.depsTail.nextDep=t,Oe.depsTail=t,Oe.deps===t&&(Oe.deps=r)}return t}trigger(e){this.version++,fi++,this.notify(e)}notify(e){Ml();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Dl()}}}function hp(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)hp(r)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Lc=new WeakMap,wr=Symbol(""),Hc=Symbol(""),pi=Symbol("");function et(n,e,t){if(Zt&&Oe){let r=Lc.get(n);r||Lc.set(n,r=new Map);let o=r.get(t);o||(r.set(t,o=new Ll),o.map=r,o.key=t),o.track()}}function Nn(n,e,t,r,o,i){const s=Lc.get(n);if(!s){fi++;return}const a=c=>{c&&c.trigger()};if(Ml(),e==="clear")s.forEach(a);else{const c=re(n),u=c&&Pl(t);if(c&&t==="length"){const l=Number(r);s.forEach((d,h)=>{(h==="length"||h===pi||!lr(h)&&h>=l)&&a(d)})}else switch((t!==void 0||s.has(void 0))&&a(s.get(t)),u&&a(s.get(pi)),e){case"add":c?u&&a(s.get("length")):(a(s.get(wr)),ao(n)&&a(s.get(Hc)));break;case"delete":c||(a(s.get(wr)),ao(n)&&a(s.get(Hc)));break;case"set":ao(n)&&a(s.get(wr));break}}Dl()}function jr(n){const e=Ee(n);return e===n?e:(et(e,"iterate",pi),jt(n)?e:e.map(Je))}function ra(n){return et(n=Ee(n),"iterate",pi),n}const Mv={__proto__:null,[Symbol.iterator](){return tc(this,Symbol.iterator,Je)},concat(...n){return jr(this).concat(...n.map(e=>re(e)?jr(e):e))},entries(){return tc(this,"entries",n=>(n[1]=Je(n[1]),n))},every(n,e){return In(this,"every",n,e,void 0,arguments)},filter(n,e){return In(this,"filter",n,e,t=>t.map(Je),arguments)},find(n,e){return In(this,"find",n,e,Je,arguments)},findIndex(n,e){return In(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return In(this,"findLast",n,e,Je,arguments)},findLastIndex(n,e){return In(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return In(this,"forEach",n,e,void 0,arguments)},includes(...n){return nc(this,"includes",n)},indexOf(...n){return nc(this,"indexOf",n)},join(n){return jr(this).join(n)},lastIndexOf(...n){return nc(this,"lastIndexOf",n)},map(n,e){return In(this,"map",n,e,void 0,arguments)},pop(){return Ko(this,"pop")},push(...n){return Ko(this,"push",n)},reduce(n,...e){return Ad(this,"reduce",n,e)},reduceRight(n,...e){return Ad(this,"reduceRight",n,e)},shift(){return Ko(this,"shift")},some(n,e){return In(this,"some",n,e,void 0,arguments)},splice(...n){return Ko(this,"splice",n)},toReversed(){return jr(this).toReversed()},toSorted(n){return jr(this).toSorted(n)},toSpliced(...n){return jr(this).toSpliced(...n)},unshift(...n){return Ko(this,"unshift",n)},values(){return tc(this,"values",Je)}};function tc(n,e,t){const r=ra(n),o=r[e]();return r!==n&&!jt(n)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=t(i.value)),i}),o}const Dv=Array.prototype;function In(n,e,t,r,o,i){const s=ra(n),a=s!==n&&!jt(n),c=s[e];if(c!==Dv[e]){const d=c.apply(n,i);return a?Je(d):d}let u=t;s!==n&&(a?u=function(d,h){return t.call(this,Je(d),h,n)}:t.length>2&&(u=function(d,h){return t.call(this,d,h,n)}));const l=c.call(s,u,r);return a&&o?o(l):l}function Ad(n,e,t,r){const o=ra(n);let i=t;return o!==n&&(jt(n)?t.length>3&&(i=function(s,a,c){return t.call(this,s,a,c,n)}):i=function(s,a,c){return t.call(this,s,Je(a),c,n)}),o[e](i,...r)}function nc(n,e,t){const r=Ee(n);et(r,"iterate",pi);const o=r[e](...t);return(o===-1||o===!1)&&$l(t[0])?(t[0]=Ee(t[0]),r[e](...t)):o}function Ko(n,e,t=[]){Un(),Ml();const r=Ee(n)[e].apply(n,t);return Dl(),$n(),r}const xv=Rl("__proto__,__v_isRef,__isVue"),fp=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(lr));function Lv(n){lr(n)||(n=String(n));const e=Ee(this);return et(e,"has",n),e.hasOwnProperty(n)}class pp{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){if(t==="__v_skip")return e.__v_skip;const o=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!o;if(t==="__v_isReadonly")return o;if(t==="__v_isShallow")return i;if(t==="__v_raw")return r===(o?i?Wv:yp:i?_p:mp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=re(e);if(!o){let c;if(s&&(c=Mv[t]))return c;if(t==="hasOwnProperty")return Lv}const a=Reflect.get(e,t,it(e)?e:r);return(lr(t)?fp.has(t):xv(t))||(o||et(e,"get",t),i)?a:it(a)?s&&Pl(t)?a:a.value:De(a)?o?Cp(a):ki(a):a}}class gp extends pp{constructor(e=!1){super(!1,e)}set(e,t,r,o){let i=e[t];if(!this._isShallow){const c=rr(i);if(!jt(r)&&!rr(r)&&(i=Ee(i),r=Ee(r)),!re(e)&&it(i)&&!it(r))return c?!1:(i.value=r,!0)}const s=re(e)&&Pl(t)?Number(t)<e.length:we(e,t),a=Reflect.set(e,t,r,it(e)?e:o);return e===Ee(o)&&(s?Zn(r,i)&&Nn(e,"set",t,r):Nn(e,"add",t,r)),a}deleteProperty(e,t){const r=we(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&r&&Nn(e,"delete",t,void 0),o}has(e,t){const r=Reflect.has(e,t);return(!lr(t)||!fp.has(t))&&et(e,"has",t),r}ownKeys(e){return et(e,"iterate",re(e)?"length":wr),Reflect.ownKeys(e)}}class Hv extends pp{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Uv=new gp,$v=new Hv,Fv=new gp(!0);const Uc=n=>n,Bi=n=>Reflect.getPrototypeOf(n);function Bv(n,e,t){return function(...r){const o=this.__v_raw,i=Ee(o),s=ao(i),a=n==="entries"||n===Symbol.iterator&&s,c=n==="keys"&&s,u=o[n](...r),l=t?Uc:e?ys:Je;return!e&&et(i,"iterate",c?Hc:wr),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[l(d[0]),l(d[1])]:l(d),done:h}},[Symbol.iterator](){return this}}}}function Ki(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Kv(n,e){const t={get(o){const i=this.__v_raw,s=Ee(i),a=Ee(o);n||(Zn(o,a)&&et(s,"get",o),et(s,"get",a));const{has:c}=Bi(s),u=e?Uc:n?ys:Je;if(c.call(s,o))return u(i.get(o));if(c.call(s,a))return u(i.get(a));i!==s&&i.get(o)},get size(){const o=this.__v_raw;return!n&&et(Ee(o),"iterate",wr),Reflect.get(o,"size",o)},has(o){const i=this.__v_raw,s=Ee(i),a=Ee(o);return n||(Zn(o,a)&&et(s,"has",o),et(s,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const s=this,a=s.__v_raw,c=Ee(a),u=e?Uc:n?ys:Je;return!n&&et(c,"iterate",wr),a.forEach((l,d)=>o.call(i,u(l),u(d),s))}};return st(t,n?{add:Ki("add"),set:Ki("set"),delete:Ki("delete"),clear:Ki("clear")}:{add(o){!e&&!jt(o)&&!rr(o)&&(o=Ee(o));const i=Ee(this);return Bi(i).has.call(i,o)||(i.add(o),Nn(i,"add",o,o)),this},set(o,i){!e&&!jt(i)&&!rr(i)&&(i=Ee(i));const s=Ee(this),{has:a,get:c}=Bi(s);let u=a.call(s,o);u||(o=Ee(o),u=a.call(s,o));const l=c.call(s,o);return s.set(o,i),u?Zn(i,l)&&Nn(s,"set",o,i):Nn(s,"add",o,i),this},delete(o){const i=Ee(this),{has:s,get:a}=Bi(i);let c=s.call(i,o);c||(o=Ee(o),c=s.call(i,o)),a&&a.call(i,o);const u=i.delete(o);return c&&Nn(i,"delete",o,void 0),u},clear(){const o=Ee(this),i=o.size!==0,s=o.clear();return i&&Nn(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Bv(o,n,e)}),t}function Hl(n,e){const t=Kv(n,e);return(r,o,i)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(we(t,o)&&o in r?t:r,o,i)}const jv={get:Hl(!1,!1)},Gv={get:Hl(!1,!0)},Vv={get:Hl(!0,!1)};const mp=new WeakMap,_p=new WeakMap,yp=new WeakMap,Wv=new WeakMap;function zv(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qv(n){return n.__v_skip||!Object.isExtensible(n)?0:zv(vv(n))}function ki(n){return rr(n)?n:Ul(n,!1,Uv,jv,mp)}function vp(n){return Ul(n,!1,Fv,Gv,_p)}function Cp(n){return Ul(n,!0,$v,Vv,yp)}function Ul(n,e,t,r,o){if(!De(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=qv(n);if(i===0)return n;const s=o.get(n);if(s)return s;const a=new Proxy(n,i===2?r:t);return o.set(n,a),a}function co(n){return rr(n)?co(n.__v_raw):!!(n&&n.__v_isReactive)}function rr(n){return!!(n&&n.__v_isReadonly)}function jt(n){return!!(n&&n.__v_isShallow)}function $l(n){return n?!!n.__v_raw:!1}function Ee(n){const e=n&&n.__v_raw;return e?Ee(e):n}function Yv(n){return!we(n,"__v_skip")&&Object.isExtensible(n)&&ep(n,"__v_skip",!0),n}const Je=n=>De(n)?ki(n):n,ys=n=>De(n)?Cp(n):n;function it(n){return n?n.__v_isRef===!0:!1}function Ep(n){return wp(n,!1)}function Qv(n){return wp(n,!0)}function wp(n,e){return it(n)?n:new Jv(n,e)}class Jv{constructor(e,t){this.dep=new Ll,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Ee(e),this._value=t?e:Je(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||jt(e)||rr(e);e=r?e:Ee(e),Zn(e,t)&&(this._rawValue=e,this._value=r?e:Je(e),this.dep.trigger())}}function Pt(n){return it(n)?n.value:n}const Xv={get:(n,e,t)=>e==="__v_raw"?n:Pt(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const o=n[e];return it(o)&&!it(t)?(o.value=t,!0):Reflect.set(n,e,t,r)}};function Tp(n){return co(n)?n:new Proxy(n,Xv)}class Zv{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ll(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=fi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Oe!==this)return ap(this,!0),!0}get value(){const e=this.dep.track();return up(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function eC(n,e,t=!1){let r,o;return se(n)?r=n:(r=n.get,o=n.set),new Zv(r,o,t)}const ji={},vs=new WeakMap;let gr;function tC(n,e=!1,t=gr){if(t){let r=vs.get(t);r||vs.set(t,r=[]),r.push(n)}}function nC(n,e,t=Ie){const{immediate:r,deep:o,once:i,scheduler:s,augmentJob:a,call:c}=t,u=P=>o?P:jt(P)||o===!1||o===0?Mn(P,1):Mn(P);let l,d,h,f,y=!1,v=!1;if(it(n)?(d=()=>n.value,y=jt(n)):co(n)?(d=()=>u(n),y=!0):re(n)?(v=!0,y=n.some(P=>co(P)||jt(P)),d=()=>n.map(P=>{if(it(P))return P.value;if(co(P))return u(P);if(se(P))return c?c(P,2):P()})):se(n)?e?d=c?()=>c(n,2):n:d=()=>{if(h){Un();try{h()}finally{$n()}}const P=gr;gr=l;try{return c?c(n,3,[f]):n(f)}finally{gr=P}}:d=En,e&&o){const P=d,B=o===!0?1/0:o;d=()=>Mn(P(),B)}const E=Ov(),R=()=>{l.stop(),E&&E.active&&Ol(E.effects,l)};if(i&&e){const P=e;e=(...B)=>{P(...B),R()}}let O=v?new Array(n.length).fill(ji):ji;const M=P=>{if(!(!(l.flags&1)||!l.dirty&&!P))if(e){const B=l.run();if(o||y||(v?B.some((q,Q)=>Zn(q,O[Q])):Zn(B,O))){h&&h();const q=gr;gr=l;try{const Q=[B,O===ji?void 0:v&&O[0]===ji?[]:O,f];O=B,c?c(e,3,Q):e(...Q)}finally{gr=q}}}else l.run()};return a&&a(M),l=new ip(d),l.scheduler=s?()=>s(M,!1):M,f=P=>tC(P,!1,l),h=l.onStop=()=>{const P=vs.get(l);if(P){if(c)c(P,4);else for(const B of P)B();vs.delete(l)}},e?r?M(!0):O=l.run():s?s(M.bind(null,!0),!0):l.run(),R.pause=l.pause.bind(l),R.resume=l.resume.bind(l),R.stop=R,R}function Mn(n,e=1/0,t){if(e<=0||!De(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,it(n))Mn(n.value,e,t);else if(re(n))for(let r=0;r<n.length;r++)Mn(n[r],e,t);else if(Qf(n)||ao(n))n.forEach(r=>{Mn(r,e,t)});else if(Zf(n)){for(const r in n)Mn(n[r],e,t);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Mn(n[r],e,t)}return n}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Oi(n,e,t,r){try{return r?n(...r):n()}catch(o){oa(o,e,t)}}function An(n,e,t,r){if(se(n)){const o=Oi(n,e,t,r);return o&&Jf(o)&&o.catch(i=>{oa(i,e,t)}),o}if(re(n)){const o=[];for(let i=0;i<n.length;i++)o.push(An(n[i],e,t,r));return o}}function oa(n,e,t,r=!0){const o=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Ie;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const l=a.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](n,c,u)===!1)return}a=a.parent}if(i){Un(),Oi(i,null,10,[n,c,u]),$n();return}}rC(n,t,o,r,s)}function rC(n,e,t,r=!0,o=!1){if(o)throw n;console.error(n)}const ut=[];let mn=-1;const lo=[];let zn=null,Jr=0;const bp=Promise.resolve();let Cs=null;function Ap(n){const e=Cs||bp;return n?e.then(this?n.bind(this):n):e}function oC(n){let e=mn+1,t=ut.length;for(;e<t;){const r=e+t>>>1,o=ut[r],i=gi(o);i<n||i===n&&o.flags&2?e=r+1:t=r}return e}function Fl(n){if(!(n.flags&1)){const e=gi(n),t=ut[ut.length-1];!t||!(n.flags&2)&&e>=gi(t)?ut.push(n):ut.splice(oC(e),0,n),n.flags|=1,Sp()}}function Sp(){Cs||(Cs=bp.then(Rp))}function iC(n){re(n)?lo.push(...n):zn&&n.id===-1?zn.splice(Jr+1,0,n):n.flags&1||(lo.push(n),n.flags|=1),Sp()}function Sd(n,e,t=mn+1){for(;t<ut.length;t++){const r=ut[t];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;ut.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ip(n){if(lo.length){const e=[...new Set(lo)].sort((t,r)=>gi(t)-gi(r));if(lo.length=0,zn){zn.push(...e);return}for(zn=e,Jr=0;Jr<zn.length;Jr++){const t=zn[Jr];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}zn=null,Jr=0}}const gi=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Rp(n){try{for(mn=0;mn<ut.length;mn++){const e=ut[mn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Oi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;mn<ut.length;mn++){const e=ut[mn];e&&(e.flags&=-2)}mn=-1,ut.length=0,Ip(),Cs=null,(ut.length||lo.length)&&Rp()}}let Mt=null,kp=null;function Es(n){const e=Mt;return Mt=n,kp=n&&n.type.__scopeId||null,e}function $(n,e=Mt,t){if(!e||n._n)return n;const r=(...o)=>{r._d&&Ld(-1);const i=Es(e);let s;try{s=n(...o)}finally{Es(i),r._d&&Ld(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function _r(n,e){if(Mt===null)return n;const t=ca(Mt),r=n.dirs||(n.dirs=[]);for(let o=0;o<e.length;o++){let[i,s,a,c=Ie]=e[o];i&&(se(i)&&(i={mounted:i,updated:i}),i.deep&&Mn(s),r.push({dir:i,instance:t,value:s,oldValue:void 0,arg:a,modifiers:c}))}return n}function fr(n,e,t,r){const o=n.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let c=a.dir[r];c&&(Un(),An(c,t,8,[n.el,a,n,e]),$n())}}const sC=Symbol("_vte"),aC=n=>n.__isTeleport;function Bl(n,e){n.shapeFlag&6&&n.component?(n.transition=e,Bl(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Op(n,e){return se(n)?st({name:n.name},e,{setup:n}):n}function Pp(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function ws(n,e,t,r,o=!1){if(re(n)){n.forEach((y,v)=>ws(y,e&&(re(e)?e[v]:e),t,r,o));return}if(ni(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ws(n,e,t,r.component.subTree);return}const i=r.shapeFlag&4?ca(r.component):r.el,s=o?null:i,{i:a,r:c}=n,u=e&&e.r,l=a.refs===Ie?a.refs={}:a.refs,d=a.setupState,h=Ee(d),f=d===Ie?()=>!1:y=>we(h,y);if(u!=null&&u!==c&&(Ke(u)?(l[u]=null,f(u)&&(d[u]=null)):it(u)&&(u.value=null)),se(c))Oi(c,a,12,[s,l]);else{const y=Ke(c),v=it(c);if(y||v){const E=()=>{if(n.f){const R=y?f(c)?d[c]:l[c]:c.value;o?re(R)&&Ol(R,i):re(R)?R.includes(i)||R.push(i):y?(l[c]=[i],f(c)&&(d[c]=l[c])):(c.value=[i],n.k&&(l[n.k]=c.value))}else y?(l[c]=s,f(c)&&(d[c]=s)):v&&(c.value=s,n.k&&(l[n.k]=s))};s?(E.id=-1,kt(E,t)):E()}}}na().requestIdleCallback;na().cancelIdleCallback;const ni=n=>!!n.type.__asyncLoader,Np=n=>n.type.__isKeepAlive;function cC(n,e){Mp(n,"a",e)}function lC(n,e){Mp(n,"da",e)}function Mp(n,e,t=rt){const r=n.__wdc||(n.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(ia(e,r,t),t){let o=t.parent;for(;o&&o.parent;)Np(o.parent.vnode)&&uC(r,e,t,o),o=o.parent}}function uC(n,e,t,r){const o=ia(e,n,r,!0);xp(()=>{Ol(r[e],o)},t)}function ia(n,e,t=rt,r=!1){if(t){const o=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...s)=>{Un();const a=Pi(t),c=An(e,t,n,s);return a(),$n(),c});return r?o.unshift(i):o.push(i),i}}const Kn=n=>(e,t=rt)=>{(!_i||n==="sp")&&ia(n,(...r)=>e(...r),t)},dC=Kn("bm"),Dp=Kn("m"),hC=Kn("bu"),fC=Kn("u"),pC=Kn("bum"),xp=Kn("um"),gC=Kn("sp"),mC=Kn("rtg"),_C=Kn("rtc");function yC(n,e=rt){ia("ec",n,e)}const Lp="components",vC="directives";function Le(n,e){return Hp(Lp,n,!0,e)||n}const CC=Symbol.for("v-ndc");function EC(n){return Hp(vC,n)}function Hp(n,e,t=!0,r=!1){const o=Mt||rt;if(o){const i=o.type;if(n===Lp){const a=aE(i,!1);if(a&&(a===e||a===Vt(e)||a===ta(Vt(e))))return i}const s=Id(o[n]||i[n],e)||Id(o.appContext[n],e);return!s&&r?i:s}}function Id(n,e){return n&&(n[e]||n[Vt(e)]||n[ta(Vt(e))])}function $c(n,e,t,r){let o;const i=t,s=re(n);if(s||Ke(n)){const a=s&&co(n);let c=!1,u=!1;a&&(c=!jt(n),u=rr(n),n=ra(n)),o=new Array(n.length);for(let l=0,d=n.length;l<d;l++)o[l]=e(c?u?ys(Je(n[l])):Je(n[l]):n[l],l,void 0,i)}else if(typeof n=="number"){o=new Array(n);for(let a=0;a<n;a++)o[a]=e(a+1,a,void 0,i)}else if(De(n))if(n[Symbol.iterator])o=Array.from(n,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(n);o=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const l=a[c];o[c]=e(n[l],l,c,i)}}else o=[];return o}const Fc=n=>n?rg(n)?ca(n):Fc(n.parent):null,ri=st(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Fc(n.parent),$root:n=>Fc(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>$p(n),$forceUpdate:n=>n.f||(n.f=()=>{Fl(n.update)}),$nextTick:n=>n.n||(n.n=Ap.bind(n.proxy)),$watch:n=>KC.bind(n)}),rc=(n,e)=>n!==Ie&&!n.__isScriptSetup&&we(n,e),wC={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:c}=n;let u;if(e[0]!=="$"){const f=s[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(rc(r,e))return s[e]=1,r[e];if(o!==Ie&&we(o,e))return s[e]=2,o[e];if((u=n.propsOptions[0])&&we(u,e))return s[e]=3,i[e];if(t!==Ie&&we(t,e))return s[e]=4,t[e];Bc&&(s[e]=0)}}const l=ri[e];let d,h;if(l)return e==="$attrs"&&et(n.attrs,"get",""),l(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==Ie&&we(t,e))return s[e]=4,t[e];if(h=c.config.globalProperties,we(h,e))return h[e]},set({_:n},e,t){const{data:r,setupState:o,ctx:i}=n;return rc(o,e)?(o[e]=t,!0):r!==Ie&&we(r,e)?(r[e]=t,!0):we(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!t[s]||n!==Ie&&we(n,s)||rc(e,s)||(a=i[0])&&we(a,s)||we(r,s)||we(ri,s)||we(o.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:we(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function Rd(n){return re(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let Bc=!0;function TC(n){const e=$p(n),t=n.proxy,r=n.ctx;Bc=!1,e.beforeCreate&&kd(e.beforeCreate,n,"bc");const{data:o,computed:i,methods:s,watch:a,provide:c,inject:u,created:l,beforeMount:d,mounted:h,beforeUpdate:f,updated:y,activated:v,deactivated:E,beforeDestroy:R,beforeUnmount:O,destroyed:M,unmounted:P,render:B,renderTracked:q,renderTriggered:Q,errorCaptured:he,serverPrefetch:me,expose:ge,inheritAttrs:Ne,components:je,directives:ke,filters:Tt}=e;if(u&&bC(u,r,null),s)for(const le in s){const fe=s[le];se(fe)&&(r[le]=fe.bind(t))}if(o){const le=o.call(t,t);De(le)&&(n.data=ki(le))}if(Bc=!0,i)for(const le in i){const fe=i[le],Ye=se(fe)?fe.bind(t,t):se(fe.get)?fe.get.bind(t,t):En,bt=!se(fe)&&se(fe.set)?fe.set.bind(t):En,gt=Nt({get:Ye,set:bt});Object.defineProperty(r,le,{enumerable:!0,configurable:!0,get:()=>gt.value,set:Ue=>gt.value=Ue})}if(a)for(const le in a)Up(a[le],r,t,le);if(c){const le=se(c)?c.call(t):c;Reflect.ownKeys(le).forEach(fe=>{is(fe,le[fe])})}l&&kd(l,n,"c");function _e(le,fe){re(fe)?fe.forEach(Ye=>le(Ye.bind(t))):fe&&le(fe.bind(t))}if(_e(dC,d),_e(Dp,h),_e(hC,f),_e(fC,y),_e(cC,v),_e(lC,E),_e(yC,he),_e(_C,q),_e(mC,Q),_e(pC,O),_e(xp,P),_e(gC,me),re(ge))if(ge.length){const le=n.exposed||(n.exposed={});ge.forEach(fe=>{Object.defineProperty(le,fe,{get:()=>t[fe],set:Ye=>t[fe]=Ye})})}else n.exposed||(n.exposed={});B&&n.render===En&&(n.render=B),Ne!=null&&(n.inheritAttrs=Ne),je&&(n.components=je),ke&&(n.directives=ke),me&&Pp(n)}function bC(n,e,t=En){re(n)&&(n=Kc(n));for(const r in n){const o=n[r];let i;De(o)?"default"in o?i=en(o.from||r,o.default,!0):i=en(o.from||r):i=en(o),it(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[r]=i}}function kd(n,e,t){An(re(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function Up(n,e,t,r){let o=r.includes(".")?Xp(t,r):()=>t[r];if(Ke(n)){const i=e[n];se(i)&&ho(o,i)}else if(se(n))ho(o,n.bind(t));else if(De(n))if(re(n))n.forEach(i=>Up(i,e,t,r));else{const i=se(n.handler)?n.handler.bind(t):e[n.handler];se(i)&&ho(o,i,n)}}function $p(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=n.appContext,a=i.get(e);let c;return a?c=a:!o.length&&!t&&!r?c=e:(c={},o.length&&o.forEach(u=>Ts(c,u,s,!0)),Ts(c,e,s)),De(e)&&i.set(e,c),c}function Ts(n,e,t,r=!1){const{mixins:o,extends:i}=e;i&&Ts(n,i,t,!0),o&&o.forEach(s=>Ts(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const a=AC[s]||t&&t[s];n[s]=a?a(n[s],e[s]):e[s]}return n}const AC={data:Od,props:Pd,emits:Pd,methods:Qo,computed:Qo,beforeCreate:at,created:at,beforeMount:at,mounted:at,beforeUpdate:at,updated:at,beforeDestroy:at,beforeUnmount:at,destroyed:at,unmounted:at,activated:at,deactivated:at,errorCaptured:at,serverPrefetch:at,components:Qo,directives:Qo,watch:IC,provide:Od,inject:SC};function Od(n,e){return e?n?function(){return st(se(n)?n.call(this,this):n,se(e)?e.call(this,this):e)}:e:n}function SC(n,e){return Qo(Kc(n),Kc(e))}function Kc(n){if(re(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function at(n,e){return n?[...new Set([].concat(n,e))]:e}function Qo(n,e){return n?st(Object.create(null),n,e):e}function Pd(n,e){return n?re(n)&&re(e)?[...new Set([...n,...e])]:st(Object.create(null),Rd(n),Rd(e??{})):e}function IC(n,e){if(!n)return e;if(!e)return n;const t=st(Object.create(null),n);for(const r in e)t[r]=at(n[r],e[r]);return t}function Fp(){return{app:null,config:{isNativeTag:_v,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let RC=0;function kC(n,e){return function(r,o=null){se(r)||(r=st({},r)),o!=null&&!De(o)&&(o=null);const i=Fp(),s=new WeakSet,a=[];let c=!1;const u=i.app={_uid:RC++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:lE,get config(){return i.config},set config(l){},use(l,...d){return s.has(l)||(l&&se(l.install)?(s.add(l),l.install(u,...d)):se(l)&&(s.add(l),l(u,...d))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,d){return d?(i.components[l]=d,u):i.components[l]},directive(l,d){return d?(i.directives[l]=d,u):i.directives[l]},mount(l,d,h){if(!c){const f=u._ceVNode||x(r,o);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),n(f,l,h),c=!0,u._container=l,l.__vue_app__=u,ca(f.component)}},onUnmount(l){a.push(l)},unmount(){c&&(An(a,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(l,d){return i.provides[l]=d,u},runWithContext(l){const d=uo;uo=u;try{return l()}finally{uo=d}}};return u}}let uo=null;function is(n,e){if(rt){let t=rt.provides;const r=rt.parent&&rt.parent.provides;r===t&&(t=rt.provides=Object.create(r)),t[n]=e}}function en(n,e,t=!1){const r=rt||Mt;if(r||uo){let o=uo?uo._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&n in o)return o[n];if(arguments.length>1)return t&&se(e)?e.call(r&&r.proxy):e}}const Bp={},Kp=()=>Object.create(Bp),jp=n=>Object.getPrototypeOf(n)===Bp;function OC(n,e,t,r=!1){const o={},i=Kp();n.propsDefaults=Object.create(null),Gp(n,e,o,i);for(const s in n.propsOptions[0])s in o||(o[s]=void 0);t?n.props=r?o:vp(o):n.type.props?n.props=o:n.props=i,n.attrs=i}function PC(n,e,t,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=n,a=Ee(o),[c]=n.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const l=n.vnode.dynamicProps;for(let d=0;d<l.length;d++){let h=l[d];if(sa(n.emitsOptions,h))continue;const f=e[h];if(c)if(we(i,h))f!==i[h]&&(i[h]=f,u=!0);else{const y=Vt(h);o[y]=jc(c,a,y,f,n,!1)}else f!==i[h]&&(i[h]=f,u=!0)}}}else{Gp(n,e,o,i)&&(u=!0);let l;for(const d in a)(!e||!we(e,d)&&((l=Lr(d))===d||!we(e,l)))&&(c?t&&(t[d]!==void 0||t[l]!==void 0)&&(o[d]=jc(c,a,d,void 0,n,!0)):delete o[d]);if(i!==a)for(const d in i)(!e||!we(e,d))&&(delete i[d],u=!0)}u&&Nn(n.attrs,"set","")}function Gp(n,e,t,r){const[o,i]=n.propsOptions;let s=!1,a;if(e)for(let c in e){if(Zo(c))continue;const u=e[c];let l;o&&we(o,l=Vt(c))?!i||!i.includes(l)?t[l]=u:(a||(a={}))[l]=u:sa(n.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,s=!0)}if(i){const c=Ee(t),u=a||Ie;for(let l=0;l<i.length;l++){const d=i[l];t[d]=jc(o,c,d,u[d],n,!we(u,d))}}return s}function jc(n,e,t,r,o,i){const s=n[t];if(s!=null){const a=we(s,"default");if(a&&r===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&se(c)){const{propsDefaults:u}=o;if(t in u)r=u[t];else{const l=Pi(o);r=u[t]=c.call(null,e),l()}}else r=c;o.ce&&o.ce._setProp(t,r)}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===Lr(t))&&(r=!0))}return r}const NC=new WeakMap;function Vp(n,e,t=!1){const r=t?NC:e.propsCache,o=r.get(n);if(o)return o;const i=n.props,s={},a=[];let c=!1;if(!se(n)){const l=d=>{c=!0;const[h,f]=Vp(d,e,!0);st(s,h),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}if(!i&&!c)return De(n)&&r.set(n,so),so;if(re(i))for(let l=0;l<i.length;l++){const d=Vt(i[l]);Nd(d)&&(s[d]=Ie)}else if(i)for(const l in i){const d=Vt(l);if(Nd(d)){const h=i[l],f=s[d]=re(h)||se(h)?{type:h}:st({},h),y=f.type;let v=!1,E=!0;if(re(y))for(let R=0;R<y.length;++R){const O=y[R],M=se(O)&&O.name;if(M==="Boolean"){v=!0;break}else M==="String"&&(E=!1)}else v=se(y)&&y.name==="Boolean";f[0]=v,f[1]=E,(v||we(f,"default"))&&a.push(d)}}const u=[s,a];return De(n)&&r.set(n,u),u}function Nd(n){return n[0]!=="$"&&!Zo(n)}const Kl=n=>n[0]==="_"||n==="$stable",jl=n=>re(n)?n.map(_n):[_n(n)],MC=(n,e,t)=>{if(e._n)return e;const r=$((...o)=>jl(e(...o)),t);return r._c=!1,r},Wp=(n,e,t)=>{const r=n._ctx;for(const o in n){if(Kl(o))continue;const i=n[o];if(se(i))e[o]=MC(o,i,r);else if(i!=null){const s=jl(i);e[o]=()=>s}}},zp=(n,e)=>{const t=jl(e);n.slots.default=()=>t},qp=(n,e,t)=>{for(const r in e)(t||!Kl(r))&&(n[r]=e[r])},DC=(n,e,t)=>{const r=n.slots=Kp();if(n.vnode.shapeFlag&32){const o=e._;o?(qp(r,e,t),t&&ep(r,"_",o,!0)):Wp(e,r)}else e&&zp(n,e)},xC=(n,e,t)=>{const{vnode:r,slots:o}=n;let i=!0,s=Ie;if(r.shapeFlag&32){const a=e._;a?t&&a===1?i=!1:qp(o,e,t):(i=!e.$stable,Wp(e,o)),s=e}else e&&(zp(n,e),s={default:1});if(i)for(const a in o)!Kl(a)&&s[a]==null&&delete o[a]},kt=YC;function LC(n){return HC(n)}function HC(n,e){const t=na();t.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:c,setText:u,setElementText:l,parentNode:d,nextSibling:h,setScopeId:f=En,insertStaticContent:y}=n,v=(p,g,C,I=null,N=null,k=null,j=void 0,F=null,U=!!g.dynamicChildren)=>{if(p===g)return;p&&!jo(p,g)&&(I=A(p),Ue(p,N,k,!0),p=null),g.patchFlag===-2&&(U=!1,g.dynamicChildren=null);const{type:L,ref:J,shapeFlag:G}=g;switch(L){case aa:E(p,g,C,I);break;case mo:R(p,g,C,I);break;case ss:p==null&&O(g,C,I,j);break;case Bt:je(p,g,C,I,N,k,j,F,U);break;default:G&1?B(p,g,C,I,N,k,j,F,U):G&6?ke(p,g,C,I,N,k,j,F,U):(G&64||G&128)&&L.process(p,g,C,I,N,k,j,F,U,z)}J!=null&&N&&ws(J,p&&p.ref,k,g||p,!g)},E=(p,g,C,I)=>{if(p==null)r(g.el=a(g.children),C,I);else{const N=g.el=p.el;g.children!==p.children&&u(N,g.children)}},R=(p,g,C,I)=>{p==null?r(g.el=c(g.children||""),C,I):g.el=p.el},O=(p,g,C,I)=>{[p.el,p.anchor]=y(p.children,g,C,I,p.el,p.anchor)},M=({el:p,anchor:g},C,I)=>{let N;for(;p&&p!==g;)N=h(p),r(p,C,I),p=N;r(g,C,I)},P=({el:p,anchor:g})=>{let C;for(;p&&p!==g;)C=h(p),o(p),p=C;o(g)},B=(p,g,C,I,N,k,j,F,U)=>{g.type==="svg"?j="svg":g.type==="math"&&(j="mathml"),p==null?q(g,C,I,N,k,j,F,U):me(p,g,N,k,j,F,U)},q=(p,g,C,I,N,k,j,F)=>{let U,L;const{props:J,shapeFlag:G,transition:Y,dirs:ne}=p;if(U=p.el=s(p.type,k,J&&J.is,J),G&8?l(U,p.children):G&16&&he(p.children,U,null,I,N,oc(p,k),j,F),ne&&fr(p,null,I,"created"),Q(U,p,p.scopeId,j,I),J){for(const Te in J)Te!=="value"&&!Zo(Te)&&i(U,Te,null,J[Te],k,I);"value"in J&&i(U,"value",null,J.value,k),(L=J.onVnodeBeforeMount)&&fn(L,I,p)}ne&&fr(p,null,I,"beforeMount");const de=UC(N,Y);de&&Y.beforeEnter(U),r(U,g,C),((L=J&&J.onVnodeMounted)||de||ne)&&kt(()=>{L&&fn(L,I,p),de&&Y.enter(U),ne&&fr(p,null,I,"mounted")},N)},Q=(p,g,C,I,N)=>{if(C&&f(p,C),I)for(let k=0;k<I.length;k++)f(p,I[k]);if(N){let k=N.subTree;if(g===k||eg(k.type)&&(k.ssContent===g||k.ssFallback===g)){const j=N.vnode;Q(p,j,j.scopeId,j.slotScopeIds,N.parent)}}},he=(p,g,C,I,N,k,j,F,U=0)=>{for(let L=U;L<p.length;L++){const J=p[L]=F?qn(p[L]):_n(p[L]);v(null,J,g,C,I,N,k,j,F)}},me=(p,g,C,I,N,k,j)=>{const F=g.el=p.el;let{patchFlag:U,dynamicChildren:L,dirs:J}=g;U|=p.patchFlag&16;const G=p.props||Ie,Y=g.props||Ie;let ne;if(C&&pr(C,!1),(ne=Y.onVnodeBeforeUpdate)&&fn(ne,C,g,p),J&&fr(g,p,C,"beforeUpdate"),C&&pr(C,!0),(G.innerHTML&&Y.innerHTML==null||G.textContent&&Y.textContent==null)&&l(F,""),L?ge(p.dynamicChildren,L,F,C,I,oc(g,N),k):j||fe(p,g,F,null,C,I,oc(g,N),k,!1),U>0){if(U&16)Ne(F,G,Y,C,N);else if(U&2&&G.class!==Y.class&&i(F,"class",null,Y.class,N),U&4&&i(F,"style",G.style,Y.style,N),U&8){const de=g.dynamicProps;for(let Te=0;Te<de.length;Te++){const ye=de[Te],It=G[ye],mt=Y[ye];(mt!==It||ye==="value")&&i(F,ye,It,mt,N,C)}}U&1&&p.children!==g.children&&l(F,g.children)}else!j&&L==null&&Ne(F,G,Y,C,N);((ne=Y.onVnodeUpdated)||J)&&kt(()=>{ne&&fn(ne,C,g,p),J&&fr(g,p,C,"updated")},I)},ge=(p,g,C,I,N,k,j)=>{for(let F=0;F<g.length;F++){const U=p[F],L=g[F],J=U.el&&(U.type===Bt||!jo(U,L)||U.shapeFlag&198)?d(U.el):C;v(U,L,J,null,I,N,k,j,!0)}},Ne=(p,g,C,I,N)=>{if(g!==C){if(g!==Ie)for(const k in g)!Zo(k)&&!(k in C)&&i(p,k,g[k],null,N,I);for(const k in C){if(Zo(k))continue;const j=C[k],F=g[k];j!==F&&k!=="value"&&i(p,k,F,j,N,I)}"value"in C&&i(p,"value",g.value,C.value,N)}},je=(p,g,C,I,N,k,j,F,U)=>{const L=g.el=p?p.el:a(""),J=g.anchor=p?p.anchor:a("");let{patchFlag:G,dynamicChildren:Y,slotScopeIds:ne}=g;ne&&(F=F?F.concat(ne):ne),p==null?(r(L,C,I),r(J,C,I),he(g.children||[],C,J,N,k,j,F,U)):G>0&&G&64&&Y&&p.dynamicChildren?(ge(p.dynamicChildren,Y,C,N,k,j,F),(g.key!=null||N&&g===N.subTree)&&Yp(p,g,!0)):fe(p,g,C,J,N,k,j,F,U)},ke=(p,g,C,I,N,k,j,F,U)=>{g.slotScopeIds=F,p==null?g.shapeFlag&512?N.ctx.activate(g,C,I,j,U):Tt(g,C,I,N,k,j,U):pt(p,g,U)},Tt=(p,g,C,I,N,k,j)=>{const F=p.component=nE(p,I,N);if(Np(p)&&(F.ctx.renderer=z),rE(F,!1,j),F.asyncDep){if(N&&N.registerDep(F,_e,j),!p.el){const U=F.subTree=x(mo);R(null,U,g,C)}}else _e(F,p,g,C,N,k,j)},pt=(p,g,C)=>{const I=g.component=p.component;if(zC(p,g,C))if(I.asyncDep&&!I.asyncResolved){le(I,g,C);return}else I.next=g,I.update();else g.el=p.el,I.vnode=g},_e=(p,g,C,I,N,k,j)=>{const F=()=>{if(p.isMounted){let{next:G,bu:Y,u:ne,parent:de,vnode:Te}=p;{const dn=Qp(p);if(dn){G&&(G.el=Te.el,le(p,G,j)),dn.asyncDep.then(()=>{p.isUnmounted||F()});return}}let ye=G,It;pr(p,!1),G?(G.el=Te.el,le(p,G,j)):G=Te,Y&&Xa(Y),(It=G.props&&G.props.onVnodeBeforeUpdate)&&fn(It,de,G,Te),pr(p,!0);const mt=Dd(p),un=p.subTree;p.subTree=mt,v(un,mt,d(un.el),A(un),p,N,k),G.el=mt.el,ye===null&&qC(p,mt.el),ne&&kt(ne,N),(It=G.props&&G.props.onVnodeUpdated)&&kt(()=>fn(It,de,G,Te),N)}else{let G;const{el:Y,props:ne}=g,{bm:de,m:Te,parent:ye,root:It,type:mt}=p,un=ni(g);pr(p,!1),de&&Xa(de),!un&&(G=ne&&ne.onVnodeBeforeMount)&&fn(G,ye,g),pr(p,!0);{It.ce&&It.ce._injectChildStyle(mt);const dn=p.subTree=Dd(p);v(null,dn,C,I,p,N,k),g.el=dn.el}if(Te&&kt(Te,N),!un&&(G=ne&&ne.onVnodeMounted)){const dn=g;kt(()=>fn(G,ye,dn),N)}(g.shapeFlag&256||ye&&ni(ye.vnode)&&ye.vnode.shapeFlag&256)&&p.a&&kt(p.a,N),p.isMounted=!0,g=C=I=null}};p.scope.on();const U=p.effect=new ip(F);p.scope.off();const L=p.update=U.run.bind(U),J=p.job=U.runIfDirty.bind(U);J.i=p,J.id=p.uid,U.scheduler=()=>Fl(J),pr(p,!0),L()},le=(p,g,C)=>{g.component=p;const I=p.vnode.props;p.vnode=g,p.next=null,PC(p,g.props,I,C),xC(p,g.children,C),Un(),Sd(p),$n()},fe=(p,g,C,I,N,k,j,F,U=!1)=>{const L=p&&p.children,J=p?p.shapeFlag:0,G=g.children,{patchFlag:Y,shapeFlag:ne}=g;if(Y>0){if(Y&128){bt(L,G,C,I,N,k,j,F,U);return}else if(Y&256){Ye(L,G,C,I,N,k,j,F,U);return}}ne&8?(J&16&&We(L,N,k),G!==L&&l(C,G)):J&16?ne&16?bt(L,G,C,I,N,k,j,F,U):We(L,N,k,!0):(J&8&&l(C,""),ne&16&&he(G,C,I,N,k,j,F,U))},Ye=(p,g,C,I,N,k,j,F,U)=>{p=p||so,g=g||so;const L=p.length,J=g.length,G=Math.min(L,J);let Y;for(Y=0;Y<G;Y++){const ne=g[Y]=U?qn(g[Y]):_n(g[Y]);v(p[Y],ne,C,null,N,k,j,F,U)}L>J?We(p,N,k,!0,!1,G):he(g,C,I,N,k,j,F,U,G)},bt=(p,g,C,I,N,k,j,F,U)=>{let L=0;const J=g.length;let G=p.length-1,Y=J-1;for(;L<=G&&L<=Y;){const ne=p[L],de=g[L]=U?qn(g[L]):_n(g[L]);if(jo(ne,de))v(ne,de,C,null,N,k,j,F,U);else break;L++}for(;L<=G&&L<=Y;){const ne=p[G],de=g[Y]=U?qn(g[Y]):_n(g[Y]);if(jo(ne,de))v(ne,de,C,null,N,k,j,F,U);else break;G--,Y--}if(L>G){if(L<=Y){const ne=Y+1,de=ne<J?g[ne].el:I;for(;L<=Y;)v(null,g[L]=U?qn(g[L]):_n(g[L]),C,de,N,k,j,F,U),L++}}else if(L>Y)for(;L<=G;)Ue(p[L],N,k,!0),L++;else{const ne=L,de=L,Te=new Map;for(L=de;L<=Y;L++){const Rt=g[L]=U?qn(g[L]):_n(g[L]);Rt.key!=null&&Te.set(Rt.key,L)}let ye,It=0;const mt=Y-de+1;let un=!1,dn=0;const Bo=new Array(mt);for(L=0;L<mt;L++)Bo[L]=0;for(L=ne;L<=G;L++){const Rt=p[L];if(It>=mt){Ue(Rt,N,k,!0);continue}let hn;if(Rt.key!=null)hn=Te.get(Rt.key);else for(ye=de;ye<=Y;ye++)if(Bo[ye-de]===0&&jo(Rt,g[ye])){hn=ye;break}hn===void 0?Ue(Rt,N,k,!0):(Bo[hn-de]=L+1,hn>=dn?dn=hn:un=!0,v(Rt,g[hn],C,null,N,k,j,F,U),It++)}const Ed=un?$C(Bo):so;for(ye=Ed.length-1,L=mt-1;L>=0;L--){const Rt=de+L,hn=g[Rt],wd=Rt+1<J?g[Rt+1].el:I;Bo[L]===0?v(null,hn,C,wd,N,k,j,F,U):un&&(ye<0||L!==Ed[ye]?gt(hn,C,wd,2):ye--)}}},gt=(p,g,C,I,N=null)=>{const{el:k,type:j,transition:F,children:U,shapeFlag:L}=p;if(L&6){gt(p.component.subTree,g,C,I);return}if(L&128){p.suspense.move(g,C,I);return}if(L&64){j.move(p,g,C,z);return}if(j===Bt){r(k,g,C);for(let G=0;G<U.length;G++)gt(U[G],g,C,I);r(p.anchor,g,C);return}if(j===ss){M(p,g,C);return}if(I!==2&&L&1&&F)if(I===0)F.beforeEnter(k),r(k,g,C),kt(()=>F.enter(k),N);else{const{leave:G,delayLeave:Y,afterLeave:ne}=F,de=()=>{p.ctx.isUnmounted?o(k):r(k,g,C)},Te=()=>{G(k,()=>{de(),ne&&ne()})};Y?Y(k,de,Te):Te()}else r(k,g,C)},Ue=(p,g,C,I=!1,N=!1)=>{const{type:k,props:j,ref:F,children:U,dynamicChildren:L,shapeFlag:J,patchFlag:G,dirs:Y,cacheIndex:ne}=p;if(G===-2&&(N=!1),F!=null&&(Un(),ws(F,null,C,p,!0),$n()),ne!=null&&(g.renderCache[ne]=void 0),J&256){g.ctx.deactivate(p);return}const de=J&1&&Y,Te=!ni(p);let ye;if(Te&&(ye=j&&j.onVnodeBeforeUnmount)&&fn(ye,g,p),J&6)St(p.component,C,I);else{if(J&128){p.suspense.unmount(C,I);return}de&&fr(p,null,g,"beforeUnmount"),J&64?p.type.remove(p,g,C,z,I):L&&!L.hasOnce&&(k!==Bt||G>0&&G&64)?We(L,g,C,!1,!0):(k===Bt&&G&384||!N&&J&16)&&We(U,g,C),I&&Yt(p)}(Te&&(ye=j&&j.onVnodeUnmounted)||de)&&kt(()=>{ye&&fn(ye,g,p),de&&fr(p,null,g,"unmounted")},C)},Yt=p=>{const{type:g,el:C,anchor:I,transition:N}=p;if(g===Bt){At(C,I);return}if(g===ss){P(p);return}const k=()=>{o(C),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(p.shapeFlag&1&&N&&!N.persisted){const{leave:j,delayLeave:F}=N,U=()=>j(C,k);F?F(p.el,k,U):U()}else k()},At=(p,g)=>{let C;for(;p!==g;)C=h(p),o(p),p=C;o(g)},St=(p,g,C)=>{const{bum:I,scope:N,job:k,subTree:j,um:F,m:U,a:L,parent:J,slots:{__:G}}=p;Md(U),Md(L),I&&Xa(I),J&&re(G)&&G.forEach(Y=>{J.renderCache[Y]=void 0}),N.stop(),k&&(k.flags|=8,Ue(j,p,g,C)),F&&kt(F,g),kt(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},We=(p,g,C,I=!1,N=!1,k=0)=>{for(let j=k;j<p.length;j++)Ue(p[j],g,C,I,N)},A=p=>{if(p.shapeFlag&6)return A(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=h(p.anchor||p.el),C=g&&g[sC];return C?h(C):g};let V=!1;const K=(p,g,C)=>{p==null?g._vnode&&Ue(g._vnode,null,null,!0):v(g._vnode||null,p,g,null,null,null,C),g._vnode=p,V||(V=!0,Sd(),Ip(),V=!1)},z={p:v,um:Ue,m:gt,r:Yt,mt:Tt,mc:he,pc:fe,pbc:ge,n:A,o:n};return{render:K,hydrate:void 0,createApp:kC(K)}}function oc({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function pr({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function UC(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Yp(n,e,t=!1){const r=n.children,o=e.children;if(re(r)&&re(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=qn(o[i]),a.el=s.el),!t&&a.patchFlag!==-2&&Yp(s,a)),a.type===aa&&(a.el=s.el),a.type===mo&&!a.el&&(a.el=s.el)}}function $C(n){const e=n.slice(),t=[0];let r,o,i,s,a;const c=n.length;for(r=0;r<c;r++){const u=n[r];if(u!==0){if(o=t[t.length-1],n[o]<u){e[r]=o,t.push(r);continue}for(i=0,s=t.length-1;i<s;)a=i+s>>1,n[t[a]]<u?i=a+1:s=a;u<n[t[i]]&&(i>0&&(e[r]=t[i-1]),t[i]=r)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}function Qp(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Qp(e)}function Md(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const FC=Symbol.for("v-scx"),BC=()=>en(FC);function ho(n,e,t){return Jp(n,e,t)}function Jp(n,e,t=Ie){const{immediate:r,deep:o,flush:i,once:s}=t,a=st({},t),c=e&&r||!e&&i!=="post";let u;if(_i){if(i==="sync"){const f=BC();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!c){const f=()=>{};return f.stop=En,f.resume=En,f.pause=En,f}}const l=rt;a.call=(f,y,v)=>An(f,l,y,v);let d=!1;i==="post"?a.scheduler=f=>{kt(f,l&&l.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,y)=>{y?f():Fl(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,l&&(f.id=l.uid,f.i=l))};const h=nC(n,e,a);return _i&&(u?u.push(h):c&&h()),h}function KC(n,e,t){const r=this.proxy,o=Ke(n)?n.includes(".")?Xp(r,n):()=>r[n]:n.bind(r,r);let i;se(e)?i=e:(i=e.handler,t=e);const s=Pi(this),a=Jp(o,i.bind(r),t);return s(),a}function Xp(n,e){const t=e.split(".");return()=>{let r=n;for(let o=0;o<t.length&&r;o++)r=r[t[o]];return r}}const jC=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${Vt(e)}Modifiers`]||n[`${Lr(e)}Modifiers`];function GC(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||Ie;let o=t;const i=e.startsWith("update:"),s=i&&jC(r,e.slice(7));s&&(s.trim&&(o=t.map(l=>Ke(l)?l.trim():l)),s.number&&(o=t.map(wv)));let a,c=r[a=Ja(e)]||r[a=Ja(Vt(e))];!c&&i&&(c=r[a=Ja(Lr(e))]),c&&An(c,n,6,o);const u=r[a+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,An(u,n,6,o)}}function Zp(n,e,t=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const i=n.emits;let s={},a=!1;if(!se(n)){const c=u=>{const l=Zp(u,e,!0);l&&(a=!0,st(s,l))};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!i&&!a?(De(n)&&r.set(n,null),null):(re(i)?i.forEach(c=>s[c]=null):st(s,i),De(n)&&r.set(n,s),s)}function sa(n,e){return!n||!Xs(e)?!1:(e=e.slice(2).replace(/Once$/,""),we(n,e[0].toLowerCase()+e.slice(1))||we(n,Lr(e))||we(n,e))}function Dd(n){const{type:e,vnode:t,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:a,emit:c,render:u,renderCache:l,props:d,data:h,setupState:f,ctx:y,inheritAttrs:v}=n,E=Es(n);let R,O;try{if(t.shapeFlag&4){const P=o||r,B=P;R=_n(u.call(B,P,l,d,f,h,y)),O=a}else{const P=e;R=_n(P.length>1?P(d,{attrs:a,slots:s,emit:c}):P(d,null)),O=e.props?a:VC(a)}}catch(P){oi.length=0,oa(P,n,1),R=x(mo)}let M=R;if(O&&v!==!1){const P=Object.keys(O),{shapeFlag:B}=M;P.length&&B&7&&(i&&P.some(kl)&&(O=WC(O,i)),M=_o(M,O,!1,!0))}return t.dirs&&(M=_o(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(t.dirs):t.dirs),t.transition&&Bl(M,t.transition),R=M,Es(E),R}const VC=n=>{let e;for(const t in n)(t==="class"||t==="style"||Xs(t))&&((e||(e={}))[t]=n[t]);return e},WC=(n,e)=>{const t={};for(const r in n)(!kl(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function zC(n,e,t){const{props:r,children:o,component:i}=n,{props:s,children:a,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return r?xd(r,s,u):!!s;if(c&8){const l=e.dynamicProps;for(let d=0;d<l.length;d++){const h=l[d];if(s[h]!==r[h]&&!sa(u,h))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?xd(r,s,u):!0:!!s;return!1}function xd(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==n[i]&&!sa(t,i))return!0}return!1}function qC({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const eg=n=>n.__isSuspense;function YC(n,e){e&&e.pendingBranch?re(n)?e.effects.push(...n):e.effects.push(n):iC(n)}const Bt=Symbol.for("v-fgt"),aa=Symbol.for("v-txt"),mo=Symbol.for("v-cmt"),ss=Symbol.for("v-stc"),oi=[];let Dt=null;function Fe(n=!1){oi.push(Dt=n?null:[])}function QC(){oi.pop(),Dt=oi[oi.length-1]||null}let mi=1;function Ld(n,e=!1){mi+=n,n<0&&Dt&&e&&(Dt.hasOnce=!0)}function tg(n){return n.dynamicChildren=mi>0?Dt||so:null,QC(),mi>0&&Dt&&Dt.push(n),n}function ze(n,e,t,r,o,i){return tg(m(n,e,t,r,o,i,!0))}function Hd(n,e,t,r,o){return tg(x(n,e,t,r,o,!0))}function bs(n){return n?n.__v_isVNode===!0:!1}function jo(n,e){return n.type===e.type&&n.key===e.key}const ng=({key:n})=>n??null,as=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Ke(n)||it(n)||se(n)?{i:Mt,r:n,k:e,f:!!t}:n:null);function m(n,e=null,t=null,r=0,o=null,i=n===Bt?0:1,s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&ng(e),ref:e&&as(e),scopeId:kp,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Mt};return a?(Gl(c,t),i&128&&n.normalize(c)):t&&(c.shapeFlag|=Ke(t)?8:16),mi>0&&!s&&Dt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Dt.push(c),c}const x=JC;function JC(n,e=null,t=null,r=0,o=null,i=!1){if((!n||n===CC)&&(n=mo),bs(n)){const a=_o(n,e,!0);return t&&Gl(a,t),mi>0&&!i&&Dt&&(a.shapeFlag&6?Dt[Dt.indexOf(n)]=a:Dt.push(a)),a.patchFlag=-2,a}if(cE(n)&&(n=n.__vccOpts),e){e=XC(e);let{class:a,style:c}=e;a&&!Ke(a)&&(e.class=Jn(a)),De(c)&&($l(c)&&!re(c)&&(c=st({},c)),e.style=Nl(c))}const s=Ke(n)?1:eg(n)?128:aC(n)?64:De(n)?4:se(n)?2:0;return m(n,e,t,r,o,s,i,!0)}function XC(n){return n?$l(n)||jp(n)?st({},n):n:null}function _o(n,e,t=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:a,transition:c}=n,u=e?ZC(o||{},e):o,l={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&ng(u),ref:e&&e.ref?t&&i?re(i)?i.concat(as(e)):[i,as(e)]:as(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Bt?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:c,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&_o(n.ssContent),ssFallback:n.ssFallback&&_o(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return c&&r&&Bl(l,c.clone(l)),l}function X(n=" ",e=0){return x(aa,null,n,e)}function xn(n,e){const t=x(ss,null,n);return t.staticCount=e,t}function _n(n){return n==null||typeof n=="boolean"?x(mo):re(n)?x(Bt,null,n.slice()):bs(n)?qn(n):x(aa,null,String(n))}function qn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:_o(n)}function Gl(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(re(e))t=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),Gl(n,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!jp(e)?e._ctx=Mt:o===3&&Mt&&(Mt.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else se(e)?(e={default:e,_ctx:Mt},t=32):(e=String(e),r&64?(t=16,e=[X(e)]):t=8);n.children=e,n.shapeFlag|=t}function ZC(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=Jn([e.class,r.class]));else if(o==="style")e.style=Nl([e.style,r.style]);else if(Xs(o)){const i=e[o],s=r[o];s&&i!==s&&!(re(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function fn(n,e,t,r=null){An(n,e,7,[t,r])}const eE=Fp();let tE=0;function nE(n,e,t){const r=n.type,o=(e?e.appContext:n.appContext)||eE,i={uid:tE++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new op(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vp(r,o),emitsOptions:Zp(r,o),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:r.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=GC.bind(null,i),n.ce&&n.ce(i),i}let rt=null,As,Gc;{const n=na(),e=(t,r)=>{let o;return(o=n[t])||(o=n[t]=[]),o.push(r),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};As=e("__VUE_INSTANCE_SETTERS__",t=>rt=t),Gc=e("__VUE_SSR_SETTERS__",t=>_i=t)}const Pi=n=>{const e=rt;return As(n),n.scope.on(),()=>{n.scope.off(),As(e)}},Ud=()=>{rt&&rt.scope.off(),As(null)};function rg(n){return n.vnode.shapeFlag&4}let _i=!1;function rE(n,e=!1,t=!1){e&&Gc(e);const{props:r,children:o}=n.vnode,i=rg(n);OC(n,r,i,e),DC(n,o,t||e);const s=i?oE(n,e):void 0;return e&&Gc(!1),s}function oE(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,wC);const{setup:r}=t;if(r){Un();const o=n.setupContext=r.length>1?sE(n):null,i=Pi(n),s=Oi(r,n,0,[n.props,o]),a=Jf(s);if($n(),i(),(a||n.sp)&&!ni(n)&&Pp(n),a){if(s.then(Ud,Ud),e)return s.then(c=>{$d(n,c)}).catch(c=>{oa(c,n,0)});n.asyncDep=s}else $d(n,s)}else og(n)}function $d(n,e,t){se(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:De(e)&&(n.setupState=Tp(e)),og(n)}function og(n,e,t){const r=n.type;n.render||(n.render=r.render||En);{const o=Pi(n);Un();try{TC(n)}finally{$n(),o()}}}const iE={get(n,e){return et(n,"get",""),n[e]}};function sE(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,iE),slots:n.slots,emit:n.emit,expose:e}}function ca(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Tp(Yv(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in ri)return ri[t](n)},has(e,t){return t in e||t in ri}})):n.proxy}function aE(n,e=!0){return se(n)?n.displayName||n.name:n.name||e&&n.__name}function cE(n){return se(n)&&"__vccOpts"in n}const Nt=(n,e)=>eC(n,e,_i);function ig(n,e,t){const r=arguments.length;return r===2?De(e)&&!re(e)?bs(e)?x(n,null,[e]):x(n,e):x(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&bs(t)&&(t=[t]),x(n,e,t))}const lE="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vc;const Fd=typeof window<"u"&&window.trustedTypes;if(Fd)try{Vc=Fd.createPolicy("vue",{createHTML:n=>n})}catch{}const sg=Vc?n=>Vc.createHTML(n):n=>n,uE="http://www.w3.org/2000/svg",dE="http://www.w3.org/1998/Math/MathML",On=typeof document<"u"?document:null,Bd=On&&On.createElement("template"),hE={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const o=e==="svg"?On.createElementNS(uE,n):e==="mathml"?On.createElementNS(dE,n):t?On.createElement(n,{is:t}):On.createElement(n);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>On.createTextNode(n),createComment:n=>On.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>On.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,o,i){const s=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{Bd.innerHTML=sg(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const a=Bd.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},fE=Symbol("_vtc");function pE(n,e,t){const r=n[fE];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Ss=Symbol("_vod"),ag=Symbol("_vsh"),oo={beforeMount(n,{value:e},{transition:t}){n[Ss]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Go(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),Go(n,!0),r.enter(n)):r.leave(n,()=>{Go(n,!1)}):Go(n,e))},beforeUnmount(n,{value:e}){Go(n,e)}};function Go(n,e){n.style.display=e?n[Ss]:"none",n[ag]=!e}const gE=Symbol(""),mE=/(^|;)\s*display\s*:/;function _E(n,e,t){const r=n.style,o=Ke(t);let i=!1;if(t&&!o){if(e)if(Ke(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();t[a]==null&&cs(r,a,"")}else for(const s in e)t[s]==null&&cs(r,s,"");for(const s in t)s==="display"&&(i=!0),cs(r,s,t[s])}else if(o){if(e!==t){const s=r[gE];s&&(t+=";"+s),r.cssText=t,i=mE.test(t)}}else e&&n.removeAttribute("style");Ss in n&&(n[Ss]=i?r.display:"",n[ag]&&(r.display="none"))}const Kd=/\s*!important$/;function cs(n,e,t){if(re(t))t.forEach(r=>cs(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=yE(n,e);Kd.test(t)?n.setProperty(Lr(r),t.replace(Kd,""),"important"):n[r]=t}}const jd=["Webkit","Moz","ms"],ic={};function yE(n,e){const t=ic[e];if(t)return t;let r=Vt(e);if(r!=="filter"&&r in n)return ic[e]=r;r=ta(r);for(let o=0;o<jd.length;o++){const i=jd[o]+r;if(i in n)return ic[e]=i}return e}const Gd="http://www.w3.org/1999/xlink";function Vd(n,e,t,r,o,i=Rv(e)){r&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Gd,e.slice(6,e.length)):n.setAttributeNS(Gd,e,t):t==null||i&&!tp(t)?n.removeAttribute(e):n.setAttribute(e,i?"":lr(t)?String(t):t)}function Wd(n,e,t,r,o){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?sg(t):t);return}const i=n.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?n.getAttribute("value")||"":n.value,c=t==null?n.type==="checkbox"?"on":"":String(t);(a!==c||!("_value"in n))&&(n.value=c),t==null&&n.removeAttribute(e),n._value=t;return}let s=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=tp(t):t==null&&a==="string"?(t="",s=!0):a==="number"&&(t=0,s=!0)}try{n[e]=t}catch{}s&&n.removeAttribute(o||e)}function vE(n,e,t,r){n.addEventListener(e,t,r)}function CE(n,e,t,r){n.removeEventListener(e,t,r)}const zd=Symbol("_vei");function EE(n,e,t,r,o=null){const i=n[zd]||(n[zd]={}),s=i[e];if(r&&s)s.value=r;else{const[a,c]=wE(e);if(r){const u=i[e]=AE(r,o);vE(n,a,u,c)}else s&&(CE(n,a,s,c),i[e]=void 0)}}const qd=/(?:Once|Passive|Capture)$/;function wE(n){let e;if(qd.test(n)){e={};let r;for(;r=n.match(qd);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Lr(n.slice(2)),e]}let sc=0;const TE=Promise.resolve(),bE=()=>sc||(TE.then(()=>sc=0),sc=Date.now());function AE(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;An(SE(r,t.value),e,5,[r])};return t.value=n,t.attached=bE(),t}function SE(n,e){if(re(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const Yd=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,IE=(n,e,t,r,o,i)=>{const s=o==="svg";e==="class"?pE(n,r,s):e==="style"?_E(n,t,r):Xs(e)?kl(e)||EE(n,e,t,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):RE(n,e,r,s))?(Wd(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Vd(n,e,r,s,i,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Ke(r))?Wd(n,Vt(e),r,i,e):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),Vd(n,e,r,s))};function RE(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&Yd(e)&&se(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=n.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Yd(e)&&Ke(t)?!1:e in n}const kE=["ctrl","shift","alt","meta"],OE={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>kE.some(t=>n[`${t}Key`]&&!e.includes(t))},Is=(n,e)=>{const t=n._withMods||(n._withMods={}),r=e.join(".");return t[r]||(t[r]=(o,...i)=>{for(let s=0;s<e.length;s++){const a=OE[e[s]];if(a&&a(o,e))return}return n(o,...i)})},PE=st({patchProp:IE},hE);let Qd;function NE(){return Qd||(Qd=LC(PE))}const ME=(...n)=>{const e=NE().createApp(...n),{mount:t}=e;return e.mount=r=>{const o=xE(r);if(!o)return;const i=e._component;!se(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=t(o,!1,DE(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function DE(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function xE(n){return Ke(n)?document.querySelector(n):n}function LE(){return cg().__VUE_DEVTOOLS_GLOBAL_HOOK__}function cg(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const HE=typeof Proxy=="function",UE="devtools-plugin:setup",$E="plugin:settings:set";let Gr,Wc;function FE(){var n;return Gr!==void 0||(typeof window<"u"&&window.performance?(Gr=!0,Wc=window.performance):typeof globalThis<"u"&&(!((n=globalThis.perf_hooks)===null||n===void 0)&&n.performance)?(Gr=!0,Wc=globalThis.perf_hooks.performance):Gr=!1),Gr}function BE(){return FE()?Wc.now():Date.now()}class KE{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const r={};if(e.settings)for(const s in e.settings){const a=e.settings[s];r[s]=a.defaultValue}const o=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const s=localStorage.getItem(o),a=JSON.parse(s);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(s){try{localStorage.setItem(o,JSON.stringify(s))}catch{}i=s},now(){return BE()}},t&&t.on($E,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:a,args:c,resolve:u})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function jE(n,e){const t=n,r=cg(),o=LE(),i=HE&&t.enableEarlyProxy;if(o&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))o.emit(UE,n,e);else{const s=i?new KE(t,o):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:t,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var lg="store";function GE(n){return n===void 0&&(n=null),en(n!==null?n:lg)}function Oo(n,e){Object.keys(n).forEach(function(t){return e(n[t],t)})}function ug(n){return n!==null&&typeof n=="object"}function VE(n){return n&&typeof n.then=="function"}function WE(n,e){return function(){return n(e)}}function dg(n,e,t){return e.indexOf(n)<0&&(t&&t.prepend?e.unshift(n):e.push(n)),function(){var r=e.indexOf(n);r>-1&&e.splice(r,1)}}function hg(n,e){n._actions=Object.create(null),n._mutations=Object.create(null),n._wrappedGetters=Object.create(null),n._modulesNamespaceMap=Object.create(null);var t=n.state;la(n,t,[],n._modules.root,!0),Vl(n,t,e)}function Vl(n,e,t){var r=n._state,o=n._scope;n.getters={},n._makeLocalGettersCache=Object.create(null);var i=n._wrappedGetters,s={},a={},c=kv(!0);c.run(function(){Oo(i,function(u,l){s[l]=WE(u,n),a[l]=Nt(function(){return s[l]()}),Object.defineProperty(n.getters,l,{get:function(){return a[l].value},enumerable:!0})})}),n._state=ki({data:e}),n._scope=c,n.strict&&JE(n),r&&t&&n._withCommit(function(){r.data=null}),o&&o.stop()}function la(n,e,t,r,o){var i=!t.length,s=n._modules.getNamespace(t);if(r.namespaced&&(n._modulesNamespaceMap[s],n._modulesNamespaceMap[s]=r),!i&&!o){var a=Wl(e,t.slice(0,-1)),c=t[t.length-1];n._withCommit(function(){a[c]=r.state})}var u=r.context=zE(n,s,t);r.forEachMutation(function(l,d){var h=s+d;qE(n,h,l,u)}),r.forEachAction(function(l,d){var h=l.root?d:s+d,f=l.handler||l;YE(n,h,f,u)}),r.forEachGetter(function(l,d){var h=s+d;QE(n,h,l,u)}),r.forEachChild(function(l,d){la(n,e,t.concat(d),l,o)})}function zE(n,e,t){var r=e==="",o={dispatch:r?n.dispatch:function(i,s,a){var c=Rs(i,s,a),u=c.payload,l=c.options,d=c.type;return(!l||!l.root)&&(d=e+d),n.dispatch(d,u)},commit:r?n.commit:function(i,s,a){var c=Rs(i,s,a),u=c.payload,l=c.options,d=c.type;(!l||!l.root)&&(d=e+d),n.commit(d,u,l)}};return Object.defineProperties(o,{getters:{get:r?function(){return n.getters}:function(){return fg(n,e)}},state:{get:function(){return Wl(n.state,t)}}}),o}function fg(n,e){if(!n._makeLocalGettersCache[e]){var t={},r=e.length;Object.keys(n.getters).forEach(function(o){if(o.slice(0,r)===e){var i=o.slice(r);Object.defineProperty(t,i,{get:function(){return n.getters[o]},enumerable:!0})}}),n._makeLocalGettersCache[e]=t}return n._makeLocalGettersCache[e]}function qE(n,e,t,r){var o=n._mutations[e]||(n._mutations[e]=[]);o.push(function(s){t.call(n,r.state,s)})}function YE(n,e,t,r){var o=n._actions[e]||(n._actions[e]=[]);o.push(function(s){var a=t.call(n,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:n.getters,rootState:n.state},s);return VE(a)||(a=Promise.resolve(a)),n._devtoolHook?a.catch(function(c){throw n._devtoolHook.emit("vuex:error",c),c}):a})}function QE(n,e,t,r){n._wrappedGetters[e]||(n._wrappedGetters[e]=function(i){return t(r.state,r.getters,i.state,i.getters)})}function JE(n){ho(function(){return n._state.data},function(){},{deep:!0,flush:"sync"})}function Wl(n,e){return e.reduce(function(t,r){return t[r]},n)}function Rs(n,e,t){return ug(n)&&n.type&&(t=e,e=n,n=n.type),{type:n,payload:e,options:t}}var XE="vuex bindings",Jd="vuex:mutations",ac="vuex:actions",Vr="vuex",ZE=0;function ew(n,e){jE({id:"org.vuejs.vuex",app:n,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[XE]},function(t){t.addTimelineLayer({id:Jd,label:"Vuex Mutations",color:Xd}),t.addTimelineLayer({id:ac,label:"Vuex Actions",color:Xd}),t.addInspector({id:Vr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),t.on.getInspectorTree(function(r){if(r.app===n&&r.inspectorId===Vr)if(r.filter){var o=[];_g(o,e._modules.root,r.filter,""),r.rootNodes=o}else r.rootNodes=[mg(e._modules.root,"")]}),t.on.getInspectorState(function(r){if(r.app===n&&r.inspectorId===Vr){var o=r.nodeId;fg(e,o),r.state=rw(iw(e._modules,o),o==="root"?e.getters:e._makeLocalGettersCache,o)}}),t.on.editInspectorState(function(r){if(r.app===n&&r.inspectorId===Vr){var o=r.nodeId,i=r.path;o!=="root"&&(i=o.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,o){var i={};r.payload&&(i.payload=r.payload),i.state=o,t.notifyComponentUpdate(),t.sendInspectorTree(Vr),t.sendInspectorState(Vr),t.addTimelineEvent({layerId:Jd,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,o){var i={};r.payload&&(i.payload=r.payload),r._id=ZE++,r._time=Date.now(),i.state=o,t.addTimelineEvent({layerId:ac,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,o){var i={},s=Date.now()-r._time;i.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(i.payload=r.payload),i.state=o,t.addTimelineEvent({layerId:ac,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var Xd=8702998,tw=6710886,nw=16777215,pg={label:"namespaced",textColor:nw,backgroundColor:tw};function gg(n){return n&&n!=="root"?n.split("/").slice(-2,-1)[0]:"Root"}function mg(n,e){return{id:e||"root",label:gg(e),tags:n.namespaced?[pg]:[],children:Object.keys(n._children).map(function(t){return mg(n._children[t],e+t+"/")})}}function _g(n,e,t,r){r.includes(t)&&n.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[pg]:[]}),Object.keys(e._children).forEach(function(o){_g(n,e._children[o],t,r+o+"/")})}function rw(n,e,t){e=t==="root"?e:e[t];var r=Object.keys(e),o={state:Object.keys(n.state).map(function(s){return{key:s,editable:!0,value:n.state[s]}})};if(r.length){var i=ow(e);o.getters=Object.keys(i).map(function(s){return{key:s.endsWith("/")?gg(s):s,editable:!1,value:zc(function(){return i[s]})}})}return o}function ow(n){var e={};return Object.keys(n).forEach(function(t){var r=t.split("/");if(r.length>1){var o=e,i=r.pop();r.forEach(function(s){o[s]||(o[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),o=o[s]._custom.value}),o[i]=zc(function(){return n[t]})}else e[t]=zc(function(){return n[t]})}),e}function iw(n,e){var t=e.split("/").filter(function(r){return r});return t.reduce(function(r,o,i){var s=r[o];if(!s)throw new Error('Missing module "'+o+'" for path "'+e+'".');return i===t.length-1?s:s._children},e==="root"?n:n.root._children)}function zc(n){try{return n()}catch(e){return e}}var an=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},yg={namespaced:{configurable:!0}};yg.namespaced.get=function(){return!!this._rawModule.namespaced};an.prototype.addChild=function(e,t){this._children[e]=t};an.prototype.removeChild=function(e){delete this._children[e]};an.prototype.getChild=function(e){return this._children[e]};an.prototype.hasChild=function(e){return e in this._children};an.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};an.prototype.forEachChild=function(e){Oo(this._children,e)};an.prototype.forEachGetter=function(e){this._rawModule.getters&&Oo(this._rawModule.getters,e)};an.prototype.forEachAction=function(e){this._rawModule.actions&&Oo(this._rawModule.actions,e)};an.prototype.forEachMutation=function(e){this._rawModule.mutations&&Oo(this._rawModule.mutations,e)};Object.defineProperties(an.prototype,yg);var Hr=function(e){this.register([],e,!1)};Hr.prototype.get=function(e){return e.reduce(function(t,r){return t.getChild(r)},this.root)};Hr.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(r,o){return t=t.getChild(o),r+(t.namespaced?o+"/":"")},"")};Hr.prototype.update=function(e){vg([],this.root,e)};Hr.prototype.register=function(e,t,r){var o=this;r===void 0&&(r=!0);var i=new an(t,r);if(e.length===0)this.root=i;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],i)}t.modules&&Oo(t.modules,function(a,c){o.register(e.concat(c),a,r)})};Hr.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1],o=t.getChild(r);o&&o.runtime&&t.removeChild(r)};Hr.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1];return t?t.hasChild(r):!1};function vg(n,e,t){if(e.update(t),t.modules)for(var r in t.modules){if(!e.getChild(r))return;vg(n.concat(r),e.getChild(r),t.modules[r])}}function sw(n){return new wt(n)}var wt=function(e){var t=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var o=e.strict;o===void 0&&(o=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Hr(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var s=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(h,f){return c.call(s,h,f)},this.commit=function(h,f,y){return u.call(s,h,f,y)},this.strict=o;var l=this._modules.root.state;la(this,l,[],this._modules.root),Vl(this,l),r.forEach(function(d){return d(t)})},zl={state:{configurable:!0}};wt.prototype.install=function(e,t){e.provide(t||lg,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&ew(e,this)};zl.state.get=function(){return this._state.data};zl.state.set=function(n){};wt.prototype.commit=function(e,t,r){var o=this,i=Rs(e,t,r),s=i.type,a=i.payload,c={type:s,payload:a},u=this._mutations[s];u&&(this._withCommit(function(){u.forEach(function(d){d(a)})}),this._subscribers.slice().forEach(function(l){return l(c,o.state)}))};wt.prototype.dispatch=function(e,t){var r=this,o=Rs(e,t),i=o.type,s=o.payload,a={type:i,payload:s},c=this._actions[i];if(c){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(a,r.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(l){return l(s)})):c[0](s);return new Promise(function(l,d){u.then(function(h){try{r._actionSubscribers.filter(function(f){return f.after}).forEach(function(f){return f.after(a,r.state)})}catch{}l(h)},function(h){try{r._actionSubscribers.filter(function(f){return f.error}).forEach(function(f){return f.error(a,r.state,h)})}catch{}d(h)})})}};wt.prototype.subscribe=function(e,t){return dg(e,this._subscribers,t)};wt.prototype.subscribeAction=function(e,t){var r=typeof e=="function"?{before:e}:e;return dg(r,this._actionSubscribers,t)};wt.prototype.watch=function(e,t,r){var o=this;return ho(function(){return e(o.state,o.getters)},t,Object.assign({},r))};wt.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._state.data=e})};wt.prototype.registerModule=function(e,t,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,t),la(this,this.state,e,this._modules.get(e),r.preserveState),Vl(this,this.state)};wt.prototype.unregisterModule=function(e){var t=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Wl(t.state,e.slice(0,-1));delete r[e[e.length-1]]}),hg(this)};wt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};wt.prototype.hotUpdate=function(e){this._modules.update(e),hg(this,!0)};wt.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t};Object.defineProperties(wt.prototype,zl);var aw=da(function(n,e){var t={};return ua(e).forEach(function(r){var o=r.key,i=r.val;t[o]=function(){var a=this.$store.state,c=this.$store.getters;if(n){var u=ha(this.$store,"mapState",n);if(!u)return;a=u.context.state,c=u.context.getters}return typeof i=="function"?i.call(this,a,c):a[i]},t[o].vuex=!0}),t}),cw=da(function(n,e){var t={};return ua(e).forEach(function(r){var o=r.key,i=r.val;t[o]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var u=this.$store.commit;if(n){var l=ha(this.$store,"mapMutations",n);if(!l)return;u=l.context.commit}return typeof i=="function"?i.apply(this,[u].concat(a)):u.apply(this.$store,[i].concat(a))}}),t}),lw=da(function(n,e){var t={};return ua(e).forEach(function(r){var o=r.key,i=r.val;i=n+i,t[o]=function(){if(!(n&&!ha(this.$store,"mapGetters",n)))return this.$store.getters[i]},t[o].vuex=!0}),t}),uw=da(function(n,e){var t={};return ua(e).forEach(function(r){var o=r.key,i=r.val;t[o]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var u=this.$store.dispatch;if(n){var l=ha(this.$store,"mapActions",n);if(!l)return;u=l.context.dispatch}return typeof i=="function"?i.apply(this,[u].concat(a)):u.apply(this.$store,[i].concat(a))}}),t}),jn=function(n){return{mapState:aw.bind(null,n),mapGetters:lw.bind(null,n),mapMutations:cw.bind(null,n),mapActions:uw.bind(null,n)}};function ua(n){return dw(n)?Array.isArray(n)?n.map(function(e){return{key:e,val:e}}):Object.keys(n).map(function(e){return{key:e,val:n[e]}}):[]}function dw(n){return Array.isArray(n)||ug(n)}function da(n){return function(e,t){return typeof e!="string"?(t=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),n(e,t)}}function ha(n,e,t){var r=n._modulesNamespaceMap[t];return r}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Xr=typeof document<"u";function Cg(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function hw(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Cg(n.default)}const Ce=Object.assign;function cc(n,e){const t={};for(const r in e){const o=e[r];t[r]=nn(o)?o.map(n):n(o)}return t}const ii=()=>{},nn=Array.isArray,Eg=/#/g,fw=/&/g,pw=/\//g,gw=/=/g,mw=/\?/g,wg=/\+/g,_w=/%5B/g,yw=/%5D/g,Tg=/%5E/g,vw=/%60/g,bg=/%7B/g,Cw=/%7C/g,Ag=/%7D/g,Ew=/%20/g;function ql(n){return encodeURI(""+n).replace(Cw,"|").replace(_w,"[").replace(yw,"]")}function ww(n){return ql(n).replace(bg,"{").replace(Ag,"}").replace(Tg,"^")}function qc(n){return ql(n).replace(wg,"%2B").replace(Ew,"+").replace(Eg,"%23").replace(fw,"%26").replace(vw,"`").replace(bg,"{").replace(Ag,"}").replace(Tg,"^")}function Tw(n){return qc(n).replace(gw,"%3D")}function bw(n){return ql(n).replace(Eg,"%23").replace(mw,"%3F")}function Aw(n){return n==null?"":bw(n).replace(pw,"%2F")}function yi(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const Sw=/\/$/,Iw=n=>n.replace(Sw,"");function lc(n,e,t="/"){let r,o={},i="",s="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),o=n(i)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=Pw(r??e,t),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:yi(s)}}function Rw(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Zd(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function kw(n,e,t){const r=e.matched.length-1,o=t.matched.length-1;return r>-1&&r===o&&yo(e.matched[r],t.matched[o])&&Sg(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function yo(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function Sg(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!Ow(n[t],e[t]))return!1;return!0}function Ow(n,e){return nn(n)?eh(n,e):nn(e)?eh(e,n):n===e}function eh(n,e){return nn(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function Pw(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let i=t.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+r.slice(s).join("/")}const Vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var vi;(function(n){n.pop="pop",n.push="push"})(vi||(vi={}));var si;(function(n){n.back="back",n.forward="forward",n.unknown=""})(si||(si={}));function Nw(n){if(!n)if(Xr){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Iw(n)}const Mw=/^[^#]+#/;function Dw(n,e){return n.replace(Mw,"#")+e}function xw(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const fa=()=>({left:window.scrollX,top:window.scrollY});function Lw(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=xw(o,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function th(n,e){return(history.state?history.state.position-e:-1)+n}const Yc=new Map;function Hw(n,e){Yc.set(n,e)}function Uw(n){const e=Yc.get(n);return Yc.delete(n),e}let $w=()=>location.protocol+"//"+location.host;function Ig(n,e){const{pathname:t,search:r,hash:o}=e,i=n.indexOf("#");if(i>-1){let a=o.includes(n.slice(i))?n.slice(i).length:1,c=o.slice(a);return c[0]!=="/"&&(c="/"+c),Zd(c,"")}return Zd(t,n)+r+o}function Fw(n,e,t,r){let o=[],i=[],s=null;const a=({state:h})=>{const f=Ig(n,location),y=t.value,v=e.value;let E=0;if(h){if(t.value=f,e.value=h,s&&s===y){s=null;return}E=v?h.position-v.position:0}else r(f);o.forEach(R=>{R(t.value,y,{delta:E,type:vi.pop,direction:E?E>0?si.forward:si.back:si.unknown})})};function c(){s=t.value}function u(h){o.push(h);const f=()=>{const y=o.indexOf(h);y>-1&&o.splice(y,1)};return i.push(f),f}function l(){const{history:h}=window;h.state&&h.replaceState(Ce({},h.state,{scroll:fa()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:c,listen:u,destroy:d}}function nh(n,e,t,r=!1,o=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:o?fa():null}}function Bw(n){const{history:e,location:t}=window,r={value:Ig(n,t)},o={value:e.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,u,l){const d=n.indexOf("#"),h=d>-1?(t.host&&document.querySelector("base")?n:n.slice(d))+c:$w()+n+c;try{e[l?"replaceState":"pushState"](u,"",h),o.value=u}catch(f){console.error(f),t[l?"replace":"assign"](h)}}function s(c,u){const l=Ce({},e.state,nh(o.value.back,c,o.value.forward,!0),u,{position:o.value.position});i(c,l,!0),r.value=c}function a(c,u){const l=Ce({},o.value,e.state,{forward:c,scroll:fa()});i(l.current,l,!0);const d=Ce({},nh(r.value,c,null),{position:l.position+1},u);i(c,d,!1),r.value=c}return{location:r,state:o,push:a,replace:s}}function Kw(n){n=Nw(n);const e=Bw(n),t=Fw(n,e.state,e.location,e.replace);function r(i,s=!0){s||t.pauseListeners(),history.go(i)}const o=Ce({location:"",base:n,go:r,createHref:Dw.bind(null,n)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function jw(n){return typeof n=="string"||n&&typeof n=="object"}function Rg(n){return typeof n=="string"||typeof n=="symbol"}const kg=Symbol("");var rh;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(rh||(rh={}));function vo(n,e){return Ce(new Error,{type:n,[kg]:!0},e)}function Rn(n,e){return n instanceof Error&&kg in n&&(e==null||!!(n.type&e))}const oh="[^/]+?",Gw={sensitive:!1,strict:!1,start:!0,end:!0},Vw=/[.+*?^${}()[\]/\\]/g;function Ww(n,e){const t=Ce({},Gw,e),r=[];let o=t.start?"^":"";const i=[];for(const u of n){const l=u.length?[]:[90];t.strict&&!u.length&&(o+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(t.sensitive?.25:0);if(h.type===0)d||(o+="/"),o+=h.value.replace(Vw,"\\$&"),f+=40;else if(h.type===1){const{value:y,repeatable:v,optional:E,regexp:R}=h;i.push({name:y,repeatable:v,optional:E});const O=R||oh;if(O!==oh){f+=10;try{new RegExp(`(${O})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${y}" (${O}): `+P.message)}}let M=v?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;d||(M=E&&u.length<2?`(?:/${M})`:"/"+M),E&&(M+="?"),o+=M,f+=20,E&&(f+=-8),v&&(f+=-20),O===".*"&&(f+=-50)}l.push(f)}r.push(l)}if(t.strict&&t.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const s=new RegExp(o,t.sensitive?"":"i");function a(u){const l=u.match(s),d={};if(!l)return null;for(let h=1;h<l.length;h++){const f=l[h]||"",y=i[h-1];d[y.name]=f&&y.repeatable?f.split("/"):f}return d}function c(u){let l="",d=!1;for(const h of n){(!d||!l.endsWith("/"))&&(l+="/"),d=!1;for(const f of h)if(f.type===0)l+=f.value;else if(f.type===1){const{value:y,repeatable:v,optional:E}=f,R=y in u?u[y]:"";if(nn(R)&&!v)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const O=nn(R)?R.join("/"):R;if(!O)if(E)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);l+=O}}return l||"/"}return{re:s,score:r,keys:i,parse:a,stringify:c}}function zw(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Og(n,e){let t=0;const r=n.score,o=e.score;for(;t<r.length&&t<o.length;){const i=zw(r[t],o[t]);if(i)return i;t++}if(Math.abs(o.length-r.length)===1){if(ih(r))return 1;if(ih(o))return-1}return o.length-r.length}function ih(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const qw={type:0,value:""},Yw=/[a-zA-Z0-9_]/;function Qw(n){if(!n)return[[]];if(n==="/")return[[qw]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(f){throw new Error(`ERR (${t})/"${u}": ${f}`)}let t=0,r=t;const o=[];let i;function s(){i&&o.push(i),i=[]}let a=0,c,u="",l="";function d(){u&&(t===0?i.push({type:0,value:u}):t===1||t===2||t===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;a<n.length;){if(c=n[a++],c==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:c==="/"?(u&&d(),s()):c===":"?(d(),t=1):h();break;case 4:h(),t=r;break;case 1:c==="("?t=2:Yw.test(c)?h():(d(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:t=3:l+=c;break;case 3:d(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),s(),o}function Jw(n,e,t){const r=Ww(Qw(n.path),t),o=Ce(r,{record:n,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function Xw(n,e){const t=[],r=new Map;e=lh({strict:!1,end:!0,sensitive:!1},e);function o(d){return r.get(d)}function i(d,h,f){const y=!f,v=ah(d);v.aliasOf=f&&f.record;const E=lh(e,d),R=[v];if("alias"in d){const P=typeof d.alias=="string"?[d.alias]:d.alias;for(const B of P)R.push(ah(Ce({},v,{components:f?f.record.components:v.components,path:B,aliasOf:f?f.record:v})))}let O,M;for(const P of R){const{path:B}=P;if(h&&B[0]!=="/"){const q=h.record.path,Q=q[q.length-1]==="/"?"":"/";P.path=h.record.path+(B&&Q+B)}if(O=Jw(P,h,E),f?f.alias.push(O):(M=M||O,M!==O&&M.alias.push(O),y&&d.name&&!ch(O)&&s(d.name)),Pg(O)&&c(O),v.children){const q=v.children;for(let Q=0;Q<q.length;Q++)i(q[Q],O,f&&f.children[Q])}f=f||O}return M?()=>{s(M)}:ii}function s(d){if(Rg(d)){const h=r.get(d);h&&(r.delete(d),t.splice(t.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=t.indexOf(d);h>-1&&(t.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function a(){return t}function c(d){const h=tT(d,t);t.splice(h,0,d),d.record.name&&!ch(d)&&r.set(d.record.name,d)}function u(d,h){let f,y={},v,E;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw vo(1,{location:d});E=f.record.name,y=Ce(sh(h.params,f.keys.filter(M=>!M.optional).concat(f.parent?f.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),d.params&&sh(d.params,f.keys.map(M=>M.name))),v=f.stringify(y)}else if(d.path!=null)v=d.path,f=t.find(M=>M.re.test(v)),f&&(y=f.parse(v),E=f.record.name);else{if(f=h.name?r.get(h.name):t.find(M=>M.re.test(h.path)),!f)throw vo(1,{location:d,currentLocation:h});E=f.record.name,y=Ce({},h.params,d.params),v=f.stringify(y)}const R=[];let O=f;for(;O;)R.unshift(O.record),O=O.parent;return{name:E,path:v,params:y,matched:R,meta:eT(R)}}n.forEach(d=>i(d));function l(){t.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:s,clearRoutes:l,getRoutes:a,getRecordMatcher:o}}function sh(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function ah(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:Zw(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Zw(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="object"?t[r]:t;return e}function ch(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function eT(n){return n.reduce((e,t)=>Ce(e,t.meta),{})}function lh(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function tT(n,e){let t=0,r=e.length;for(;t!==r;){const i=t+r>>1;Og(n,e[i])<0?r=i:t=i+1}const o=nT(n);return o&&(r=e.lastIndexOf(o,r-1)),r}function nT(n){let e=n;for(;e=e.parent;)if(Pg(e)&&Og(n,e)===0)return e}function Pg({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function rT(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(wg," "),s=i.indexOf("="),a=yi(s<0?i:i.slice(0,s)),c=s<0?null:yi(i.slice(s+1));if(a in e){let u=e[a];nn(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function uh(n){let e="";for(let t in n){const r=n[t];if(t=Tw(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(nn(r)?r.map(i=>i&&qc(i)):[r&&qc(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function oT(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=nn(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}const iT=Symbol(""),dh=Symbol(""),pa=Symbol(""),Ng=Symbol(""),Qc=Symbol("");function Vo(){let n=[];function e(r){return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Yn(n,e,t,r,o,i=s=>s()){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,c)=>{const u=h=>{h===!1?c(vo(4,{from:t,to:e})):h instanceof Error?c(h):jw(h)?c(vo(2,{from:e,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),a())},l=i(()=>n.call(r&&r.instances[o],e,t,u));let d=Promise.resolve(l);n.length<3&&(d=d.then(u)),d.catch(h=>c(h))})}function uc(n,e,t,r,o=i=>i()){const i=[];for(const s of n)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(Cg(c)){const l=(c.__vccOpts||c)[e];l&&i.push(Yn(l,t,r,s,a,o))}else{let u=c();i.push(()=>u.then(l=>{if(!l)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const d=hw(l)?l.default:l;s.mods[a]=l,s.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Yn(f,t,r,s,a,o)()}))}}return i}function hh(n){const e=en(pa),t=en(Ng),r=Nt(()=>{const c=Pt(n.to);return e.resolve(c)}),o=Nt(()=>{const{matched:c}=r.value,{length:u}=c,l=c[u-1],d=t.matched;if(!l||!d.length)return-1;const h=d.findIndex(yo.bind(null,l));if(h>-1)return h;const f=fh(c[u-2]);return u>1&&fh(l)===f&&d[d.length-1].path!==f?d.findIndex(yo.bind(null,c[u-2])):h}),i=Nt(()=>o.value>-1&&lT(t.params,r.value.params)),s=Nt(()=>o.value>-1&&o.value===t.matched.length-1&&Sg(t.params,r.value.params));function a(c={}){if(cT(c)){const u=e[Pt(n.replace)?"replace":"push"](Pt(n.to)).catch(ii);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Nt(()=>r.value.href),isActive:i,isExactActive:s,navigate:a}}function sT(n){return n.length===1?n[0]:n}const aT=Op({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:hh,setup(n,{slots:e}){const t=ki(hh(n)),{options:r}=en(pa),o=Nt(()=>({[ph(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[ph(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&sT(e.default(t));return n.custom?i:ig("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},i)}}}),yr=aT;function cT(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function lT(n,e){for(const t in e){const r=e[t],o=n[t];if(typeof r=="string"){if(r!==o)return!1}else if(!nn(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function fh(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const ph=(n,e,t)=>n??e??t,uT=Op({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=en(Qc),o=Nt(()=>n.route||r.value),i=en(dh,0),s=Nt(()=>{let u=Pt(i);const{matched:l}=o.value;let d;for(;(d=l[u])&&!d.components;)u++;return u}),a=Nt(()=>o.value.matched[s.value]);is(dh,Nt(()=>s.value+1)),is(iT,a),is(Qc,o);const c=Ep();return ho(()=>[c.value,a.value,n.name],([u,l,d],[h,f,y])=>{l&&(l.instances[d]=u,f&&f!==l&&u&&u===h&&(l.leaveGuards.size||(l.leaveGuards=f.leaveGuards),l.updateGuards.size||(l.updateGuards=f.updateGuards))),u&&l&&(!f||!yo(l,f)||!h)&&(l.enterCallbacks[d]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=o.value,l=n.name,d=a.value,h=d&&d.components[l];if(!h)return gh(t.default,{Component:h,route:u});const f=d.props[l],y=f?f===!0?u.params:typeof f=="function"?f(u):f:null,E=ig(h,Ce({},y,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(d.instances[l]=null)},ref:c}));return gh(t.default,{Component:E,route:u})||E}}});function gh(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const Mg=uT;function dT(n){const e=Xw(n.routes,n),t=n.parseQuery||rT,r=n.stringifyQuery||uh,o=n.history,i=Vo(),s=Vo(),a=Vo(),c=Qv(Vn);let u=Vn;Xr&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=cc.bind(null,A=>""+A),d=cc.bind(null,Aw),h=cc.bind(null,yi);function f(A,V){let K,z;return Rg(A)?(K=e.getRecordMatcher(A),z=V):z=A,e.addRoute(z,K)}function y(A){const V=e.getRecordMatcher(A);V&&e.removeRoute(V)}function v(){return e.getRoutes().map(A=>A.record)}function E(A){return!!e.getRecordMatcher(A)}function R(A,V){if(V=Ce({},V||c.value),typeof A=="string"){const C=lc(t,A,V.path),I=e.resolve({path:C.path},V),N=o.createHref(C.fullPath);return Ce(C,I,{params:h(I.params),hash:yi(C.hash),redirectedFrom:void 0,href:N})}let K;if(A.path!=null)K=Ce({},A,{path:lc(t,A.path,V.path).path});else{const C=Ce({},A.params);for(const I in C)C[I]==null&&delete C[I];K=Ce({},A,{params:d(C)}),V.params=d(V.params)}const z=e.resolve(K,V),ve=A.hash||"";z.params=l(h(z.params));const p=Rw(r,Ce({},A,{hash:ww(ve),path:z.path})),g=o.createHref(p);return Ce({fullPath:p,hash:ve,query:r===uh?oT(A.query):A.query||{}},z,{redirectedFrom:void 0,href:g})}function O(A){return typeof A=="string"?lc(t,A,c.value.path):Ce({},A)}function M(A,V){if(u!==A)return vo(8,{from:V,to:A})}function P(A){return Q(A)}function B(A){return P(Ce(O(A),{replace:!0}))}function q(A){const V=A.matched[A.matched.length-1];if(V&&V.redirect){const{redirect:K}=V;let z=typeof K=="function"?K(A):K;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=O(z):{path:z},z.params={}),Ce({query:A.query,hash:A.hash,params:z.path!=null?{}:A.params},z)}}function Q(A,V){const K=u=R(A),z=c.value,ve=A.state,p=A.force,g=A.replace===!0,C=q(K);if(C)return Q(Ce(O(C),{state:typeof C=="object"?Ce({},ve,C.state):ve,force:p,replace:g}),V||K);const I=K;I.redirectedFrom=V;let N;return!p&&kw(r,z,K)&&(N=vo(16,{to:I,from:z}),gt(z,z,!0,!1)),(N?Promise.resolve(N):ge(I,z)).catch(k=>Rn(k)?Rn(k,2)?k:bt(k):fe(k,I,z)).then(k=>{if(k){if(Rn(k,2))return Q(Ce({replace:g},O(k.to),{state:typeof k.to=="object"?Ce({},ve,k.to.state):ve,force:p}),V||I)}else k=je(I,z,!0,g,ve);return Ne(I,z,k),k})}function he(A,V){const K=M(A,V);return K?Promise.reject(K):Promise.resolve()}function me(A){const V=At.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(A):A()}function ge(A,V){let K;const[z,ve,p]=hT(A,V);K=uc(z.reverse(),"beforeRouteLeave",A,V);for(const C of z)C.leaveGuards.forEach(I=>{K.push(Yn(I,A,V))});const g=he.bind(null,A,V);return K.push(g),We(K).then(()=>{K=[];for(const C of i.list())K.push(Yn(C,A,V));return K.push(g),We(K)}).then(()=>{K=uc(ve,"beforeRouteUpdate",A,V);for(const C of ve)C.updateGuards.forEach(I=>{K.push(Yn(I,A,V))});return K.push(g),We(K)}).then(()=>{K=[];for(const C of p)if(C.beforeEnter)if(nn(C.beforeEnter))for(const I of C.beforeEnter)K.push(Yn(I,A,V));else K.push(Yn(C.beforeEnter,A,V));return K.push(g),We(K)}).then(()=>(A.matched.forEach(C=>C.enterCallbacks={}),K=uc(p,"beforeRouteEnter",A,V,me),K.push(g),We(K))).then(()=>{K=[];for(const C of s.list())K.push(Yn(C,A,V));return K.push(g),We(K)}).catch(C=>Rn(C,8)?C:Promise.reject(C))}function Ne(A,V,K){a.list().forEach(z=>me(()=>z(A,V,K)))}function je(A,V,K,z,ve){const p=M(A,V);if(p)return p;const g=V===Vn,C=Xr?history.state:{};K&&(z||g?o.replace(A.fullPath,Ce({scroll:g&&C&&C.scroll},ve)):o.push(A.fullPath,ve)),c.value=A,gt(A,V,K,g),bt()}let ke;function Tt(){ke||(ke=o.listen((A,V,K)=>{if(!St.listening)return;const z=R(A),ve=q(z);if(ve){Q(Ce(ve,{replace:!0,force:!0}),z).catch(ii);return}u=z;const p=c.value;Xr&&Hw(th(p.fullPath,K.delta),fa()),ge(z,p).catch(g=>Rn(g,12)?g:Rn(g,2)?(Q(Ce(O(g.to),{force:!0}),z).then(C=>{Rn(C,20)&&!K.delta&&K.type===vi.pop&&o.go(-1,!1)}).catch(ii),Promise.reject()):(K.delta&&o.go(-K.delta,!1),fe(g,z,p))).then(g=>{g=g||je(z,p,!1),g&&(K.delta&&!Rn(g,8)?o.go(-K.delta,!1):K.type===vi.pop&&Rn(g,20)&&o.go(-1,!1)),Ne(z,p,g)}).catch(ii)}))}let pt=Vo(),_e=Vo(),le;function fe(A,V,K){bt(A);const z=_e.list();return z.length?z.forEach(ve=>ve(A,V,K)):console.error(A),Promise.reject(A)}function Ye(){return le&&c.value!==Vn?Promise.resolve():new Promise((A,V)=>{pt.add([A,V])})}function bt(A){return le||(le=!A,Tt(),pt.list().forEach(([V,K])=>A?K(A):V()),pt.reset()),A}function gt(A,V,K,z){const{scrollBehavior:ve}=n;if(!Xr||!ve)return Promise.resolve();const p=!K&&Uw(th(A.fullPath,0))||(z||!K)&&history.state&&history.state.scroll||null;return Ap().then(()=>ve(A,V,p)).then(g=>g&&Lw(g)).catch(g=>fe(g,A,V))}const Ue=A=>o.go(A);let Yt;const At=new Set,St={currentRoute:c,listening:!0,addRoute:f,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:v,resolve:R,options:n,push:P,replace:B,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:_e.add,isReady:Ye,install(A){const V=this;A.component("RouterLink",yr),A.component("RouterView",Mg),A.config.globalProperties.$router=V,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Pt(c)}),Xr&&!Yt&&c.value===Vn&&(Yt=!0,P(o.location).catch(ve=>{}));const K={};for(const ve in Vn)Object.defineProperty(K,ve,{get:()=>c.value[ve],enumerable:!0});A.provide(pa,V),A.provide(Ng,vp(K)),A.provide(Qc,c);const z=A.unmount;At.add(A),A.unmount=function(){At.delete(A),At.size<1&&(u=Vn,ke&&ke(),ke=null,c.value=Vn,Yt=!1,le=!1),z()}}};function We(A){return A.reduce((V,K)=>V.then(()=>me(K)),Promise.resolve())}return St}function hT(n,e){const t=[],r=[],o=[],i=Math.max(e.matched.length,n.matched.length);for(let s=0;s<i;s++){const a=e.matched[s];a&&(n.matched.find(u=>yo(u,a))?r.push(a):t.push(a));const c=n.matched[s];c&&(e.matched.find(u=>yo(u,c))||o.push(c))}return[t,r,o]}function fT(){return en(pa)}/*! @azure/msal-common v15.7.0 2025-05-30 */const T={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Xn={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Ni=[T.OPENID_SCOPE,T.PROFILE_SCOPE,T.OFFLINE_ACCESS_SCOPE],mh=[...Ni,T.EMAIL_SCOPE],lt={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},_h={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},er={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Gi={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Xe={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},yh={PLAIN:"plain",S256:"S256"},Dg={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},ga={QUERY:"query",FRAGMENT:"fragment"},pT={QUERY:"query"},xg={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Vi={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},tt={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},ae={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Yl="appmetadata",gT="client_info",ai="1",ks={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Ot={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Qe={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},be={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},ci={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},vh={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Wr={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},dc={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},mr={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},mT={Pop:"pop"},_T=300;/*! @azure/msal-common v15.7.0 2025-05-30 */const Os="unexpected_error",yT="post_request_failed";/*! @azure/msal-common v15.7.0 2025-05-30 */const Ch={[Os]:"Unexpected error in authentication.",[yT]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Pe extends Error{constructor(e,t,r){const o=t?`${e}: ${t}`:e;super(o),Object.setPrototypeOf(this,Pe.prototype),this.errorCode=e||T.EMPTY_STRING,this.errorMessage=t||T.EMPTY_STRING,this.subError=r||T.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Jc(n,e){return new Pe(n,e?`${Ch[n]} ${e}`:Ch[n])}/*! @azure/msal-common v15.7.0 2025-05-30 */const Ql="client_info_decoding_error",Lg="client_info_empty_error",Jl="token_parsing_error",Hg="null_or_empty_token",Pn="endpoints_resolution_error",Ug="network_error",$g="openid_config_error",Fg="hash_not_deserialized",Co="invalid_state",Bg="state_mismatch",Xc="state_not_found",Kg="nonce_mismatch",Xl="auth_time_not_found",jg="max_age_transpired",vT="multiple_matching_tokens",CT="multiple_matching_accounts",Gg="multiple_matching_appMetadata",Vg="request_cannot_be_made",Wg="cannot_remove_empty_scope",zg="cannot_append_scopeset",Zc="empty_input_scopeset",ET="device_code_polling_cancelled",wT="device_code_expired",TT="device_code_unknown_error",Zl="no_account_in_silent_request",qg="invalid_cache_record",eu="invalid_cache_environment",el="no_account_found",tl="no_crypto_object",nl="unexpected_credential_type",bT="invalid_assertion",AT="invalid_client_credential",tr="token_refresh_required",ST="user_timeout_reached",Yg="token_claims_cnf_required_for_signedjwt",Qg="authorization_code_missing_from_server_response",Jg="binding_key_not_removed",Xg="end_session_endpoint_not_supported",tu="key_id_missing",IT="no_network_connectivity",RT="user_canceled",kT="missing_tenant_id_error",ue="method_not_implemented",OT="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.7.0 2025-05-30 */const Eh={[Ql]:"The client info could not be parsed/decoded correctly",[Lg]:"The client info was empty",[Jl]:"Token cannot be parsed",[Hg]:"The token is null or empty",[Pn]:"Endpoints cannot be resolved",[Ug]:"Network request failed",[$g]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Fg]:"The hash parameters could not be deserialized",[Co]:"State was not the expected format",[Bg]:"State mismatch error",[Xc]:"State not found",[Kg]:"Nonce mismatch error",[Xl]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[jg]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[vT]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[CT]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Gg]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Vg]:"Token request cannot be made without authorization code or refresh token.",[Wg]:"Cannot remove null or empty scope from ScopeSet",[zg]:"Cannot append ScopeSet",[Zc]:"Empty input ScopeSet cannot be processed",[ET]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[wT]:"Device code is expired.",[TT]:"Device code stopped polling for unknown reasons.",[Zl]:"Please pass an account object, silent flow is not supported without account information",[qg]:"Cache record object was null or undefined.",[eu]:"Invalid environment when attempting to create cache entry",[el]:"No account found in cache for given key.",[tl]:"No crypto object detected.",[nl]:"Unexpected credential type.",[bT]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[AT]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[tr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[ST]:"User defined timeout for device code polling reached",[Yg]:"Cannot generate a POP jwt if the token_claims are not populated",[Qg]:"Server response does not contain an authorization code to proceed",[Jg]:"Could not remove the credential's binding key from storage.",[Xg]:"The provided authority does not support logout",[tu]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[IT]:"No network connectivity. Check your internet connection.",[RT]:"User cancelled the flow.",[kT]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[ue]:"This method has not been implemented",[OT]:"The nested app auth bridge is disabled"};class nu extends Pe{constructor(e,t){super(e,t?`${Eh[e]}: ${t}`:Eh[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,nu.prototype)}}function H(n,e){return new nu(n,e)}/*! @azure/msal-common v15.7.0 2025-05-30 */const Ps={createNewGuid:()=>{throw H(ue)},base64Decode:()=>{throw H(ue)},base64Encode:()=>{throw H(ue)},base64UrlEncode:()=>{throw H(ue)},encodeKid:()=>{throw H(ue)},async getPublicKeyThumbprint(){throw H(ue)},async removeTokenBindingKey(){throw H(ue)},async clearKeystore(){throw H(ue)},async signJwt(){throw H(ue)},async hashString(){throw H(ue)}};/*! @azure/msal-common v15.7.0 2025-05-30 */var Se;(function(n){n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace"})(Se||(Se={}));class or{constructor(e,t,r){this.level=Se.Info;const o=()=>{},i=e||or.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||o,this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level=typeof i.logLevel=="number"?i.logLevel:Se.Info,this.correlationId=i.correlationId||T.EMPTY_STRING,this.packageName=t||T.EMPTY_STRING,this.packageVersion=r||T.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Se.Info}}clone(e,t,r){return new or({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const i=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Se[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,i,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:Se.Error,containsPii:!1,correlationId:t||T.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:Se.Error,containsPii:!0,correlationId:t||T.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:Se.Warning,containsPii:!1,correlationId:t||T.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:Se.Warning,containsPii:!0,correlationId:t||T.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:Se.Info,containsPii:!1,correlationId:t||T.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:Se.Info,containsPii:!0,correlationId:t||T.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:Se.Verbose,containsPii:!1,correlationId:t||T.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:Se.Verbose,containsPii:!0,correlationId:t||T.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:Se.Trace,containsPii:!1,correlationId:t||T.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:Se.Trace,containsPii:!0,correlationId:t||T.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.7.0 2025-05-30 */const Zg="@azure/msal-common",ru="15.7.0";/*! @azure/msal-common v15.7.0 2025-05-30 */const ou={None:"none"};/*! @azure/msal-common v15.7.0 2025-05-30 */function Po(n,e){const t=PT(n);try{const r=e(t);return JSON.parse(r)}catch{throw H(Jl)}}function PT(n){if(!n)throw H(Hg);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);if(!t||t.length<4)throw H(Jl);return t[2]}function em(n,e){if(e===0||Date.now()-3e5>n+e)throw H(jg)}/*! @azure/msal-common v15.7.0 2025-05-30 */function Ht(){return Math.round(new Date().getTime()/1e3)}function wh(n){return n.getTime()/1e3}function fo(n){return n?new Date(Number(n)*1e3):new Date}function rl(n,e){const t=Number(n)||0;return Ht()+e>t}function NT(n){return Number(n)>Ht()}/*! @azure/msal-common v15.7.0 2025-05-30 */function li(n){return[LT(n),HT(n),UT(n),$T(n),FT(n)].join(tt.CACHE_KEY_SEPARATOR).toLowerCase()}function ma(n,e,t,r,o){return{credentialType:ae.ID_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t,realm:o}}function _a(n,e,t,r,o,i,s,a,c,u,l,d,h,f,y){var E,R;const v={homeAccountId:n,credentialType:ae.ACCESS_TOKEN,secret:t,cachedAt:Ht().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:o,target:i,tokenType:l||be.BEARER};if(d&&(v.userAssertionHash=d),u&&(v.refreshOn=u.toString()),f&&(v.requestedClaims=f,v.requestedClaimsHash=y),((E=v.tokenType)==null?void 0:E.toLowerCase())!==be.BEARER.toLowerCase())switch(v.credentialType=ae.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case be.POP:const O=Po(t,c);if(!((R=O==null?void 0:O.cnf)!=null&&R.kid))throw H(Yg);v.keyId=O.cnf.kid;break;case be.SSH:v.keyId=h}return v}function tm(n,e,t,r,o,i,s){const a={credentialType:ae.REFRESH_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t};return i&&(a.userAssertionHash=i),o&&(a.familyId=o),s&&(a.expiresOn=s.toString()),a}function iu(n){return n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")}function MT(n){return n?iu(n)&&n.hasOwnProperty("realm")&&n.hasOwnProperty("target")&&(n.credentialType===ae.ACCESS_TOKEN||n.credentialType===ae.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function DT(n){return n?iu(n)&&n.hasOwnProperty("realm")&&n.credentialType===ae.ID_TOKEN:!1}function xT(n){return n?iu(n)&&n.credentialType===ae.REFRESH_TOKEN:!1}function LT(n){return[n.homeAccountId,n.environment].join(tt.CACHE_KEY_SEPARATOR).toLowerCase()}function HT(n){const e=n.credentialType===ae.REFRESH_TOKEN&&n.familyId||n.clientId;return[n.credentialType,e,n.realm||""].join(tt.CACHE_KEY_SEPARATOR).toLowerCase()}function UT(n){return(n.target||"").toLowerCase()}function $T(n){return(n.requestedClaimsHash||"").toLowerCase()}function FT(n){return n.tokenType&&n.tokenType.toLowerCase()!==be.BEARER.toLowerCase()?n.tokenType.toLowerCase():""}function BT(n,e){const t=n.indexOf(Qe.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&r}function KT(n,e){let t=!1;n&&(t=n.indexOf(ci.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),t&&r}function jT({environment:n,clientId:e}){return[Yl,n,e].join(tt.CACHE_KEY_SEPARATOR).toLowerCase()}function GT(n,e){return e?n.indexOf(Yl)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function VT(n,e){return e?n.indexOf(ks.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Th(){return Ht()+ks.REFRESH_TIME_SECONDS}function Wi(n,e,t){n.authorization_endpoint=e.authorization_endpoint,n.token_endpoint=e.token_endpoint,n.end_session_endpoint=e.end_session_endpoint,n.issuer=e.issuer,n.endpointsFromNetwork=t,n.jwks_uri=e.jwks_uri}function hc(n,e,t){n.aliases=e.aliases,n.preferred_cache=e.preferred_cache,n.preferred_network=e.preferred_network,n.aliasesFromNetwork=t}function bh(n){return n.expiresAt<=Ht()}/*! @azure/msal-common v15.7.0 2025-05-30 */const nm="redirect_uri_empty",WT="claims_request_parsing_error",rm="authority_uri_insecure",Jo="url_parse_error",om="empty_url_error",im="empty_input_scopes_error",sm="invalid_prompt_value",ya="invalid_claims",am="token_request_empty",cm="logout_request_empty",lm="invalid_code_challenge_method",va="pkce_params_missing",su="invalid_cloud_discovery_metadata",um="invalid_authority_metadata",dm="untrusted_authority",Ca="missing_ssh_jwk",hm="missing_ssh_kid",zT="missing_nonce_authentication_header",qT="invalid_authentication_header",fm="cannot_set_OIDCOptions",pm="cannot_allow_platform_broker",gm="authority_mismatch";/*! @azure/msal-common v15.7.0 2025-05-30 */const YT={[nm]:"A redirect URI is required for all calls, and none has been set.",[WT]:"Could not parse the given claims request object.",[rm]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Jo]:"URL could not be parsed into appropriate segments.",[om]:"URL was empty or null.",[im]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[sm]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[ya]:"Given claims parameter must be a stringified JSON object.",[am]:"Token request was empty and not found in cache.",[cm]:"The logout request was null or undefined.",[lm]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[va]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[su]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[um]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[dm]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Ca]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[hm]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[zT]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[qT]:"Invalid authentication header provided",[fm]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[pm]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[gm]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class au extends Pe{constructor(e){super(e,YT[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,au.prototype)}}function Ae(n){return new au(n)}/*! @azure/msal-common v15.7.0 2025-05-30 */class wn{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},r=e.split("&"),o=i=>decodeURIComponent(i.replace(/\+/g," "));return r.forEach(i=>{if(i.trim()){const[s,a]=i.split(/=(.+)/g,2);s&&a&&(t[o(s)]=o(a))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}/*! @azure/msal-common v15.7.0 2025-05-30 */class Ve{constructor(e){const t=e?wn.trimArrayEntries([...e]):[],r=t?wn.removeEmptyStringsFromArray(t):[];if(!r||!r.length)throw Ae(im);this.scopes=new Set,r.forEach(o=>this.scopes.add(o))}static fromString(e){const r=(e||T.EMPTY_STRING).split(" ");return new Ve(r)}static createSearchScopes(e){const t=new Ve(e);return t.containsOnlyOIDCScopes()?t.removeScope(T.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),r=new Ve(t);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return mh.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw H(zg)}}removeScope(e){if(!e)throw H(Wg);this.scopes.delete(e.trim())}removeOIDCScopes(){mh.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw H(Zc);const t=new Set;return e.scopes.forEach(r=>t.add(r.toLowerCase())),this.scopes.forEach(r=>t.add(r.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw H(Zc);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),r=e.getScopeCount(),o=this.getScopeCount();return t.size<o+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):T.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.7.0 2025-05-30 */function Ns(n,e){if(!n)throw H(Lg);try{const t=e(n);return JSON.parse(t)}catch{throw H(Ql)}}function po(n){if(!n)throw H(Ql);const e=n.split(tt.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?T.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.7.0 2025-05-30 */function Ah(n,e){return!!n&&!!e&&n===e.split(".")[1]}function cu(n,e,t,r){if(r){const{oid:o,sub:i,tid:s,name:a,tfp:c,acr:u}=r,l=s||c||u||"";return{tenantId:l,localAccountId:o||i||"",name:a,isHomeTenant:Ah(l,n)}}else return{tenantId:t,localAccountId:e,isHomeTenant:Ah(t,n)}}function lu(n,e,t,r){let o=n;if(e){const{isHomeTenant:i,...s}=e;o={...n,...s}}if(t){const{isHomeTenant:i,...s}=cu(n.homeAccountId,n.localAccountId,n.tenantId,t);return o={...o,...s,idTokenClaims:t,idToken:r},o}return o}/*! @azure/msal-common v15.7.0 2025-05-30 */const Qt={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.7.0 2025-05-30 */function mm(n){return n&&(n.tid||n.tfp||n.acr)||null}/*! @azure/msal-common v15.7.0 2025-05-30 */const Lt={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.7.0 2025-05-30 */class dt{generateAccountId(){return[this.homeAccountId,this.environment].join(tt.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return dt.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(tt.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){var u,l,d,h,f,y;const o=new dt;t.authorityType===Qt.Adfs?o.authorityType=Vi.ADFS_ACCOUNT_TYPE:t.protocolMode===Lt.OIDC?o.authorityType=Vi.GENERIC_ACCOUNT_TYPE:o.authorityType=Vi.MSSTS_ACCOUNT_TYPE;let i;e.clientInfo&&r&&(i=Ns(e.clientInfo,r)),o.clientInfo=e.clientInfo,o.homeAccountId=e.homeAccountId,o.nativeAccountId=e.nativeAccountId;const s=e.environment||t&&t.getPreferredCache();if(!s)throw H(eu);o.environment=s,o.realm=(i==null?void 0:i.utid)||mm(e.idTokenClaims)||"",o.localAccountId=(i==null?void 0:i.uid)||((u=e.idTokenClaims)==null?void 0:u.oid)||((l=e.idTokenClaims)==null?void 0:l.sub)||"";const a=((d=e.idTokenClaims)==null?void 0:d.preferred_username)||((h=e.idTokenClaims)==null?void 0:h.upn),c=(f=e.idTokenClaims)!=null&&f.emails?e.idTokenClaims.emails[0]:null;if(o.username=a||c||"",o.name=((y=e.idTokenClaims)==null?void 0:y.name)||"",o.cloudGraphHostName=e.cloudGraphHostName,o.msGraphHost=e.msGraphHost,e.tenantProfiles)o.tenantProfiles=e.tenantProfiles;else{const v=cu(e.homeAccountId,o.localAccountId,o.realm,e.idTokenClaims);o.tenantProfiles=[v]}return o}static createFromAccountInfo(e,t,r){var i;const o=new dt;return o.authorityType=e.authorityType||Vi.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=t,o.msGraphHost=r,o.tenantProfiles=Array.from(((i=e.tenantProfiles)==null?void 0:i.values())||[]),o}static generateHomeAccountId(e,t,r,o,i){if(!(t===Qt.Adfs||t===Qt.Dsts)){if(e)try{const s=Ns(e,o.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return(i==null?void 0:i.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let o=!0;if(r){const i=e.idTokenClaims||{},s=t.idTokenClaims||{};o=i.iat===s.iat&&i.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&o}}/*! @azure/msal-common v15.7.0 2025-05-30 */function _m(n){return n.startsWith("#/")?n.substring(2):n.startsWith("#")||n.startsWith("?")?n.substring(1):n}function Ms(n){if(!n||n.indexOf("=")<0)return null;try{const e=_m(n),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.ear_jwe||t.error||t.error_description||t.state)return t}catch{throw H(Fg)}return null}function Ci(n,e=!0,t){const r=new Array;return n.forEach((o,i)=>{!e&&t&&i in t?r.push(`${i}=${o}`):r.push(`${i}=${encodeURIComponent(o)}`)}),r.join("&")}/*! @azure/msal-common v15.7.0 2025-05-30 */class pe{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Ae(om);e.includes("#")||(this._urlString=pe.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return wn.endsWith(t,"?")?t=t.slice(0,-1):wn.endsWith(t,"?/")&&(t=t.slice(0,-2)),wn.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Ae(Jo)}if(!e.HostNameAndPort||!e.PathSegments)throw Ae(Jo);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Ae(rm)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return pe.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),r=t.PathSegments;return e&&r.length!==0&&(r[0]===er.COMMON||r[0]===er.ORGANIZATIONS)&&(r[0]=e),pe.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Ae(Jo);const r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let o=r.AbsolutePath.split("/");return o=o.filter(i=>i&&i.length>0),r.PathSegments=o,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw Ae(Jo);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===T.FORWARD_SLASH){const o=new pe(t).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new pe(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Ms(e)}}/*! @azure/msal-common v15.7.0 2025-05-30 */const ym={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Sh=ym.endpointMetadata,uu=ym.instanceDiscoveryMetadata,vm=new Set;uu.metadata.forEach(n=>{n.aliases.forEach(e=>{vm.add(e)})});function QT(n,e){var o;let t;const r=n.canonicalAuthority;if(r){const i=new pe(r).getUrlComponents().HostNameAndPort;t=Ih(i,(o=n.cloudDiscoveryMetadata)==null?void 0:o.metadata,Ot.CONFIG,e)||Ih(i,uu.metadata,Ot.HARDCODED_VALUES,e)||n.knownAuthorities}return t||[]}function Ih(n,e,t,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${t}`),n&&e){const o=Ds(e,n);if(o)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),o.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function JT(n){return Ds(uu.metadata,n)}function Ds(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.7.0 2025-05-30 */const Cm="cache_quota_exceeded",du="cache_error_unknown";/*! @azure/msal-common v15.7.0 2025-05-30 */const fc={[Cm]:"Exceeded cache storage capacity.",[du]:"Unexpected error occurred when using cache storage."};class go extends Error{constructor(e,t){const r=t||(fc[e]?fc[e]:fc[du]);super(`${e}: ${r}`),Object.setPrototypeOf(this,go.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}/*! @azure/msal-common v15.7.0 2025-05-30 */class ol{constructor(e,t,r,o){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(Zg,ru),this.staticAuthorityOptions=o}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);return t.length>1?t.sort(o=>o.idTokenClaims?-1:1)[0]:t.length===1?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,t==null?void 0:t.tenantId,t))}getTenantedAccountInfoByFilter(e,t,r,o){let i=null,s;if(o&&!this.tenantProfileMatchesFilter(r,o))return null;const a=this.getIdToken(e,t,r.tenantId);return a&&(s=Po(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,o))?null:(i=lu(e,r,s,a==null?void 0:a.secret),i)}getTenantProfilesFromAccountEntity(e,t,r){const o=e.getAccountInfo();let i=o.tenantProfiles||new Map;const s=this.getTokenKeys();if(t){const c=i.get(t);if(c)i=new Map([[t,c]]);else return[]}const a=[];return i.forEach(c=>{const u=this.getTenantedAccountInfoByFilter(o,s,c,r);u&&a.push(u)}),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}async saveCacheRecord(e,t,r){var o,i,s,a;if(!e)throw H(qg);try{e.account&&await this.setAccount(e.account,t),e.idToken&&(r==null?void 0:r.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(c){throw(o=this.commonLogger)==null||o.error("CacheManager.saveCacheRecord: failed"),c instanceof Error?((i=this.commonLogger)==null||i.errorPii(`CacheManager.saveCacheRecord: ${c.message}`,t),c.name==="QuotaExceededError"||c.name==="NS_ERROR_DOM_QUOTA_REACHED"||c.message.includes("exceeded the quota")?((s=this.commonLogger)==null||s.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new go(Cm)):new go(c.name,c.message)):((a=this.commonLogger)==null||a.errorPii(`CacheManager.saveCacheRecord: ${c}`,t),new go(du))}}async saveAccessToken(e,t){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=this.getTokenKeys(),i=Ve.fromString(e.target),s=[];o.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,r,!1))return;const c=this.getAccessTokenCredential(a);c&&this.credentialMatchesFilter(c,r)&&Ve.fromString(c.target).intersectingScopeSets(i)&&s.push(this.removeAccessToken(a))}),await Promise.all(s),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),r=[];return t.forEach(o=>{var c;if(!this.isAccountKey(o,e.homeAccountId))return;const i=this.getAccount(o,this.commonLogger);if(!i||e.homeAccountId&&!this.matchHomeAccountId(i,e.homeAccountId)||e.username&&!this.matchUsername(i.username,e.username)||e.environment&&!this.matchEnvironment(i,e.environment)||e.realm&&!this.matchRealm(i,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(i,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(i,e.authorityType))return;const s={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},a=(c=i.tenantProfiles)==null?void 0:c.filter(u=>this.tenantProfileMatchesFilter(u,s));a&&a.length===0||r.push(i)}),r}isAccountKey(e,t,r){return!(e.split(tt.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(tt.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(t.indexOf(ae.ID_TOKEN.toLowerCase())===-1&&t.indexOf(ae.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(ae.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(ae.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(ae.REFRESH_TOKEN.toLowerCase())>-1){const r=`${ae.REFRESH_TOKEN}${tt.CACHE_KEY_SEPARATOR}${this.clientId}${tt.CACHE_KEY_SEPARATOR}`,o=`${ae.REFRESH_TOKEN}${tt.CACHE_KEY_SEPARATOR}${ai}${tt.CACHE_KEY_SEPARATOR}`;if(t.indexOf(r.toLowerCase())===-1&&t.indexOf(o.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===ae.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===be.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){const t=this.getKeys(),r={};return t.forEach(o=>{if(!this.isAppMetadata(o))return;const i=this.getAppMetadata(o);i&&(e.environment&&!this.matchEnvironment(i,e.environment)||e.clientId&&!this.matchClientId(i,e.clientId)||(r[o]=i))}),r}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let r=null;return t.forEach(o=>{if(!this.isAuthorityMetadata(o)||o.indexOf(this.clientId)===-1)return;const i=this.getAuthorityMetadata(o);i&&i.aliases.indexOf(e)!==-1&&(r=i)}),r}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach(r=>{t.push(this.removeAccount(r))}),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),r=e.generateAccountId(),o=[];t.idToken.forEach(i=>{i.indexOf(r)===0&&this.removeIdToken(i)}),t.accessToken.forEach(i=>{i.indexOf(r)===0&&o.push(this.removeAccessToken(i))}),t.refreshToken.forEach(i=>{i.indexOf(r)===0&&this.removeRefreshToken(i)}),await Promise.all(o)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===ae.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===be.POP){const o=t.keyId;if(o)try{await this.cryptoImpl.removeTokenBindingKey(o)}catch{throw H(Jg)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){const t=dt.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,o,i){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ae.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(s,t),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let u=a;if(!r){const l=new Map;a.forEach((h,f)=>{h.realm===e.tenantId&&l.set(f,h)});const d=l.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),l.values().next().value;u=l}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),u.forEach((l,d)=>{this.removeIdToken(d)}),o&&i&&o.addFields({multiMatchedID:a.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const r=t&&t.idToken||this.getTokenKeys().idToken,o=new Map;return r.forEach(i=>{if(!this.idTokenKeyMatchesFilter(i,{clientId:this.clientId,...e}))return;const s=this.getIdTokenCredential(i);s&&this.credentialMatchesFilter(s,e)&&o.set(i,s)}),o}idTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,o,i,s){this.commonLogger.trace("CacheManager - getAccessToken called");const a=Ve.createSearchScopes(t.scopes),c=t.authenticationScheme||be.BEARER,u=c.toLowerCase()!==be.BEARER.toLowerCase()?ae.ACCESS_TOKEN_WITH_AUTH_SCHEME:ae.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:u,clientId:this.clientId,realm:o||e.tenantId,target:a,tokenType:c,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},d=r&&r.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach(y=>{if(this.accessTokenKeyMatchesFilter(y,l,!0)){const v=this.getAccessTokenCredential(y);v&&this.credentialMatchesFilter(v,l)&&h.push(v)}});const f=h.length;return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):f>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),h.forEach(y=>{this.removeAccessToken(li(y))}),i&&s&&i.addFields({multiMatchedAT:h.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),h[0])}accessTokenKeyMatchesFilter(e,t,r){const o=e.toLowerCase();if(t.clientId&&o.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&o.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&o.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&o.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){const i=t.target.asArray();for(let s=0;s<i.length;s++){if(r&&!o.includes(i[s].toLowerCase()))return!1;if(!r&&o.includes(i[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),r=[];return t.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;const i=this.getAccessTokenCredential(o);i&&this.credentialMatchesFilter(i,e)&&r.push(i)}),r}getRefreshToken(e,t,r,o,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=t?ai:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ae.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,u=[];c.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,a)){const h=this.getRefreshTokenCredential(d);h&&this.credentialMatchesFilter(h,a)&&u.push(h)}});const l=u.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&o&&i&&o.addFields({multiMatchedRT:l},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),u[0])}refreshTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.familyId&&r.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),o=Object.keys(r).map(s=>r[s]),i=o.length;if(i<1)return null;if(i>1)throw H(Gg);return o[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===ai)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){const r=e.oid||e.sub;return t===r}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var r;return t.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,t){return!!(e&&typeof e=="string"&&(t==null?void 0:t.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const o=QT(this.staticAuthorityOptions,this.commonLogger);if(o.includes(t)&&o.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==ae.ACCESS_TOKEN&&e.credentialType!==ae.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Ve.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(Yl)!==-1}isAuthorityMetadata(e){return e.indexOf(ks.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${ks.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const r in t)e[r]=t[r];return e}}class XT extends ol{async setAccount(){throw H(ue)}getAccount(){throw H(ue)}async setIdTokenCredential(){throw H(ue)}getIdTokenCredential(){throw H(ue)}async setAccessTokenCredential(){throw H(ue)}getAccessTokenCredential(){throw H(ue)}async setRefreshTokenCredential(){throw H(ue)}getRefreshTokenCredential(){throw H(ue)}setAppMetadata(){throw H(ue)}getAppMetadata(){throw H(ue)}setServerTelemetry(){throw H(ue)}getServerTelemetry(){throw H(ue)}setAuthorityMetadata(){throw H(ue)}getAuthorityMetadata(){throw H(ue)}getAuthorityMetadataKeys(){throw H(ue)}setThrottlingCache(){throw H(ue)}getThrottlingCache(){throw H(ue)}removeItem(){throw H(ue)}getKeys(){throw H(ue)}getAccountKeys(){throw H(ue)}getTokenKeys(){throw H(ue)}}/*! @azure/msal-common v15.7.0 2025-05-30 */const Em={tokenRenewalOffsetSeconds:_T,preventCorsPreflight:!1},ZT={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Se.Info,correlationId:T.EMPTY_STRING},eb={claimsBasedCachingEnabled:!1},tb={async sendGetRequestAsync(){throw H(ue)},async sendPostRequestAsync(){throw H(ue)}},nb={sku:T.SKU,version:ru,cpu:T.EMPTY_STRING,os:T.EMPTY_STRING},rb={clientSecret:T.EMPTY_STRING,clientAssertion:void 0},ob={azureCloudInstance:ou.None,tenant:`${T.DEFAULT_COMMON_TENANT}`},ib={application:{appName:"",appVersion:""}};function sb({authOptions:n,systemOptions:e,loggerOptions:t,cacheOptions:r,storageInterface:o,networkInterface:i,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:u,serverTelemetryManager:l,persistencePlugin:d,serializableCache:h}){const f={...ZT,...t};return{authOptions:ab(n),systemOptions:{...Em,...e},loggerOptions:f,cacheOptions:{...eb,...r},storageInterface:o||new XT(n.clientId,Ps,new or(f)),networkInterface:i||tb,cryptoInterface:s||Ps,clientCredentials:a||rb,libraryInfo:{...nb,...c},telemetry:{...ib,...u},serverTelemetryManager:l||null,persistencePlugin:d||null,serializableCache:h||null}}function ab(n){return{clientCapabilities:[],azureCloudOptions:ob,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...n}}function wm(n){return n.authOptions.authority.options.protocolMode===Lt.OIDC}/*! @azure/msal-common v15.7.0 2025-05-30 */const Jt={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.7.0 2025-05-30 */const Rr="client_id",Tm="redirect_uri",cb="response_type",lb="response_mode",ub="grant_type",db="claims",hb="scope",fb="refresh_token",pb="state",gb="nonce",mb="prompt",_b="code",yb="code_challenge",vb="code_challenge_method",Cb="code_verifier",Eb="client-request-id",wb="x-client-SKU",Tb="x-client-VER",bb="x-client-OS",Ab="x-client-CPU",Sb="x-client-current-telemetry",Ib="x-client-last-telemetry",Rb="x-ms-lib-capability",kb="x-app-name",Ob="x-app-ver",Pb="post_logout_redirect_uri",Nb="id_token_hint",Mb="client_secret",Db="client_assertion",xb="client_assertion_type",bm="token_type",Am="req_cnf",Rh="return_spa_code",Lb="nativebroker",Hb="logout_hint",Ub="sid",$b="login_hint",Fb="domain_hint",Bb="x-client-xtra-sku",xs="brk_client_id",Ls="brk_redirect_uri",il="instance_aware",Kb="ear_jwk",jb="ear_jwe_crypto";/*! @azure/msal-common v15.7.0 2025-05-30 */function Ea(n,e,t){if(!e)return;const r=n.get(Rr);r&&n.has(xs)&&(t==null||t.addFields({embeddedClientId:r,embeddedRedirectUri:n.get(Tm)},e))}function Sm(n,e){n.set(cb,e)}function Gb(n,e){n.set(lb,e||pT.QUERY)}function Vb(n){n.set(Lb,"1")}function hu(n,e,t=!0,r=Ni){t&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const o=t?[...e||[],...r]:e||[],i=new Ve(o);n.set(hb,i.printScopes())}function fu(n,e){n.set(Rr,e)}function pu(n,e){n.set(Tm,e)}function Wb(n,e){n.set(Pb,e)}function zb(n,e){n.set(Nb,e)}function qb(n,e){n.set(Fb,e)}function zi(n,e){n.set($b,e)}function Hs(n,e){n.set(lt.CCS_HEADER,`UPN:${e}`)}function ui(n,e){n.set(lt.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function kh(n,e){n.set(Ub,e)}function gu(n,e,t){const r=tA(e,t);try{JSON.parse(r)}catch{throw Ae(ya)}n.set(db,r)}function mu(n,e){n.set(Eb,e)}function _u(n,e){n.set(wb,e.sku),n.set(Tb,e.version),e.os&&n.set(bb,e.os),e.cpu&&n.set(Ab,e.cpu)}function yu(n,e){e!=null&&e.appName&&n.set(kb,e.appName),e!=null&&e.appVersion&&n.set(Ob,e.appVersion)}function Yb(n,e){n.set(mb,e)}function Im(n,e){e&&n.set(pb,e)}function Qb(n,e){n.set(gb,e)}function Jb(n,e,t){if(e&&t)n.set(yb,e),n.set(vb,t);else throw Ae(va)}function Xb(n,e){n.set(_b,e)}function Zb(n,e){n.set(fb,e)}function eA(n,e){n.set(Cb,e)}function Rm(n,e){n.set(Mb,e)}function km(n,e){e&&n.set(Db,e)}function Om(n,e){e&&n.set(xb,e)}function Pm(n,e){n.set(ub,e)}function vu(n){n.set(gT,"1")}function Nm(n){n.has(il)||n.set(il,"true")}function Tr(n,e){Object.entries(e).forEach(([t,r])=>{!n.has(t)&&r&&n.set(t,r)})}function tA(n,e){let t;if(!n)t={};else try{t=JSON.parse(n)}catch{throw Ae(ya)}return e&&e.length>0&&(t.hasOwnProperty(Gi.ACCESS_TOKEN)||(t[Gi.ACCESS_TOKEN]={}),t[Gi.ACCESS_TOKEN][Gi.XMS_CC]={values:e}),JSON.stringify(t)}function Cu(n,e){e&&(n.set(bm,be.POP),n.set(Am,e))}function Mm(n,e){e&&(n.set(bm,be.SSH),n.set(Am,e))}function Dm(n,e){n.set(Sb,e.generateCurrentRequestHeaderValue()),n.set(Ib,e.generateLastRequestHeaderValue())}function xm(n){n.set(Rb,ci.X_MS_LIB_CAPABILITY_VALUE)}function nA(n,e){n.set(Hb,e)}function wa(n,e,t){n.has(xs)||n.set(xs,e),n.has(Ls)||n.set(Ls,t)}function rA(n,e){n.set(Kb,encodeURIComponent(e)),n.set(jb,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}/*! @azure/msal-common v15.7.0 2025-05-30 */function oA(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.7.0 2025-05-30 */function iA(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}/*! @azure/msal-common v15.7.0 2025-05-30 */function sA(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}/*! @azure/msal-common v15.7.0 2025-05-30 */const _={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},aA={InProgress:1};/*! @azure/msal-common v15.7.0 2025-05-30 */const rn=(n,e,t,r,o)=>(...i)=>{t.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,o);if(o){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},o)}try{const a=n(...i);return s==null||s.end({success:!0}),t.trace(`Returning result from ${e}`),a}catch(a){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a}},S=(n,e,t,r,o)=>(...i)=>{t.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,o);if(o){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},o)}return r==null||r.setPreQueueTime(e,o),n(...i).then(a=>(t.trace(`Returning result from ${e}`),s==null||s.end({success:!0}),a)).catch(a=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a})};/*! @azure/msal-common v15.7.0 2025-05-30 */class Ta{constructor(e,t,r,o){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=o}async detectRegion(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(_.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)t.region_source=Wr.ENVIRONMENT_VARIABLE;else{const i=Ta.IMDS_OPTIONS;try{const s=await S(this.getRegionFromIMDS.bind(this),_.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(T.IMDS_VERSION,i);if(s.status===Xn.SUCCESS&&(r=s.body,t.region_source=Wr.IMDS),s.status===Xn.BAD_REQUEST){const a=await S(this.getCurrentVersion.bind(this),_.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!a)return t.region_source=Wr.FAILED_AUTO_DETECTION,null;const c=await S(this.getRegionFromIMDS.bind(this),_.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,i);c.status===Xn.SUCCESS&&(r=c.body,t.region_source=Wr.IMDS)}}catch{return t.region_source=Wr.FAILED_AUTO_DETECTION,null}}return r||(t.region_source=Wr.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,t){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(_.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${T.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,T.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(_.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${T.IMDS_ENDPOINT}?format=json`,e);return r.status===Xn.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}Ta.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.7.0 2025-05-30 */class Ze{constructor(e,t,r,o,i,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new Ta(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(T.CIAM_AUTH_URL))return Qt.Ciam;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case T.ADFS:return Qt.Adfs;case T.DSTS:return Qt.Dsts}return Qt.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new pe(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw H(Pn)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw H(Pn)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw H(Pn)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw H(Xg);return this.replacePath(this.metadata.end_session_endpoint)}else throw H(Pn)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw H(Pn)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw H(Pn)}canReplaceTenant(e){return e.PathSegments.length===1&&!Ze.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Qt.Default&&this.protocolMode!==Lt.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const o=new pe(this.metadata.canonical_authority).getUrlComponents(),i=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let u=i[c];if(c===0&&this.canReplaceTenant(o)){const l=new pe(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];u!==l&&(this.logger.verbose(`Replacing tenant domain name ${u} with id ${l}`),u=l)}a!==u&&(t=t.replace(`/${u}/`,`/${a}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Qt.Adfs||this.protocolMode===Lt.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var o,i;(o=this.performanceClient)==null||o.addQueueMeasurement(_.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await S(this.updateCloudDiscoveryMetadata.bind(this),_.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await S(this.updateEndpointMetadata.bind(this),_.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),(i=this.performanceClient)==null||i.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Th(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==Ot.CACHE&&(r==null?void 0:r.source)!==Ot.CACHE&&(e.expiresAt=Th(),e.canonical_authority=this.canonicalAuthority);const o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e}async updateEndpointMetadata(e){var o,i,s;(o=this.performanceClient)==null||o.addQueueMeasurement(_.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===Ot.HARDCODED_VALUES&&(i=this.authorityOptions.azureRegionConfiguration)!=null&&i.azureRegion&&t.metadata){const a=await S(this.updateMetadataWithRegionalInformation.bind(this),_.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);Wi(e,a,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let r=await S(this.getEndpointMetadataFromNetwork.bind(this),_.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(r=await S(this.updateMetadataWithRegionalInformation.bind(this),_.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Wi(e,r,!0),Ot.NETWORK;throw H($g,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Wi(e,t,!1),{source:Ot.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const o=this.getEndpointMetadataFromHardcodedValues();if(o)return Wi(e,o,!1),{source:Ot.HARDCODED_VALUES,metadata:o};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=bh(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Ot.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new pe(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Ae(um)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(_.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const o=await this.networkInterface.sendGetRequestAsync(t,e);return oA(o.body)?o.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(o){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${o}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Sh?Sh[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,o,i;(r=this.performanceClient)==null||r.addQueueMeasurement(_.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=(o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.azureRegion;if(t){if(t!==T.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=dc.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,Ze.replaceWithRegionalInformation(e,t);const s=await S(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),_.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=dc.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Ze.replaceWithRegionalInformation(e,s);this.regionDiscoveryMetadata.region_outcome=dc.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(_.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const r=await S(this.getCloudDiscoveryMetadataFromNetwork.bind(this),_.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return hc(e,r,!0),Ot.NETWORK;throw Ae(dm)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||T.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||T.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||T.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),hc(e,t,!1),Ot.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const o=JT(this.hostnameAndPort);if(o)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),hc(e,o,!1),Ot.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=bh(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Ot.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Qt.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Ze.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=Ds(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Ae(su)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Ze.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(_.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${T.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let r=null;try{const i=await this.networkInterface.sendGetRequestAsync(e,t);let s,a;if(iA(i.body))s=i.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(sA(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),s=i.body,s.error===T.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Ds(a,this.hostnameAndPort)}catch(i){if(i instanceof Pe)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{const s=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Ze.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&pe.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==ou.None){const o=t.tenant?t.tenant:T.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${o}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return T.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw H(Pn)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return vm.has(e)}static isPublicCloudAuthority(e){return T.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){const o=new pe(e);o.validateAsUri();const i=o.getUrlComponents();let s=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=`${t}.${T.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=pe.constructAuthorityUriFromObject({...o.getUrlComponents(),HostNameAndPort:s}).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,t){const r={...e};return r.authorization_endpoint=Ze.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=Ze.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=Ze.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e;const o=new pe(e).getUrlComponents();if(o.PathSegments.length===0&&o.HostNameAndPort.endsWith(T.CIAM_AUTH_URL)){const i=o.HostNameAndPort.split(".")[0];t=`${t}${i}${T.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}Ze.reservedTenantDomains=new Set(["{tenant}","{tenantid}",er.COMMON,er.CONSUMERS,er.ORGANIZATIONS]);function cA(n){var o;const r=(o=new pe(n).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:o.toLowerCase();switch(r){case er.COMMON:case er.ORGANIZATIONS:case er.CONSUMERS:return;default:return r}}function Lm(n){return n.endsWith(T.FORWARD_SLASH)?n:`${n}${T.FORWARD_SLASH}`}function lA(n){const e=n.cloudDiscoveryMetadata;let t;if(e)try{t=JSON.parse(e)}catch{throw Ae(su)}return{canonicalAuthority:n.authority?Lm(n.authority):void 0,knownAuthorities:n.knownAuthorities,cloudDiscoveryMetadata:t}}/*! @azure/msal-common v15.7.0 2025-05-30 */async function Hm(n,e,t,r,o,i,s){s==null||s.addQueueMeasurement(_.AuthorityFactoryCreateDiscoveredInstance,i);const a=Ze.transformCIAMAuthority(Lm(n)),c=new Ze(a,e,t,r,o,i,s);try{return await S(c.resolveEndpointsAsync.bind(c),_.AuthorityResolveEndpointsAsync,o,s,i)(),c}catch{throw H(Pn)}}/*! @azure/msal-common v15.7.0 2025-05-30 */class Ur extends Pe{constructor(e,t,r,o,i){super(e,t,r),this.name="ServerError",this.errorNo=o,this.status=i,Object.setPrototypeOf(this,Ur.prototype)}}/*! @azure/msal-common v15.7.0 2025-05-30 */function ba(n,e,t){var r;return{clientId:n,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:t,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r.clientId)}}/*! @azure/msal-common v15.7.0 2025-05-30 */class vn{static generateThrottlingStorageKey(e){return`${ci.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){var i;const r=vn.generateThrottlingStorageKey(t),o=e.getThrottlingCache(r);if(o){if(o.throttleTime<Date.now()){e.removeItem(r);return}throw new Ur(((i=o.errorCodes)==null?void 0:i.join(" "))||T.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,t,r){if(vn.checkResponseStatus(r)||vn.checkResponseForRetryAfter(r)){const o={throttleTime:vn.calculateThrottleTime(parseInt(r.headers[lt.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(vn.generateThrottlingStorageKey(t),o)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(lt.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(t||ci.DEFAULT_THROTTLE_TIME_SECONDS),r+ci.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,r,o){const i=ba(t,r,o),s=this.generateThrottlingStorageKey(i);e.removeItem(s)}}/*! @azure/msal-common v15.7.0 2025-05-30 */class Aa extends Pe{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Aa.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}}function Xo(n,e,t,r){return n.errorMessage=`${n.errorMessage}, additionalErrorInfo: error.name:${r==null?void 0:r.name}, error.message:${r==null?void 0:r.message}`,new Aa(n,e,t)}/*! @azure/msal-common v15.7.0 2025-05-30 */class Eu{constructor(e,t){this.config=sb(e),this.logger=new or(this.config.loggerOptions,Zg,ru),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[lt.CONTENT_TYPE]=T.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Jt.HOME_ACCOUNT_ID:try{const r=po(e.credential);t[lt.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Jt.UPN:t[lt.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}async executePostToTokenEndpoint(e,t,r,o,i,s){var c;s&&((c=this.performanceClient)==null||c.addQueueMeasurement(s,i));const a=await this.sendPostRequest(o,e,{body:t,headers:r},i);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,r,o){var s,a,c;vn.preProcess(this.cacheManager,e);let i;try{i=await S(this.networkClient.sendPostRequestAsync.bind(this.networkClient),_.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,o)(t,r);const u=i.headers||{};(a=this.performanceClient)==null||a.addFields({refreshTokenSize:((s=i.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:u[lt.X_MS_HTTP_VERSION]||"",requestId:u[lt.X_MS_REQUEST_ID]||""},o)}catch(u){if(u instanceof Aa){const l=u.responseHeaders;throw l&&((c=this.performanceClient)==null||c.addFields({httpVerToken:l[lt.X_MS_HTTP_VERSION]||"",requestId:l[lt.X_MS_REQUEST_ID]||"",contentTypeHeader:l[lt.CONTENT_TYPE]||void 0,contentLengthHeader:l[lt.CONTENT_LENGTH]||void 0,httpStatus:u.httpStatus},o)),u.error}throw u instanceof Pe?u:H(Ug)}return vn.postProcess(this.cacheManager,e,i),i}async updateAuthority(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(_.UpdateTokenEndpointAuthority,t);const r=`https://${e}/${this.authority.tenant}/`,o=await Hm(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=o}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&wa(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Tr(t,e.tokenQueryParameters),mu(t,e.correlationId),Ea(t,e.correlationId,this.performanceClient),Ci(t)}}/*! @azure/msal-common v15.7.0 2025-05-30 */const Us="no_tokens_found",Um="native_account_unavailable",wu="refresh_token_expired",uA="interaction_required",dA="consent_required",hA="login_required",Sa="bad_token";/*! @azure/msal-common v15.7.0 2025-05-30 */const Oh=[uA,dA,hA,Sa],fA=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],pA={[Us]:"No refresh token found in the cache. Please sign-in.",[Um]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[wu]:"Refresh token has expired.",[Sa]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class on extends Pe{constructor(e,t,r,o,i,s,a,c){super(e,t,r),Object.setPrototypeOf(this,on.prototype),this.timestamp=o||T.EMPTY_STRING,this.traceId=i||T.EMPTY_STRING,this.correlationId=s||T.EMPTY_STRING,this.claims=a||T.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function $m(n,e,t){const r=!!n&&Oh.indexOf(n)>-1,o=!!t&&fA.indexOf(t)>-1,i=!!e&&Oh.some(s=>e.indexOf(s)>-1);return r||i||o}function sl(n){return new on(n,pA[n])}/*! @azure/msal-common v15.7.0 2025-05-30 */class No{static setRequestState(e,t,r){const o=No.generateLibraryState(e,r);return t?`${o}${T.RESOURCE_DELIM}${t}`:o}static generateLibraryState(e,t){if(!e)throw H(tl);const r={id:e.createNewGuid()};t&&(r.meta=t);const o=JSON.stringify(r);return e.base64Encode(o)}static parseRequestState(e,t){if(!e)throw H(tl);if(!t)throw H(Co);try{const r=t.split(T.RESOURCE_DELIM),o=r[0],i=r.length>1?r.slice(1).join(T.RESOURCE_DELIM):T.EMPTY_STRING,s=e.base64Decode(o),a=JSON.parse(s);return{userRequestState:i||T.EMPTY_STRING,libraryState:a}}catch{throw H(Co)}}}/*! @azure/msal-common v15.7.0 2025-05-30 */const gA={SW:"sw"};class Eo{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(_.PopTokenGenerateCnf,e.correlationId);const r=await S(this.generateKid.bind(this),_.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:o}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(_.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:gA.SW}}async signPopToken(e,t,r){return this.signPayload(e,t,r)}async signPayload(e,t,r,o){const{resourceRequestMethod:i,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:u}=r,l=s?new pe(s):void 0,d=l==null?void 0:l.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Ht(),m:i==null?void 0:i.toUpperCase(),u:d==null?void 0:d.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:d==null?void 0:d.AbsolutePath,q:d!=null&&d.QueryString?[[],d.QueryString]:void 0,client_claims:a||void 0,...o},t,u,r.correlationId)}}/*! @azure/msal-common v15.7.0 2025-05-30 */class mA{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.7.0 2025-05-30 */class kr{constructor(e,t,r,o,i,s,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=o,this.serializableCache=i,this.persistencePlugin=s,this.performanceClient=a}validateTokenResponse(e,t){var r;if(e.error||e.error_description||e.suberror){const o=`Error(s): ${e.error_codes||T.NOT_AVAILABLE} - Timestamp: ${e.timestamp||T.NOT_AVAILABLE} - Description: ${e.error_description||T.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||T.NOT_AVAILABLE} - Trace ID: ${e.trace_id||T.NOT_AVAILABLE}`,i=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,s=new Ur(e.error,o,e.suberror,i,e.status);if(t&&e.status&&e.status>=Xn.SERVER_ERROR_RANGE_START&&e.status<=Xn.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(t&&e.status&&e.status>=Xn.CLIENT_ERROR_RANGE_START&&e.status<=Xn.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw $m(e.error,e.error_description,e.suberror)?new on(e.error,e.error_description,e.suberror,e.timestamp||T.EMPTY_STRING,e.trace_id||T.EMPTY_STRING,e.correlation_id||T.EMPTY_STRING,e.claims||T.EMPTY_STRING,i):s}}async handleServerTokenResponse(e,t,r,o,i,s,a,c,u){var y;(y=this.performanceClient)==null||y.addQueueMeasurement(_.HandleServerTokenResponse,e.correlation_id);let l;if(e.id_token){if(l=Po(e.id_token||T.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&l.nonce!==i.nonce)throw H(Kg);if(o.maxAge||o.maxAge===0){const v=l.auth_time;if(!v)throw H(Xl);em(v,o.maxAge)}}this.homeAccountIdentifier=dt.generateHomeAccountId(e.client_info||T.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,l);let d;i&&i.state&&(d=No.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||o.sshKid||void 0;const h=this.generateCacheRecord(e,t,r,o,l,s,i);let f;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),f=new mA(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(f)),a&&!c&&h.account){const v=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(v))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await kr.generateAuthenticationResult(this.cryptoObj,t,h,!1,o,l,d,void 0,u)}await this.cacheStorage.saveCacheRecord(h,o.correlationId,o.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&f&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(f))}return kr.generateAuthenticationResult(this.cryptoObj,t,h,!1,o,l,d,e,u)}generateCacheRecord(e,t,r,o,i,s,a){const c=t.getPreferredCache();if(!c)throw H(eu);const u=mm(i);let l,d;e.id_token&&i&&(l=ma(this.homeAccountIdentifier,c,e.id_token,this.clientId,u||""),d=Tu(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,c,u,a,void 0,this.logger));let h=null;if(e.access_token){const v=e.scope?Ve.fromString(e.scope):new Ve(o.scopes||[]),E=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,R=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,O=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,M=r+E,P=M+R,B=O&&O>0?r+O:void 0;h=_a(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||t.tenant||"",v.printScopes(),M,P,this.cryptoObj.base64Decode,B,e.token_type,s,e.key_id,o.claims,o.requestedClaimsHash)}let f=null;if(e.refresh_token){let v;if(e.refresh_token_expires_in){const E=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;v=r+E}f=tm(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,v)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:c,familyId:e.foci}),{account:d,idToken:l,accessToken:h,refreshToken:f,appMetadata:y}}static async generateAuthenticationResult(e,t,r,o,i,s,a,c,u){var M,P,B,q,Q;let l=T.EMPTY_STRING,d=[],h=null,f,y,v=T.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===be.POP&&!i.popKid){const he=new Eo(e),{secret:me,keyId:ge}=r.accessToken;if(!ge)throw H(tu);l=await he.signPopToken(me,ge,i)}else l=r.accessToken.secret;d=Ve.fromString(r.accessToken.target).asArray(),h=fo(r.accessToken.expiresOn),f=fo(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(y=fo(r.accessToken.refreshOn))}r.appMetadata&&(v=r.appMetadata.familyId===ai?ai:"");const E=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",R=(s==null?void 0:s.tid)||"";c!=null&&c.spa_accountid&&r.account&&(r.account.nativeAccountId=c==null?void 0:c.spa_accountid);const O=r.account?lu(r.account.getAccountInfo(),void 0,s,(M=r.idToken)==null?void 0:M.secret):null;return{authority:t.canonicalAuthority,uniqueId:E,tenantId:R,scopes:d,account:O,idToken:((P=r==null?void 0:r.idToken)==null?void 0:P.secret)||"",idTokenClaims:s||{},accessToken:l,fromCache:o,expiresOn:h,extExpiresOn:f,refreshOn:y,correlationId:i.correlationId,requestId:u||T.EMPTY_STRING,familyId:v,tokenType:((B=r.accessToken)==null?void 0:B.tokenType)||T.EMPTY_STRING,state:a?a.userRequestState:T.EMPTY_STRING,cloudGraphHostName:((q=r.account)==null?void 0:q.cloudGraphHostName)||T.EMPTY_STRING,msGraphHost:((Q=r.account)==null?void 0:Q.msGraphHost)||T.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function Tu(n,e,t,r,o,i,s,a,c,u,l){l==null||l.verbose("setCachedAccount called");const h=n.getAccountKeys().find(R=>R.startsWith(t));let f=null;h&&(f=n.getAccount(h));const y=f||dt.createAccount({homeAccountId:t,idTokenClaims:o,clientInfo:i,environment:s,cloudGraphHostName:c==null?void 0:c.cloud_graph_host_name,msGraphHost:c==null?void 0:c.msgraph_host,nativeAccountId:u},e,r),v=y.tenantProfiles||[],E=a||y.realm;if(E&&!v.find(R=>R.tenantId===E)){const R=cu(t,y.localAccountId,E,o);v.push(R)}return y.tenantProfiles=v,y}/*! @azure/msal-common v15.7.0 2025-05-30 */class _A{static validateRedirectUri(e){if(!e)throw Ae(nm)}static validatePrompt(e){const t=[];for(const r in Xe)t.push(Xe[r]);if(t.indexOf(e)<0)throw Ae(sm)}static validateClaims(e){try{JSON.parse(e)}catch{throw Ae(ya)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw Ae(va);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([yh.PLAIN,yh.S256].indexOf(e)<0)throw Ae(lm)}}/*! @azure/msal-common v15.7.0 2025-05-30 */async function Fm(n,e,t){return typeof n=="string"?n:n({clientId:e,tokenEndpoint:t})}/*! @azure/msal-common v15.7.0 2025-05-30 */class Bm extends Eu{constructor(e,t){var r;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async acquireToken(e,t){var a,c;if((a=this.performanceClient)==null||a.addQueueMeasurement(_.AuthClientAcquireToken,e.correlationId),!e.code)throw H(Vg);const r=Ht(),o=await S(this.executeTokenRequest.bind(this),_.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=(c=o.headers)==null?void 0:c[lt.X_MS_REQUEST_ID],s=new kr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(o.body),S(s.handleServerTokenResponse.bind(s),_.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,r,e,t,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw Ae(cm);const t=this.createLogoutUrlQueryString(e);return pe.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(_.AuthClientExecuteTokenRequest,t.correlationId);const r=this.createTokenQueryParameters(t),o=pe.appendQueryString(e.tokenEndpoint,r),i=await S(this.createTokenRequestBody.bind(this),_.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let s;if(t.clientInfo)try{const l=Ns(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${l.uid}${tt.CLIENT_INFO_SEPARATOR}${l.utid}`,type:Jt.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}const a=this.createTokenRequestHeaders(s||t.ccsCredential),c=ba(this.config.authOptions.clientId,t);return S(this.executePostToTokenEndpoint.bind(this),_.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(o,i,a,c,t.correlationId,_.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var o,i;(o=this.performanceClient)==null||o.addQueueMeasurement(_.AuthClientCreateTokenRequestBody,e.correlationId);const t=new Map;if(fu(t,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[Rr])||this.config.authOptions.clientId),this.includeRedirectUri?pu(t,e.redirectUri):_A.validateRedirectUri(e.redirectUri),hu(t,e.scopes,!0,this.oidcDefaultScopes),Xb(t,e.code),_u(t,this.config.libraryInfo),yu(t,this.config.telemetry.application),xm(t),this.serverTelemetryManager&&!wm(this.config)&&Dm(t,this.serverTelemetryManager),e.codeVerifier&&eA(t,e.codeVerifier),this.config.clientCredentials.clientSecret&&Rm(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;km(t,await Fm(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Om(t,s.assertionType)}if(Pm(t,xg.AUTHORIZATION_CODE_GRANT),vu(t),e.authenticationScheme===be.POP){const s=new Eo(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await S(s.generateCnf.bind(s),_.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Cu(t,a)}else if(e.authenticationScheme===be.SSH)if(e.sshJwk)Mm(t,e.sshJwk);else throw Ae(Ca);(!wn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&gu(t,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const s=Ns(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${tt.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Jt.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Jt.HOME_ACCOUNT_ID:try{const s=po(r.credential);ui(t,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Jt.UPN:Hs(t,r.credential);break}return e.embeddedClientId&&wa(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Tr(t,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Rh])&&Tr(t,{[Rh]:"1"}),Ea(t,e.correlationId,this.performanceClient),Ci(t)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&Wb(t,e.postLogoutRedirectUri),e.correlationId&&mu(t,e.correlationId),e.idTokenHint&&zb(t,e.idTokenHint),e.state&&Im(t,e.state),e.logoutHint&&nA(t,e.logoutHint),e.extraQueryParameters&&Tr(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&Nm(t),Ci(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.7.0 2025-05-30 */const yA=300;class vA extends Eu{constructor(e,t){super(e,t)}async acquireToken(e){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(_.RefreshTokenClientAcquireToken,e.correlationId);const t=Ht(),r=await S(this.executeTokenRequest.bind(this),_.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=(a=r.headers)==null?void 0:a[lt.X_MS_REQUEST_ID],i=new kr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(r.body),S(i.handleServerTokenResponse.bind(i),_.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){var r;if(!e)throw Ae(am);if((r=this.performanceClient)==null||r.addQueueMeasurement(_.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw H(Zl);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await S(this.acquireTokenWithCachedRefreshToken.bind(this),_.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(o){const i=o instanceof on&&o.errorCode===Us,s=o instanceof Ur&&o.errorCode===vh.INVALID_GRANT_ERROR&&o.subError===vh.CLIENT_MISMATCH_ERROR;if(i||s)return S(this.acquireTokenWithCachedRefreshToken.bind(this),_.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw o}return S(this.acquireTokenWithCachedRefreshToken.bind(this),_.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var i,s,a;(i=this.performanceClient)==null||i.addQueueMeasurement(_.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=rn(this.cacheManager.getRefreshToken.bind(this.cacheManager),_.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw sl(Us);if(r.expiresOn&&rl(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||yA))throw(s=this.performanceClient)==null||s.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),sl(wu);const o={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||be.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Jt.HOME_ACCOUNT_ID}};try{return await S(this.acquireToken.bind(this),_.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(o)}catch(c){if(c instanceof on&&((a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===Sa)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=li(r);this.cacheManager.removeRefreshToken(u)}throw c}}async executeTokenRequest(e,t){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(_.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),o=pe.appendQueryString(t.tokenEndpoint,r),i=await S(this.createTokenRequestBody.bind(this),_.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a=ba(this.config.authOptions.clientId,e);return S(this.executePostToTokenEndpoint.bind(this),_.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(o,i,s,a,e.correlationId,_.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,o,i;(r=this.performanceClient)==null||r.addQueueMeasurement(_.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=new Map;if(fu(t,e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[Rr])||this.config.authOptions.clientId),e.redirectUri&&pu(t,e.redirectUri),hu(t,e.scopes,!0,(i=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:i.defaultScopes),Pm(t,xg.REFRESH_TOKEN_GRANT),vu(t),_u(t,this.config.libraryInfo),yu(t,this.config.telemetry.application),xm(t),this.serverTelemetryManager&&!wm(this.config)&&Dm(t,this.serverTelemetryManager),Zb(t,e.refreshToken),this.config.clientCredentials.clientSecret&&Rm(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;km(t,await Fm(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Om(t,s.assertionType)}if(e.authenticationScheme===be.POP){const s=new Eo(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await S(s.generateCnf.bind(s),_.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Cu(t,a)}else if(e.authenticationScheme===be.SSH)if(e.sshJwk)Mm(t,e.sshJwk);else throw Ae(Ca);if((!wn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&gu(t,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Jt.HOME_ACCOUNT_ID:try{const s=po(e.ccsCredential.credential);ui(t,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Jt.UPN:Hs(t,e.ccsCredential.credential);break}return e.embeddedClientId&&wa(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Tr(t,e.tokenBodyParameters),Ea(t,e.correlationId,this.performanceClient),Ci(t)}}/*! @azure/msal-common v15.7.0 2025-05-30 */class CA extends Eu{constructor(e,t){super(e,t)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(_.SilentFlowClientAcquireCachedToken,e.correlationId);let t=mr.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!wn.isEmptyObj(e.claims))throw this.setCacheOutcome(mr.FORCE_REFRESH_OR_CLAIMS,e.correlationId),H(tr);if(!e.account)throw H(Zl);const r=e.account.tenantId||cA(e.authority),o=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,o,r,this.performanceClient,e.correlationId);if(i){if(NT(i.cachedAt)||rl(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(mr.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),H(tr);i.refreshOn&&rl(i.refreshOn,0)&&(t=mr.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(mr.NO_CACHED_ACCESS_TOKEN,e.correlationId),H(tr);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,o,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await S(this.generateResultFromCacheRecord.bind(this),_.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){var r,o;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(o=this.performanceClient)==null||o.addFields({cacheOutcome:e},t),e!==mr.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(_.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let r;if(e.idToken&&(r=Po(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){const i=r==null?void 0:r.auth_time;if(!i)throw H(Xl);em(i,t.maxAge)}return kr.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}/*! @azure/msal-common v15.7.0 2025-05-30 */const EA={sendGetRequestAsync:()=>Promise.reject(H(ue)),sendPostRequestAsync:()=>Promise.reject(H(ue))};/*! @azure/msal-common v15.7.0 2025-05-30 */function wA(n,e,t,r){var a,c;const o=e.correlationId,i=new Map;fu(i,e.embeddedClientId||((a=e.extraQueryParameters)==null?void 0:a[Rr])||n.clientId);const s=[...e.scopes||[],...e.extraScopesToConsent||[]];if(hu(i,s,!0,(c=n.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),pu(i,e.redirectUri),mu(i,o),Gb(i,e.responseMode),vu(i),e.prompt&&(Yb(i,e.prompt),r==null||r.addFields({prompt:e.prompt},o)),e.domainHint&&(qb(i,e.domainHint),r==null||r.addFields({domainHintFromRequest:!0},o)),e.prompt!==Xe.SELECT_ACCOUNT)if(e.sid&&e.prompt===Xe.NONE)t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),kh(i,e.sid),r==null||r.addFields({sidFromRequest:!0},o);else if(e.account){const u=AA(e.account);let l=SA(e.account);if(l&&e.domainHint&&(t.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),l=null),l){t.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),zi(i,l),r==null||r.addFields({loginHintFromClaim:!0},o);try{const d=po(e.account.homeAccountId);ui(i,d)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(u&&e.prompt===Xe.NONE){t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),kh(i,u),r==null||r.addFields({sidFromClaim:!0},o);try{const d=po(e.account.homeAccountId);ui(i,d)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)t.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),zi(i,e.loginHint),Hs(i,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},o);else if(e.account.username){t.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),zi(i,e.account.username),r==null||r.addFields({loginHintFromUpn:!0},o);try{const d=po(e.account.homeAccountId);ui(i,d)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(t.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),zi(i,e.loginHint),Hs(i,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},o));else t.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&Qb(i,e.nonce),e.state&&Im(i,e.state),(e.claims||n.clientCapabilities&&n.clientCapabilities.length>0)&&gu(i,e.claims,n.clientCapabilities),e.embeddedClientId&&wa(i,n.clientId,n.redirectUri),n.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(il))&&Nm(i),i}function Km(n,e,t,r){const o=Ci(e,t,r);return pe.appendQueryString(n.authorizationEndpoint,o)}function TA(n,e){if(jm(n,e),!n.code)throw H(Qg);return n}function jm(n,e){if(!n.state||!e)throw n.state?H(Xc,"Cached State"):H(Xc,"Server State");let t,r;try{t=decodeURIComponent(n.state)}catch{throw H(Co,n.state)}try{r=decodeURIComponent(e)}catch{throw H(Co,n.state)}if(t!==r)throw H(Bg);if(n.error||n.error_description||n.suberror){const o=bA(n);throw $m(n.error,n.error_description,n.suberror)?new on(n.error||"",n.error_description,n.suberror,n.timestamp||"",n.trace_id||"",n.correlation_id||"",n.claims||"",o):new Ur(n.error||"",n.error_description,n.suberror,o)}}function bA(n){var r,o;const e="code=",t=(r=n.error_uri)==null?void 0:r.lastIndexOf(e);return t&&t>=0?(o=n.error_uri)==null?void 0:o.substring(t+e.length):void 0}function AA(n){var e;return((e=n.idTokenClaims)==null?void 0:e.sid)||null}function SA(n){var e;return((e=n.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.7.0 2025-05-30 */const Ph=",",Gm="|";function IA(n){const{skus:e,libraryName:t,libraryVersion:r,extensionName:o,extensionVersion:i}=n,s=new Map([[0,[t,r]],[2,[o,i]]]);let a=[];if(e!=null&&e.length){if(a=e.split(Ph),a.length<4)return e}else a=Array.from({length:4},()=>Gm);return s.forEach((c,u)=>{var l,d;c.length===2&&((l=c[0])!=null&&l.length)&&((d=c[1])!=null&&d.length)&&RA({skuArr:a,index:u,skuName:c[0],skuVersion:c[1]})}),a.join(Ph)}function RA(n){const{skuArr:e,index:t,skuName:r,skuVersion:o}=n;t>=e.length||(e[t]=[r,o].join(Gm))}class Ei{constructor(e,t){this.cacheOutcome=mr.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||T.EMPTY_STRING,this.wrapperVer=e.wrapperVer||T.EMPTY_STRING,this.telemetryCacheKey=Qe.CACHE_KEY+tt.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Qe.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&t.push(`broker_error=${r}`);const o=t.join(Qe.VALUE_SEPARATOR),i=this.getRegionDiscoveryFields(),s=[e,i].join(Qe.VALUE_SEPARATOR);return[Qe.SCHEMA_VERSION,s,o].join(Qe.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Ei.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(Qe.VALUE_SEPARATOR),o=e.errors.slice(0,t).join(Qe.VALUE_SEPARATOR),i=e.errors.length,s=t<i?Qe.OVERFLOW_TRUE:Qe.OVERFLOW_FALSE,a=[i,s].join(Qe.VALUE_SEPARATOR);return[Qe.SCHEMA_VERSION,e.cacheHits,r,o,a].join(Qe.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=Qe.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Pe?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(Qe.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),t=Ei.maxErrorsToSend(e),r=e.errors.length;if(t===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{const o={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o)}}static maxErrorsToSend(e){let t,r=0,o=0;const i=e.errors.length;for(t=0;t<i;t++){const s=e.failedRequests[2*t]||T.EMPTY_STRING,a=e.failedRequests[2*t+1]||T.EMPTY_STRING,c=e.errors[t]||T.EMPTY_STRING;if(o+=s.toString().length+a.toString().length+c.length+3,o<Qe.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||T.EMPTY_STRING),e.push(this.regionSource||T.EMPTY_STRING),e.push(this.regionOutcome||T.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return IA(e)}}/*! @azure/msal-common v15.7.0 2025-05-30 */const Vm="missing_kid_error",Wm="missing_alg_error";/*! @azure/msal-common v15.7.0 2025-05-30 */const kA={[Vm]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Wm]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class bu extends Pe{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,bu.prototype)}}function Nh(n){return new bu(n,kA[n])}/*! @azure/msal-common v15.7.0 2025-05-30 */class Au{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Nh(Vm);if(!e.alg)throw Nh(Wm);const t=new Au({typ:e.typ||mT.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}/*! @azure/msal-common v15.7.0 2025-05-30 */class Mh{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class OA{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:aA.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Mh}}startPerformanceMeasurement(){return new Mh}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v4.13.1 2025-06-10 */const Su="pkce_not_created",Iu="ear_jwk_empty",zm="ear_jwe_empty",al="crypto_nonexistent",Ia="empty_navigate_uri",qm="hash_empty_error",Ru="no_state_in_hash",Ym="hash_does_not_contain_known_properties",Qm="unable_to_parse_state",Jm="state_interaction_type_mismatch",Xm="interaction_in_progress",Zm="popup_window_error",e_="empty_window_error",wi="user_cancelled",PA="monitor_popup_timeout",t_="monitor_window_timeout",n_="redirect_in_iframe",r_="block_iframe_reload",o_="block_nested_popups",NA="iframe_closed_prematurely",Ra="silent_logout_unsupported",i_="no_account_error",MA="silent_prompt_value_error",s_="no_token_request_cache_error",a_="unable_to_parse_token_request_cache_error",DA="auth_request_not_set_error",xA="invalid_cache_type",ka="non_browser_environment",Zr="database_not_open",$s="no_network_connectivity",c_="post_request_failed",l_="get_request_failed",cl="failed_to_parse_response",u_="unable_to_load_token",ku="crypto_key_not_found",d_="auth_code_required",h_="auth_code_or_nativeAccountId_required",f_="spa_code_and_nativeAccountId_present",Ou="database_unavailable",p_="unable_to_acquire_token_from_native_platform",g_="native_handshake_timeout",m_="native_extension_not_installed",Pu="native_connection_not_established",Fs="uninitialized_public_client_application",__="native_prompt_not_supported",y_="invalid_base64_string",v_="invalid_pop_token_request",C_="failed_to_build_headers",E_="failed_to_parse_headers",ls="failed_to_decrypt_ear_response";/*! @azure/msal-browser v4.13.1 2025-06-10 */const kn="For more visit: aka.ms/msaljs/browser-errors",LA={[Su]:"The PKCE code challenge and verifier could not be generated.",[Iu]:"No EAR encryption key provided. This is unexpected.",[zm]:"Server response does not contain ear_jwe property. This is unexpected.",[al]:"The crypto object or function is not available.",[Ia]:"Navigation URI is empty. Please check stack trace for more info.",[qm]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${kn}`,[Ru]:"Hash does not contain state. Please verify that the request originated from msal.",[Ym]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${kn}`,[Qm]:"Unable to parse state. Please verify that the request originated from msal.",[Jm]:"Hash contains state but the interaction type does not match the caller.",[Xm]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${kn}`,[Zm]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[e_]:"window.open returned null or undefined window object.",[wi]:"User cancelled the flow.",[PA]:`Token acquisition in popup failed due to timeout.  ${kn}`,[t_]:`Token acquisition in iframe failed due to timeout.  ${kn}`,[n_]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[r_]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${kn}`,[o_]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[NA]:"The iframe being monitored was closed prematurely.",[Ra]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[i_]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[MA]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[s_]:"No token request found in cache.",[a_]:"The cached token request could not be parsed.",[DA]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[xA]:"Invalid cache type",[ka]:"Login and token requests are not supported in non-browser environments.",[Zr]:"Database is not open!",[$s]:"No network connectivity. Check your internet connection.",[c_]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[l_]:"Network request failed. Please check the network trace to determine root cause.",[cl]:"Failed to parse network response. Check network trace.",[u_]:"Error loading token to cache.",[ku]:"Cryptographic Key or Keypair not found in browser storage.",[d_]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[h_]:"An authorization code or nativeAccountId must be provided to this flow.",[f_]:"Request cannot contain both spa code and native account id.",[Ou]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[p_]:`Unable to acquire token from native platform.  ${kn}`,[g_]:"Timed out while attempting to establish connection to browser extension",[m_]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Pu]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${kn}`,[Fs]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${kn}`,[__]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[y_]:"Invalid base64 encoded string.",[v_]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[C_]:"Failed to build request headers object.",[E_]:"Failed to parse response headers",[ls]:"Failed to decrypt ear response"};class Mi extends Pe{constructor(e,t){super(e,LA[e],t),Object.setPrototypeOf(this,Mi.prototype),this.name="BrowserAuthError"}}function W(n,e){return new Mi(n,e)}/*! @azure/msal-browser v4.13.1 2025-06-10 */const yt={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Kt={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},Wo={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},qe={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Dh={GET:"GET",POST:"POST"},Qn={SIGNIN:"signin",SIGNOUT:"signout"},$e={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},yn={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys",VERSION:"msal.version"},qi={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Re={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var te;(function(n){n.Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none"})(te||(te={}));const xh={scopes:Ni},w_="jwk",ll="msal.db",HA=1,UA=`${ll}.keys`,ct={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},$A=[ct.Default,ct.Skip,ct.RefreshTokenAndNetwork],FA="msal.browser.log.level",BA="msal.browser.log.pii",KA="msal.browser.platform.auth.dom";/*! @azure/msal-browser v4.13.1 2025-06-10 */function Yi(n){return encodeURIComponent(Ti(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ir(n){return T_(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ti(n){return T_(new TextEncoder().encode(n))}function T_(n){const e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}/*! @azure/msal-browser v4.13.1 2025-06-10 */function tn(n){return new TextDecoder().decode(nr(n))}function nr(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw W(y_)}const t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.13.1 2025-06-10 */const jA="RSASSA-PKCS1-v1_5",Mo="AES-GCM",b_="HKDF",Nu="SHA-256",GA=2048,VA=new Uint8Array([1,0,1]),Lh="0123456789abcdef",Hh=new Uint32Array(1),Mu="raw",A_="encrypt",Du="decrypt",WA="deriveKey",zA="crypto_subtle_undefined",xu={name:jA,hash:Nu,modulusLength:GA,publicExponent:VA};function qA(n){if(!window)throw W(ka);if(!window.crypto)throw W(al);if(!n&&!window.crypto.subtle)throw W(al,zA)}async function S_(n,e,t){e==null||e.addQueueMeasurement(_.Sha256Digest,t);const o=new TextEncoder().encode(n);return window.crypto.subtle.digest(Nu,o)}function YA(n){return window.crypto.getRandomValues(n)}function pc(){return window.crypto.getRandomValues(Hh),Hh[0]}function sn(){const n=Date.now(),e=pc()*1024+(pc()&1023),t=new Uint8Array(16),r=Math.trunc(e/2**30),o=e&2**30-1,i=pc();t[0]=n/2**40,t[1]=n/2**32,t[2]=n/2**24,t[3]=n/2**16,t[4]=n/2**8,t[5]=n,t[6]=112|r>>>8,t[7]=r,t[8]=128|o>>>24,t[9]=o>>>16,t[10]=o>>>8,t[11]=o,t[12]=i>>>24,t[13]=i>>>16,t[14]=i>>>8,t[15]=i;let s="";for(let a=0;a<t.length;a++)s+=Lh.charAt(t[a]>>>4),s+=Lh.charAt(t[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function QA(n,e){return window.crypto.subtle.generateKey(xu,n,e)}async function gc(n){return window.crypto.subtle.exportKey(w_,n)}async function JA(n,e,t){return window.crypto.subtle.importKey(w_,n,xu,e,t)}async function XA(n,e){return window.crypto.subtle.sign(xu,n,e)}async function Lu(){const n=await I_(),t={alg:"dir",kty:"oct",k:ir(new Uint8Array(n))};return Ti(JSON.stringify(t))}async function ZA(n){const e=tn(n),r=JSON.parse(e).k,o=nr(r);return window.crypto.subtle.importKey(Mu,o,Mo,!1,[Du])}async function eS(n,e){const t=e.split(".");if(t.length!==5)throw W(ls,"jwe_length");const r=await ZA(n).catch(()=>{throw W(ls,"import_key")});try{const o=new TextEncoder().encode(t[0]),i=nr(t[2]),s=nr(t[3]),a=nr(t[4]),c=a.byteLength*8,u=new Uint8Array(s.length+a.length);u.set(s),u.set(a,s.length);const l=await window.crypto.subtle.decrypt({name:Mo,iv:i,tagLength:c,additionalData:o},r,u);return new TextDecoder().decode(l)}catch{throw W(ls,"decrypt")}}async function I_(){const n=await window.crypto.subtle.generateKey({name:Mo,length:256},!0,[A_,Du]);return window.crypto.subtle.exportKey(Mu,n)}async function Uh(n){return window.crypto.subtle.importKey(Mu,n,b_,!1,[WA])}async function R_(n,e,t){return window.crypto.subtle.deriveKey({name:b_,salt:e,hash:Nu,info:new TextEncoder().encode(t)},n,{name:Mo,length:256},!1,[A_,Du])}async function tS(n,e,t){const r=new TextEncoder().encode(e),o=window.crypto.getRandomValues(new Uint8Array(16)),i=await R_(n,o,t),s=await window.crypto.subtle.encrypt({name:Mo,iv:new Uint8Array(12)},i,r);return{data:ir(new Uint8Array(s)),nonce:ir(o)}}async function nS(n,e,t,r){const o=nr(r),i=await R_(n,nr(e),t),s=await window.crypto.subtle.decrypt({name:Mo,iv:new Uint8Array(12)},i,o);return new TextDecoder().decode(s)}async function k_(n){const e=await S_(n),t=new Uint8Array(e);return ir(t)}/*! @azure/msal-browser v4.13.1 2025-06-10 */const Oa="storage_not_supported",O_="stubbed_public_client_application_called",Hu="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.13.1 2025-06-10 */const us={[Oa]:"Given storage configuration option was not supported.",[O_]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Hu]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};us[Oa],us[O_],us[Hu];class Uu extends Pe{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Uu.prototype)}}function $u(n){return new Uu(n,us[n])}/*! @azure/msal-browser v4.13.1 2025-06-10 */function P_(n){n.location.hash="",typeof n.history.replaceState=="function"&&n.history.replaceState(null,"",`${n.location.origin}${n.location.pathname}${n.location.search}`)}function rS(n){const e=n.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Fu(){return window.parent!==window}function oS(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${yt.POPUP_NAME_PREFIX}.`)===0}function Dn(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function iS(){const e=new pe(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function sS(){if(pe.hashContainsKnownProperties(window.location.hash)&&Fu())throw W(r_)}function aS(n){if(Fu()&&!n)throw W(n_)}function cS(){if(oS())throw W(o_)}function N_(){if(typeof window>"u")throw W(ka)}function M_(n){if(!n)throw W(Fs)}function Bu(n){N_(),sS(),cS(),M_(n)}function $h(n,e){if(Bu(n),aS(e.system.allowRedirectInIframe),e.cache.cacheLocation===qe.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw $u(Hu)}function D_(n){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(n).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function lS(){return sn()}/*! @azure/msal-browser v4.13.1 2025-06-10 */class Bs{navigateInternal(e,t){return Bs.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Bs.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},t.timeout)})}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class uS{async sendGetRequestAsync(e,t){let r,o={},i=0;const s=Fh(t);try{r=await fetch(e,{method:Dh.GET,headers:s})}catch(a){throw Xo(W(window.navigator.onLine?l_:$s),void 0,void 0,a)}o=Bh(r.headers);try{return i=r.status,{headers:o,body:await r.json(),status:i}}catch(a){throw Xo(W(cl),i,o,a)}}async sendPostRequestAsync(e,t){const r=t&&t.body||"",o=Fh(t);let i,s=0,a={};try{i=await fetch(e,{method:Dh.POST,headers:o,body:r})}catch(c){throw Xo(W(window.navigator.onLine?c_:$s),void 0,void 0,c)}a=Bh(i.headers);try{return s=i.status,{headers:a,body:await i.json(),status:s}}catch(c){throw Xo(W(cl),s,a,c)}}}function Fh(n){try{const e=new Headers;if(!(n&&n.headers))return e;const t=n.headers;return Object.entries(t).forEach(([r,o])=>{e.append(r,o)}),e}catch(e){throw Xo(W(C_),void 0,void 0,e)}}function Bh(n){try{const e={};return n.forEach((t,r)=>{e[r]=t}),e}catch{throw W(E_)}}/*! @azure/msal-browser v4.13.1 2025-06-10 */const dS=6e4,ul=1e4,hS=3e4,x_=2e3;function fS({auth:n,cache:e,system:t,telemetry:r},o){const i={clientId:T.EMPTY_STRING,authority:`${T.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:T.EMPTY_STRING,authorityMetadata:T.EMPTY_STRING,redirectUri:typeof window<"u"?Dn():"",postLogoutRedirectUri:T.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Lt.AAD,OIDCOptions:{serverResponseType:ga.FRAGMENT,defaultScopes:[T.OPENID_SCOPE,T.PROFILE_SCOPE,T.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:ou.None,tenant:T.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},s={cacheLocation:qe.SessionStorage,temporaryCacheLocation:qe.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===qe.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:Se.Info,piiLoggingEnabled:!1},u={...{...Em,loggerOptions:a,networkClient:o?new uS:EA,navigationClient:new Bs,loadFrameTimeout:0,windowHashTimeout:(t==null?void 0:t.loadFrameTimeout)||dS,iframeHashTimeout:(t==null?void 0:t.loadFrameTimeout)||ul,navigateFrameWait:0,redirectNavigationTimeout:hS,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(t==null?void 0:t.nativeBrokerHandshakeTimeout)||x_,pollIntervalMilliseconds:yt.DEFAULT_POLL_INTERVAL_MS},...t,loggerOptions:(t==null?void 0:t.loggerOptions)||a},l={application:{appName:T.EMPTY_STRING,appVersion:T.EMPTY_STRING},client:new OA};if((n==null?void 0:n.protocolMode)!==Lt.OIDC&&(n!=null&&n.OIDCOptions)&&new or(u.loggerOptions).warning(JSON.stringify(Ae(fm))),n!=null&&n.protocolMode&&n.protocolMode===Lt.OIDC&&(u!=null&&u.allowPlatformBroker))throw Ae(pm);return{auth:{...i,...n,OIDCOptions:{...i.OIDCOptions,...n==null?void 0:n.OIDCOptions}},cache:{...s,...e},system:u,telemetry:{...l,...r}}}/*! @azure/msal-browser v4.13.1 2025-06-10 */const pS="@azure/msal-browser",Or="4.13.1";/*! @azure/msal-browser v4.13.1 2025-06-10 */class Ku{static loggerCallback(e,t){switch(e){case Se.Error:console.error(t);return;case Se.Info:console.info(t);return;case Se.Verbose:console.debug(t);return;case Se.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=fS(e,this.browserEnvironment);let t;try{t=window[qe.SessionStorage]}catch{}const r=t==null?void 0:t.getItem(FA),o=(c=t==null?void 0:t.getItem(BA))==null?void 0:c.toLowerCase(),i=o==="true"?!0:o==="false"?!1:void 0,s={...this.config.system.loggerOptions},a=r&&Object.keys(Se).includes(r)?Se[r]:void 0;a&&(s.loggerCallback=Ku.loggerCallback,s.logLevel=a),i!==void 0&&(s.piiLoggingEnabled=i),this.logger=new or(s,pS,Or),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class Pr extends Ku{getModuleName(){return Pr.MODULE_NAME}getId(){return Pr.ID}async initialize(){return this.available=typeof window<"u",this.available}}Pr.MODULE_NAME="";Pr.ID="StandardOperatingContext";/*! @azure/msal-browser v4.13.1 2025-06-10 */class gS{constructor(){this.dbName=ll,this.version=HA,this.tableName=UA,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",o=>{o.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",o=>{const i=o;this.db=i.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>t(W(Ou)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(W(Zr));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),t(c.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((r,o)=>{if(!this.db)return o(W(Zr));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",c=>{this.closeConnection(),o(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(W(Zr));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),t()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(W(Zr));const i=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();i.addEventListener("success",s=>{const a=s;this.closeConnection(),e(a.target.result)}),i.addEventListener("error",s=>{this.closeConnection(),t(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(W(Zr));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),t(c.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const r=window.indexedDB.deleteDatabase(ll),o=setTimeout(()=>t(!1),200);r.addEventListener("success",()=>(clearTimeout(o),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(o),e(!0))),r.addEventListener("error",()=>(clearTimeout(o),t(!1)))})}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class Pa{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class mS{constructor(e){this.inMemoryCache=new Pa,this.indexedDBCache=new gS,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Mi&&e.errorCode===Ou)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class Fn{constructor(e,t,r){this.logger=e,qA(r??!1),this.cache=new mS(this.logger),this.performanceClient=t}createNewGuid(){return sn()}base64Encode(e){return Ti(e)}base64Decode(e){return tn(e)}base64UrlEncode(e){return Yi(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var l;const t=(l=this.performanceClient)==null?void 0:l.startMeasurement(_.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await QA(Fn.EXTRACTABLE,Fn.POP_KEY_USAGES),o=await gc(r.publicKey),i={e:o.e,kty:o.kty,n:o.n},s=Kh(i),a=await this.hashString(s),c=await gc(r.privateKey),u=await JA(c,!1,["sign"]);return await this.cache.setItem(a,{privateKey:u,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),a}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,r,o){var M;const i=(M=this.performanceClient)==null?void 0:M.startMeasurement(_.CryptoOptsSignJwt,o),s=await this.cache.getItem(t);if(!s)throw W(ku);const a=await gc(s.publicKey),c=Kh(a),u=Yi(JSON.stringify({kid:t})),l=Au.getShrHeaderString({...r==null?void 0:r.header,alg:a.alg,kid:u}),d=Yi(l);e.cnf={jwk:JSON.parse(c)};const h=Yi(JSON.stringify(e)),f=`${d}.${h}`,v=new TextEncoder().encode(f),E=await XA(s.privateKey,v),R=ir(new Uint8Array(E)),O=`${f}.${R}`;return i&&i.end({success:!0}),O}async hashString(e){return k_(e)}}Fn.POP_KEY_USAGES=["sign","verify"];Fn.EXTRACTABLE=!0;function Kh(n){return JSON.stringify(n,Object.keys(n).sort())}/*! @azure/msal-browser v4.13.1 2025-06-10 */const _S=24*60*60*1e3,dl={Lax:"Lax",None:"None"};class L_{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let o=0;o<r.length;o++){const i=r[o],[s,...a]=decodeURIComponent(i).trim().split("="),c=a.join("=");if(s===t)return c}return""}getUserData(){throw H(ue)}setItem(e,t,r,o=!0,i=dl.Lax){let s=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${i};`;if(r){const a=yS(r);s+=`expires=${a};`}(o||i===dl.None)&&(s+="Secure;"),document.cookie=s}async setUserData(){return Promise.reject(H(ue))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach(r=>{const o=decodeURIComponent(r).trim().split("=");t.push(o[0])}),t}containsKey(e){return this.getKeys().includes(e)}}function yS(n){const e=new Date;return new Date(e.getTime()+n*_S).toUTCString()}/*! @azure/msal-browser v4.13.1 2025-06-10 */function hl(n){const e=n.getItem(yn.ACCOUNT_KEYS);return e?JSON.parse(e):[]}function fl(n,e){const t=e.getItem(`${yn.TOKEN_KEYS}.${n}`);if(t){const r=JSON.parse(t);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.13.1 2025-06-10 */const jh="msal.cache.encryption",vS="msal.broadcast.cache";class CS{constructor(e,t,r){if(!window.localStorage)throw $u(Oa);this.memoryStorage=new Pa,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=r,this.broadcast=new BroadcastChannel(vS)}async initialize(e){const t=new L_,r=t.getItem(jh);let o={key:"",id:""};if(r)try{o=JSON.parse(r)}catch{}if(o.key&&o.id){const i=rn(nr,_.Base64Decode,this.logger,this.performanceClient,e)(o.key);this.encryptionCookie={id:o.id,key:await S(Uh,_.GenerateHKDF,this.logger,this.performanceClient,e)(i)},await S(this.importExistingCache.bind(this),_.ImportExistingCache,this.logger,this.performanceClient,e)(e)}else{this.clear();const i=sn(),s=await S(I_,_.GenerateBaseKey,this.logger,this.performanceClient,e)(),a=rn(ir,_.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(s));this.encryptionCookie={id:i,key:await S(Uh,_.GenerateHKDF,this.logger,this.performanceClient,e)(s)};const c={id:i,key:a};t.setItem(jh,JSON.stringify(c),0,!0,dl.None)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw W(Fs);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,r){if(!this.initialized||!this.encryptionCookie)throw W(Fs);const{data:o,nonce:i}=await S(tS,_.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,t,this.getContext(e)),s={id:this.encryptionCookie.id,nonce:i,data:o};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(s)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),hl(this).forEach(r=>this.removeItem(r));const t=fl(this.clientId,this);t.idToken.forEach(r=>this.removeItem(r)),t.accessToken.forEach(r=>this.removeItem(r)),t.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(T.CACHE_PREFIX)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let t=hl(this);t=await this.importArray(t,e),this.setItem(yn.ACCOUNT_KEYS,JSON.stringify(t));const r=fl(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),this.setItem(`${yn.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let o;try{o=JSON.parse(r)}catch{return null}return!o.id||!o.nonce||!o.data?(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null):o.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):S(nS,_.Decrypt,this.logger,this.performanceClient,t)(this.encryptionCookie.key,o.nonce,this.getContext(e),o.data)}async importArray(e,t){const r=[],o=[];return e.forEach(i=>{const s=this.getItemFromEncryptedCache(i,t).then(a=>{a?(this.memoryStorage.setItem(i,a),r.push(i)):this.removeItem(i)});o.push(s)}),await Promise.all(o),r}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(_.LocalStorageUpdated);t.add({isBackground:!0});const{key:r,value:o,context:i}=e.data;if(!r){this.logger.error("Broadcast event missing key"),t.end({success:!1,errorCode:"noKey"});return}if(i&&i!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${i}`),t.end({success:!1,errorCode:"contextMismatch"});return}o?(this.memoryStorage.setItem(r,o),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),t.end({success:!0})}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class ES{constructor(){if(!window.sessionStorage)throw $u(Oa)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v4.13.1 2025-06-10 */const ee={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.13.1 2025-06-10 */class pl extends ol{constructor(e,t,r,o,i,s,a){super(e,r,o,a),this.cacheConfig=t,this.logger=o,this.internalStorage=new Pa,this.browserStorage=Gh(e,t.cacheLocation,o,i),this.temporaryCacheStorage=Gh(e,t.temporaryCacheLocation,o,i),this.cookieStorage=new L_,this.performanceClient=i,this.eventHandler=s}async initialize(e){await this.browserStorage.initialize(e),this.trackVersionChanges(e)}trackVersionChanges(e){const t=this.browserStorage.getItem(yn.VERSION);t&&(this.logger.info(`MSAL.js was last initialized by version: ${t}`),this.performanceClient.addFields({previousLibraryVersion:t},e)),t!==Or&&this.browserStorage.setItem(yn.VERSION,Or)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const r=this.validateAndParseJson(t);return!r||!dt.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):ol.toObject(new dt,r)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const r=e.generateAccountKey();await S(this.browserStorage.setUserData.bind(this.browserStorage),_.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),t);const o=this.addAccountKeyToMap(r);this.cacheConfig.cacheLocation===qe.LocalStorage&&o&&this.eventHandler.emitEvent(ee.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return hl(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return t.indexOf(e)===-1?(t.push(e),this.browserStorage.setItem(yn.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),r=t.indexOf(e);r>-1?(t.splice(r,1),this.browserStorage.setItem(yn.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===qe.LocalStorage&&this.eventHandler.emitEvent(ee.ACCOUNT_REMOVED,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,ae.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,ae.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,ae.REFRESH_TOKEN)}getTokenKeys(){return fl(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(t){case ae.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case ae.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case ae.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),H(nl)}this.browserStorage.setItem(`${yn.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(t){case ae.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const o=r.idToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case ae.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const i=r.accessToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case ae.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const s=r.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),H(nl)}this.browserStorage.setItem(`${yn.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,ae.ID_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!DT(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,ae.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=li(e);await S(this.browserStorage.setUserData.bind(this.browserStorage),_.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),t),this.addTokenKey(r,ae.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,ae.ACCESS_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!MT(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,ae.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=li(e);await S(this.browserStorage.setUserData.bind(this.browserStorage),_.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),t),this.addTokenKey(r,ae.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,ae.REFRESH_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!xT(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,ae.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=li(e);await S(this.browserStorage.setUserData.bind(this.browserStorage),_.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),t),this.addTokenKey(r,ae.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!GT(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=jT(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!BT(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&VT(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(qi.WRAPPER_SKU,e),this.internalStorage.setItem(qi.WRAPPER_VER,t)}getWrapperMetadata(){const e=this.internalStorage.getItem(qi.WRAPPER_SKU)||T.EMPTY_STRING,t=this.internalStorage.getItem(qi.WRAPPER_VER)||T.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(_h.ACTIVE_ACCOUNT_FILTERS),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const r=this.validateAndParseJson(t);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(_h.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(r))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(ee.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!KT(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const i=this.cookieStorage.getItem(r);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),i}const o=this.temporaryCacheStorage.getItem(r);if(!o){if(this.cacheConfig.cacheLocation===qe.LocalStorage){const i=this.browserStorage.getItem(r);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o}setTemporaryCache(e,t,r){const o=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(o,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(o,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(T.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(T.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(_.ClearTokensAndKeysWithClaims,t);const r=this.getTokenKeys(),o=[];r.accessToken.forEach(i=>{const s=this.getAccessTokenCredential(i);s!=null&&s.requestedClaimsHash&&i.includes(s.requestedClaimsHash.toLowerCase())&&o.push(this.removeAccessToken(i))}),await Promise.all(o),o.length>0&&this.logger.warning(`${o.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):wn.startsWith(e,T.CACHE_PREFIX)?e:`${T.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey($e.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey($e.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey($e.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey($e.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey($e.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=Ti(JSON.stringify(e));if(this.setTemporaryCache($e.REQUEST_PARAMS,r,!0),t){const o=Ti(t);this.setTemporaryCache($e.VERIFIER,o,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache($e.REQUEST_PARAMS,!0);if(!e)throw W(s_);const t=this.getTemporaryCache($e.VERIFIER,!0);let r,o="";try{r=JSON.parse(tn(e)),t&&(o=tn(t))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),W(a_)}return[r,o]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache($e.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var r;const t=(r=this.getInteractionInProgress())==null?void 0:r.clientId;return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${T.CACHE_PREFIX}.${$e.INTERACTION_STATUS_KEY}`,t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),P_(window),null}}setInteractionInProgress(e,t=Qn.SIGNIN){var o;const r=`${T.CACHE_PREFIX}.${$e.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw W(Xm);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:t}),!1)}else!e&&((o=this.getInteractionInProgress())==null?void 0:o.clientId)===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,t){var a,c,u;const r=ma((a=e.account)==null?void 0:a.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let o;t.claims&&(o=await this.cryptoImpl.hashString(t.claims));const i=_a((u=e.account)==null?void 0:u.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?wh(e.expiresOn):0,e.extExpiresOn?wh(e.extExpiresOn):0,tn,void 0,e.tokenType,void 0,t.sshKid,t.claims,o),s={idToken:r,accessToken:i};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,t,r){try{await super.saveCacheRecord(e,t,r)}catch(o){if(o instanceof go&&this.performanceClient&&t)try{const i=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:i.refreshToken.length,cacheIdCount:i.idToken.length,cacheAtCount:i.accessToken.length},t)}catch{}throw o}}}function Gh(n,e,t,r){try{switch(e){case qe.LocalStorage:return new CS(n,t,r);case qe.SessionStorage:return new ES;case qe.MemoryStorage:default:break}}catch(o){t.error(o)}return new Pa}const wS=(n,e,t,r)=>{const o={cacheLocation:qe.MemoryStorage,temporaryCacheLocation:qe.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new pl(n,o,Ps,e,t,r)};/*! @azure/msal-browser v4.13.1 2025-06-10 */function TS(n,e,t,r){return n.verbose("getAllAccounts called"),t?e.getAllAccounts(r):[]}function bS(n,e,t){if(e.trace("getAccount called"),Object.keys(n).length===0)return e.warning("getAccount: No accountFilter provided"),null;const r=t.getAccountInfoFilteredBy(n);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function AS(n,e,t){if(e.trace("getAccountByUsername called"),!n)return e.warning("getAccountByUsername: No username provided"),null;const r=t.getAccountInfoFilteredBy({username:n});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${n}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function SS(n,e,t){if(e.trace("getAccountByHomeId called"),!n)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=t.getAccountInfoFilteredBy({homeAccountId:n});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${n}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function IS(n,e,t){if(e.trace("getAccountByLocalId called"),!n)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=t.getAccountInfoFilteredBy({localAccountId:n});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${n}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function RS(n,e){e.setActiveAccount(n)}function kS(n){return n.getActiveAccount()}/*! @azure/msal-browser v4.13.1 2025-06-10 */const OS="msal.broadcast.event";let PS=class{constructor(e){this.eventCallbacks=new Map,this.logger=e||new or({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(OS)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,r){if(typeof window<"u"){const o=r||lS();return this.eventCallbacks.has(o)?(this.logger.error(`Event callback with id: ${o} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(o,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${o}`),o)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,r,o){var s;const i={eventType:e,interactionType:t||null,payload:r||null,error:o||null,timestamp:Date.now()};switch(e){case ee.ACCOUNT_ADDED:case ee.ACCOUNT_REMOVED:case ee.ACTIVE_ACCOUNT_CHANGED:(s=this.broadcastChannel)==null||s.postMessage(i);break;default:this.invokeCallbacks(i);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([t,r],o)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${o}: ${e.eventType}`),t.apply(null,[e]))})}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}};/*! @azure/msal-browser v4.13.1 2025-06-10 */class H_{constructor(e,t,r,o,i,s,a,c,u){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=s,this.platformAuthProvider=c,this.correlationId=u||sn(),this.logger=o.clone(yt.MSAL_SKU,Or,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){dt.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(dt.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return pe.getAbsoluteUrl(t,Dn())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Ei(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(_.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const o={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,s=r!=null&&r.length?r==="true":this.config.auth.instanceAware,a=t&&s?this.config.auth.authority.replace(pe.getDomainFromUrl(i),t.environment):i,c=Ze.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),u=await S(Hm,_.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,o,this.logger,this.correlationId,this.performanceClient);if(t&&!u.isAlias(t.environment))throw Ae(gm);return u}}/*! @azure/msal-browser v4.13.1 2025-06-10 */async function ju(n,e,t,r){t.addQueueMeasurement(_.InitializeBaseRequest,n.correlationId);const o=n.authority||e.auth.authority,i=[...n&&n.scopes||[]],s={...n,correlationId:n.correlationId,authority:o,scopes:i};if(!s.authenticationScheme)s.authenticationScheme=be.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===be.SSH){if(!n.sshJwk)throw Ae(Ca);if(!n.sshKid)throw Ae(hm)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&n.claims&&!wn.isEmptyObj(n.claims)&&(s.requestedClaimsHash=await k_(n.claims)),s}async function NS(n,e,t,r,o){r.addQueueMeasurement(_.InitializeSilentRequest,n.correlationId);const i=await S(ju,_.InitializeBaseRequest,o,r,n.correlationId)(n,t,r,o);return{...n,...i,account:e,forceRefresh:n.forceRefresh||!1}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class Do extends H_{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const t={correlationId:this.correlationId||sn(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=pe.getAbsoluteUrl(e.postLogoutRedirectUri,Dn())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=pe.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Dn())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=pe.getAbsoluteUrl(Dn(),Dn())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(_.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const t=await S(this.getClientConfiguration.bind(this),_.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Bm(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:r,requestAzureCloudOptions:o,requestExtraQueryParameters:i,account:s}=e;this.performanceClient.addQueueMeasurement(_.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await S(this.getDiscoveredAuthority.bind(this),_.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:o,requestExtraQueryParameters:i,account:s}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:yt.MSAL_SKU,version:Or,cpu:T.EMPTY_STRING,os:T.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(_.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),o={interactionType:t},i=No.setRequestState(this.browserCrypto,e&&e.state||T.EMPTY_STRING,o),a={...await S(ju,_.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:i,nonce:e.nonce||sn(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return a;const c=e.account||this.browserStorage.getActiveAccount();return c&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${c.homeAccountId}`,this.correlationId),a.account=c),a}}/*! @azure/msal-browser v4.13.1 2025-06-10 */function MS(n,e){if(!e)return null;try{return No.parseRequestState(n,e).libraryState.meta}catch{throw H(Co)}}/*! @azure/msal-browser v4.13.1 2025-06-10 */function Ks(n,e,t){const r=Ms(n);if(!r)throw _m(n)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${n}`),W(Ym)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),W(qm));return r}function DS(n,e,t){if(!n.state)throw W(Ru);const r=MS(e,n.state);if(!r)throw W(Qm);if(r.interactionType!==t)throw W(Jm)}/*! @azure/msal-browser v4.13.1 2025-06-10 */class U_{constructor(e,t,r,o,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=o,this.performanceClient=i}async handleCodeResponse(e,t){this.performanceClient.addQueueMeasurement(_.HandleCodeResponse,t.correlationId);let r;try{r=TA(e,t.state)}catch(o){throw o instanceof Ur&&o.subError===wi?W(wi):o}return S(this.handleCodeResponseFromServer.bind(this),_.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(r,t)}async handleCodeResponseFromServer(e,t,r=!0){if(this.performanceClient.addQueueMeasurement(_.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await S(this.authModule.updateAuthority.bind(this.authModule),_.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const i=this.createCcsCredentials(t);i&&(this.authCodeRequest.ccsCredential=i)}return await S(this.authModule.acquireToken.bind(this.authModule),_.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Jt.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Jt.UPN}:null}}/*! @azure/msal-browser v4.13.1 2025-06-10 */const xS="ContentError",$_="user_switch";/*! @azure/msal-browser v4.13.1 2025-06-10 */const LS="USER_INTERACTION_REQUIRED",HS="USER_CANCEL",US="NO_NETWORK",$S="PERSISTENT_ERROR",FS="DISABLED",BS="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v4.13.1 2025-06-10 */const KS=-2147186943,jS={[$_]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Cn extends Pe{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,Cn.prototype),this.name="NativeAuthError",this.ext=r}}function eo(n){if(n.ext&&n.ext.status&&(n.ext.status===$S||n.ext.status===FS)||n.ext&&n.ext.error&&n.ext.error===KS)return!0;switch(n.errorCode){case xS:return!0;default:return!1}}function js(n,e,t){if(t&&t.status)switch(t.status){case BS:return sl(Um);case LS:return new on(n,e);case HS:return W(wi);case US:return W($s)}return new Cn(n,jS[n]||e,t)}/*! @azure/msal-browser v4.13.1 2025-06-10 */class F_ extends Do{async acquireToken(e){this.performanceClient.addQueueMeasurement(_.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(Re.acquireTokenSilent_silentFlow),r=await S(this.getClientConfiguration.bind(this),_.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),o=new CA(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await S(o.acquireCachedToken.bind(o),_.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(i){throw i instanceof Mi&&i.errorCode===ku&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t==null?void 0:t.account)}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class ds extends H_{constructor(e,t,r,o,i,s,a,c,u,l,d,h){super(e,t,r,o,i,s,c,u,h),this.apiId=a,this.accountId=l,this.platformAuthProvider=u,this.nativeStorageManager=d,this.silentCacheClient=new F_(e,this.nativeStorageManager,r,o,i,s,c,u,h);const f=this.platformAuthProvider.getExtensionName();this.skus=Ei.makeExtraSkuString({libraryName:yt.MSAL_SKU,libraryVersion:Or,extensionName:f,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[Bb]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(_.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(_.NativeInteractionClientAcquireToken,e.correlationId),o=Ht(),i=this.initializeServerTelemetryManager(this.apiId);try{const s=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,s);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(t===ct.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const a=await this.platformAuthProvider.sendMessage(s);return await this.handleNativeResponse(a,s,o).then(c=>(r.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),i.clearNativeBrokerErrorCode(),c)).catch(c=>{throw r.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError,isNativeBroker:!0}),c})}catch(s){throw s instanceof Cn&&i.setNativeBrokerErrorCode(s.errorCode),s}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:Ve.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),H(el);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw H(el);try{const o=this.createSilentCacheRequest(t,r),i=await this.silentCacheClient.acquireToken(o),s={...r,idTokenClaims:i==null?void 0:i.idTokenClaims,idToken:i==null?void 0:i.idToken};return{...i,account:s}}catch(o){throw o}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const o=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(o)}catch(a){if(a instanceof Cn&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(a.errorCode),eo(a)))throw a}this.browserStorage.setTemporaryCache($e.NATIVE_REQUEST,JSON.stringify(o),!0);const i={apiId:Re.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(s,i)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(e==null||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:o,...i}=r;o&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey($e.NATIVE_REQUEST));const s=Ht();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const a=await this.platformAuthProvider.sendMessage(i),c=await this.handleNativeResponse(a,i,s);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),c}catch(a){throw a}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,r){var l,d;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const o=Po(e.id_token,tn),i=this.createHomeAccountIdentifier(e,o),s=(l=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId}))==null?void 0:l.homeAccountId;if((d=t.extraParameters)!=null&&d.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==s&&e.account.id!==t.accountId)throw js($_);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),c=Tu(this.browserStorage,a,i,tn,o,e.client_info,void 0,o.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,t,o,c,a.canonicalAuthority,r);return await this.cacheAccount(c),await this.cacheNativeTokens(e,t,i,o,e.access_token,u.tenantId,r),u}createHomeAccountIdentifier(e,t){return dt.generateHomeAccountId(e.client_info||T.EMPTY_STRING,Qt.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return t?Ve.fromString(t):Ve.fromString(e)}async generatePopAccessToken(e,t){if(t.tokenType===be.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new Eo(this.browserCrypto),o={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw H(tu);return r.signPopToken(e.access_token,t.keyId,o)}else return e.access_token}async generateAuthenticationResult(e,t,r,o,i,s){const a=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(t.scope,e.scope),u=e.account.properties||{},l=u.UID||r.oid||r.sub||T.EMPTY_STRING,d=u.TenantId||r.tid||T.EMPTY_STRING,h=lu(o.getAccountInfo(),void 0,r,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const f=await this.generatePopAccessToken(e,t),y=t.tokenType===be.POP?be.POP:be.BEARER;return{authority:i,uniqueId:l,tenantId:d,scopes:c.asArray(),account:h,idToken:e.id_token,idTokenClaims:r,accessToken:f,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:fo(s+e.expires_in),tokenType:y,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,r,o,i,s,a){const c=ma(r,t.authority,e.id_token||"",t.clientId,o.tid||""),u=t.tokenType===be.POP?T.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,l=a+u,d=this.generateScopes(e.scope,t.scope),h=_a(r,t.authority,i,t.clientId,o.tid||s,d.printScopes(),l,0,tn,void 0,t.tokenType,void 0,t.keyId),f={idToken:c,accessToken:h};return this.nativeStorageManager.saveCacheRecord(f,this.correlationId,t.storeInCache)}getExpiresInValue(e,t){return e===be.POP?T.SHR_NONCE_VALIDITY:(typeof t=="string"?parseInt(t,10):t)||0}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=await this.getCanonicalAuthority(e),{scopes:r,...o}=e,i=new Ve(r||[]);i.appendScopes(Ni);const s={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:t.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(s.signPopToken&&e.popKid)throw W(v_);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=Kt.MATS_TELEMETRY,e.authenticationScheme===be.POP){const a={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},c=new Eo(this.browserCrypto);let u;if(s.keyId)u=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{const l=await S(c.generateCnf.bind(c),_.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(a,this.logger);u=l.reqCnfString,s.keyId=l.kid,s.signPopToken=!0}s.reqCnf=u}return this.addRequestSKUs(s),s}async getCanonicalAuthority(e){const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new pe(t);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case Re.ssoSilent:case Re.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Xe.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case Xe.NONE:case Xe.CONSENT:case Xe.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),W(__)}}handleExtraBrokerParams(e){var i;const t=e.extraParameters&&e.extraParameters.hasOwnProperty(xs)&&e.extraParameters.hasOwnProperty(Ls)&&e.extraParameters.hasOwnProperty(Rr);if(!e.embeddedClientId&&!t)return;let r="";const o=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Ls],r=e.extraParameters[Rr]),e.extraParameters={child_client_id:r,child_redirect_uri:o},(i=this.performanceClient)==null||i.addFields({embeddedClientId:r,embeddedRedirectUri:o},e.correlationId)}}/*! @azure/msal-browser v4.13.1 2025-06-10 */async function B_(n,e,t,r,o){const i=wA({...n.auth,authority:e},t,r,o);if(_u(i,{sku:yt.MSAL_SKU,version:Or,os:"",cpu:""}),n.auth.protocolMode!==Lt.OIDC&&yu(i,n.telemetry.application),t.platformBroker&&(Vb(i),t.authenticationScheme===be.POP)){const s=new Fn(r,o),a=new Eo(s);let c;t.popKid?c=s.encodeKid(t.popKid):c=(await S(a.generateCnf.bind(a),_.PopTokenGenerateCnf,r,o,t.correlationId)(t,r)).reqCnfString,Cu(i,c)}return Ea(i,t.correlationId,o),i}async function Gu(n,e,t,r,o){if(!t.codeChallenge)throw Ae(va);const i=await S(B_,_.GetStandardParams,r,o,t.correlationId)(n,e,t,r,o);return Sm(i,Dg.CODE),Jb(i,t.codeChallenge,T.S256_CODE_CHALLENGE_METHOD),Tr(i,t.extraQueryParameters||{}),Km(e,i,n.auth.encodeExtraQueryParams,t.extraQueryParameters)}async function Vu(n,e,t,r,o,i){if(!r.earJwk)throw W(Iu);const s=await B_(e,t,r,o,i);Sm(s,Dg.IDTOKEN_TOKEN_REFRESHTOKEN),rA(s,r.earJwk);const a=new Map;Tr(a,r.extraQueryParameters||{});const c=Km(t,a,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return GS(n,c,s)}function GS(n,e,t){const r=n.createElement("form");return r.method="post",r.action=e,t.forEach((o,i)=>{const s=n.createElement("input");s.hidden=!0,s.name=i,s.value=o,r.appendChild(s)}),n.body.appendChild(r),r}async function K_(n,e,t,r,o,i,s,a,c,u){if(a.verbose("Account id found, calling WAM for token"),!u)throw W(Pu);const l=new Fn(a,c),d=new ds(r,o,l,a,s,r.system.navigationClient,t,c,u,e,i,n.correlationId),{userRequestState:h}=No.parseRequestState(l,n.state);return S(d.acquireToken.bind(d),_.NativeInteractionClientAcquireToken,a,c,n.correlationId)({...n,state:h,prompt:void 0})}async function Wu(n,e,t,r,o,i,s,a,c,u,l,d){if(vn.removeThrottle(s,o.auth.clientId,n),e.accountId)return S(K_,_.HandleResponsePlatformBroker,u,l,n.correlationId)(n,e.accountId,r,o,s,a,c,u,l,d);const h={...n,code:e.code||"",codeVerifier:t},f=new U_(i,s,h,u,l);return await S(f.handleCodeResponse.bind(f),_.HandleCodeResponse,u,l,n.correlationId)(e,n)}async function zu(n,e,t,r,o,i,s,a,c,u,l){if(vn.removeThrottle(i,r.auth.clientId,n),jm(e,n.state),!e.ear_jwe)throw W(zm);if(!n.earJwk)throw W(Iu);const d=JSON.parse(await S(eS,_.DecryptEarResponse,c,u,n.correlationId)(n.earJwk,e.ear_jwe));if(d.accountId)return S(K_,_.HandleResponsePlatformBroker,c,u,n.correlationId)(n,d.accountId,t,r,i,s,a,c,u,l);const h=new kr(r.auth.clientId,i,new Fn(c,u),c,null,null,u);h.validateTokenResponse(d);const f={code:"",state:n.state,nonce:n.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return await S(h.handleServerTokenResponse.bind(h),_.HandleServerTokenResponse,c,u,n.correlationId)(d,o,Ht(),n,f,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.13.1 2025-06-10 */const VS=32;async function Na(n,e,t){n.addQueueMeasurement(_.GeneratePkceCodes,t);const r=rn(WS,_.GenerateCodeVerifier,e,n,t)(n,e,t),o=await S(zS,_.GenerateCodeChallengeFromVerifier,e,n,t)(r,n,e,t);return{verifier:r,challenge:o}}function WS(n,e,t){try{const r=new Uint8Array(VS);return rn(YA,_.GetRandomValues,e,n,t)(r),ir(r)}catch{throw W(Su)}}async function zS(n,e,t,r){e.addQueueMeasurement(_.GenerateCodeChallengeFromVerifier,r);try{const o=await S(S_,_.Sha256Digest,t,e,r)(n,e,r);return ir(new Uint8Array(o))}catch{throw W(Su)}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class Gs{constructor(e,t,r,o){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=o,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(_.NativeMessageHandlerHandshake),this.platformAuthType=Kt.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const t={method:Wo.GetToken,request:e},r={channel:Kt.CHANNEL_ID,extensionId:this.extensionId,responseId:sn(),body:t};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const o=await new Promise((s,a)=>{this.resolvers.set(r.responseId,{resolve:s,reject:a})});return this.validatePlatformBrokerResponse(o)}static async createProvider(e,t,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const o=new Gs(e,t,r,Kt.PREFERRED_EXTENSION_ID);return await o.sendHandshakeRequest(),o}catch{const i=new Gs(e,t,r);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Kt.CHANNEL_ID,extensionId:this.extensionId,responseId:sn(),body:{method:Wo.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(W(g_)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const t=e.data;if(!(!t.channel||t.channel!==Kt.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===Wo.HandshakeRequest){const r=this.handshakeResolvers.get(t.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(W(m_))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const t=e.data,r=this.resolvers.get(t.responseId),o=this.handshakeResolvers.get(t.responseId);try{const i=t.body.method;if(i===Wo.Response){if(!r)return;const s=t.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(js(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(js(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw Jc(Os,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(i===Wo.HandshakeResponse){if(!o){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),o.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(i){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${i}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(i):o&&o.reject(i)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Jc(Os,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===Kt.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class qu{constructor(e,t,r){this.logger=e,this.performanceClient=t,this.correlationId=r,this.platformAuthType=Kt.PLATFORM_DOM_PROVIDER}static async createProvider(e,t,r){var o;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(o=window.navigator)!=null&&o.platformAuthentication){const i=await window.navigator.platformAuthentication.getSupportedContracts(Kt.MICROSOFT_ENTRA_BROKERID);if(i!=null&&i.includes(Kt.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new qu(e,t,r)}}getExtensionId(){return Kt.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return Kt.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const t=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(t);return this.validatePlatformBrokerResponse(r)}catch(t){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),t}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:t,clientId:r,authority:o,scope:i,redirectUri:s,correlationId:a,state:c,storeInCache:u,embeddedClientId:l,extraParameters:d,...h}=e,f=this.getDOMExtraParams(h);return{accountId:t,brokerId:this.getExtensionId(),authority:o,clientId:r,correlationId:a||this.correlationId,extraParameters:{...d,...f},isSecurityTokenService:!1,redirectUri:s,scope:i,state:c,storeInCache:u,embeddedClientId:l}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const t=e;if(t.isSuccess===!1&&t.error&&t.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),js(t.error.code,t.error.description,{error:parseInt(t.error.errorCode),protocol_error:t.error.protocolError,status:t.error.status,properties:t.error.properties})}}throw Jc(Os,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((o,[i,s])=>(o[i]=String(s),o),{})}}}/*! @azure/msal-browser v4.13.1 2025-06-10 */async function qS(n,e,t,r){n.trace("getPlatformAuthProvider called",t);const o=YS();n.trace("Has client allowed platform auth via DOM API: "+o);let i;try{o&&(i=await qu.createProvider(n,e,t)),i||(n.trace("Platform auth via DOM API not available, checking for extension"),i=await Gs.createProvider(n,r||x_,e))}catch(s){n.trace("Platform auth not available",s)}return i}function YS(){let n;try{return n=window[qe.SessionStorage],(n==null?void 0:n.getItem(KA))==="true"}catch{return!1}}function bi(n,e,t,r){if(e.trace("isBrokerAvailable called"),!n.system.allowPlatformBroker)return e.trace("isBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!t)return e.trace("isBrokerAvailable: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case be.BEARER:case be.POP:return e.trace("isBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return e.trace("isBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.13.1 2025-06-10 */class QS extends Do{constructor(e,t,r,o,i,s,a,c,u,l){super(e,t,r,o,i,s,a,u,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=i}acquireToken(e,t){try{const o={popupName:this.generatePopupName(e.scopes||Ni,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,o,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),o.popup=this.openSizedPopup("about:blank",o),this.acquireTokenPopupAsync(e,o,t))}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},o=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,o,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(t,r,o,i))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,r){this.logger.verbose("acquireTokenPopupAsync called");const o=await S(this.initializeAuthorizationRequest.bind(this),_.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,te.Popup);t.popup&&D_(o.authority);const i=bi(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return o.platformBroker=i,this.config.auth.protocolMode===Lt.EAR?this.executeEarFlow(o,t):this.executeCodeFlow(o,t,r)}async executeCodeFlow(e,t,r){var c;const o=e.correlationId,i=this.initializeServerTelemetryManager(Re.acquireTokenPopup),s=r||await S(Na,_.GeneratePkceCodes,this.logger,this.performanceClient,o)(this.performanceClient,this.logger,o),a={...e,codeChallenge:s.challenge};try{const u=await S(this.createAuthCodeClient.bind(this),_.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,o)({serverTelemetryManager:i,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),l=await S(Gu,_.GetAuthCodeUrl,this.logger,this.performanceClient,o)(this.config,u.authority,a,this.logger,this.performanceClient),d=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(ee.POPUP_OPENED,te.Popup,{popupWindow:d},null);const h=await this.monitorPopupForHash(d,t.popupWindowParent),f=rn(Ks,_.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(h,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await S(Wu,_.HandleResponseCode,this.logger,this.performanceClient,o)(e,f,s.verifier,Re.acquireTokenPopup,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}catch(u){throw(c=t.popup)==null||c.close(),u instanceof Pe&&(u.setCorrelationId(this.correlationId),i.cacheFailedRequest(u)),u}}async executeEarFlow(e,t){const r=e.correlationId,o=await S(this.getDiscoveredAuthority.bind(this),_.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await S(Lu,_.GenerateEarKey,this.logger,this.performanceClient,r)(),s={...e,earJwk:i},a=t.popup||this.openPopup("about:blank",t);(await Vu(a.document,this.config,o,s,this.logger,this.performanceClient)).submit();const u=await S(this.monitorPopupForHash.bind(this),_.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,t.popupWindowParent),l=rn(Ks,_.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return S(zu,_.HandleResponseEar,this.logger,this.performanceClient,r)(s,l,Re.acquireTokenPopup,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,t,r,o){var s,a,c,u;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ee.LOGOUT_START,te.Popup,e);const i=this.initializeServerTelemetryManager(Re.logoutPopup);try{await this.clearCacheOnLogout(e.account);const l=await S(this.createAuthCodeClient.bind(this),_.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:r,account:e.account||void 0});try{l.authority.endSessionEndpoint}catch{if((s=e.account)!=null&&s.homeAccountId&&e.postLogoutRedirectUri&&l.authority.protocolMode===Lt.OIDC){if(this.browserStorage.removeAccount((a=e.account)==null?void 0:a.homeAccountId),this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,te.Popup,e),o){const f={apiId:Re.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},y=pe.getAbsoluteUrl(o,Dn());await this.navigationClient.navigateInternal(y,f)}(c=t.popup)==null||c.close();return}}const d=l.getLogoutUri(e);this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,te.Popup,e);const h=this.openPopup(d,t);if(this.eventHandler.emitEvent(ee.POPUP_OPENED,te.Popup,{popupWindow:h},null),await this.monitorPopupForHash(h,t.popupWindowParent).catch(()=>{}),o){const f={apiId:Re.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},y=pe.getAbsoluteUrl(o,Dn());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${y}`),await this.navigationClient.navigateInternal(y,f)}else this.logger.verbose("No main window navigation requested")}catch(l){throw(u=t.popup)==null||u.close(),l instanceof Pe&&(l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l)),this.eventHandler.emitEvent(ee.LOGOUT_FAILURE,te.Popup,null,l),this.eventHandler.emitEvent(ee.LOGOUT_END,te.Popup),l}this.eventHandler.emitEvent(ee.LOGOUT_END,te.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),W(Ia)}monitorPopupForHash(e,t){return new Promise((r,o)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const i=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(i),o(W(wi));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(i);let a="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===ga.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,t)),!r)throw W(e_);return r.focus&&r.focus(),this.currentWindow=r,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),W(Zm)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:r,popupWindowParent:o}){var f,y,v,E;const i=o.screenLeft?o.screenLeft:o.screenX,s=o.screenTop?o.screenTop:o.screenY,a=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let u=(f=r.popupSize)==null?void 0:f.width,l=(y=r.popupSize)==null?void 0:y.height,d=(v=r.popupPosition)==null?void 0:v.top,h=(E=r.popupPosition)==null?void 0:E.left;return(!u||u<0||u>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),u=yt.POPUP_WIDTH),(!l||l<0||l>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),l=yt.POPUP_HEIGHT),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-yt.POPUP_HEIGHT/2+s)),(!h||h<0||h>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,a/2-yt.POPUP_WIDTH/2+i)),o.open(e,t,`width=${u}, height=${l}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return`${yt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${yt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}/*! @azure/msal-browser v4.13.1 2025-06-10 */function JS(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const n=window.performance.getEntriesByType("navigation"),e=n.length?n[0]:void 0;return e==null?void 0:e.type}class XS extends Do{constructor(e,t,r,o,i,s,a,c,u,l){super(e,t,r,o,i,s,a,u,l),this.nativeStorage=c}async acquireToken(e){const t=await S(this.initializeAuthorizationRequest.bind(this),_.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,te.Redirect);t.platformBroker=bi(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=i=>{i.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(ee.RESTORE_FROM_BFCACHE,te.Redirect))},o=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${o}`),this.browserStorage.setTemporaryCache($e.ORIGIN_URI,o,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===Lt.EAR?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(i){throw i instanceof Pe&&i.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),i}}async executeCodeFlow(e,t){const r=e.correlationId,o=this.initializeServerTelemetryManager(Re.acquireTokenRedirect),i=await S(Na,_.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...e,codeChallenge:i.challenge};this.browserStorage.cacheAuthorizeRequest(s,i.verifier);try{const a=await S(this.createAuthCodeClient.bind(this),_.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),c=await S(Gu,_.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,a.authority,s,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,t)}catch(a){throw a instanceof Pe&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),a}}async executeEarFlow(e){const t=e.correlationId,r=await S(this.getDiscoveredAuthority.bind(this),_.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await S(Lu,_.GenerateEarKey,this.logger,this.performanceClient,t)(),i={...e,earJwk:o};this.browserStorage.cacheAuthorizeRequest(i),(await Vu(document,this.config,r,i,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(e="",t,r,o){const i=this.initializeServerTelemetryManager(Re.handleRedirectPromise);try{const[s,a]=this.getRedirectResponse(e||"");if(!s)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),JS()!=="back_forward"?o.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache($e.ORIGIN_URI,!0)||T.EMPTY_STRING,u=pe.removeHashFromUrl(c),l=pe.removeHashFromUrl(window.location.href);if(u===l&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&rS(c),await this.handleResponse(s,t,r,i);if(this.config.auth.navigateToLoginRequestUrl){if(!Fu()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache($e.URL_HASH,a,!0);const d={apiId:Re.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let h=!0;if(!c||c==="null"){const f=iS();this.browserStorage.setTemporaryCache($e.ORIGIN_URI,f,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),h=await this.navigationClient.navigateInternal(f,d)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),h=await this.navigationClient.navigateInternal(c,d);if(!h)return await this.handleResponse(s,t,r,i)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(s,t,r,i);return null}catch(s){throw s instanceof Pe&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),s}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===ga.QUERY?t=window.location.search:t=window.location.hash);let r=Ms(t);if(r){try{DS(r,this.browserCrypto,te.Redirect)}catch(i){return i instanceof Pe&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return P_(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}const o=this.browserStorage.getTemporaryCache($e.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey($e.URL_HASH)),o&&(r=Ms(o),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,o]):[null,""]}async handleResponse(e,t,r,o){if(!e.state)throw W(Ru);if(e.ear_jwe){const a=await S(this.getDiscoveredAuthority.bind(this),_.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return S(zu,_.HandleResponseEar,this.logger,this.performanceClient,t.correlationId)(t,e,Re.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const s=await S(this.createAuthCodeClient.bind(this),_.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:t.authority});return S(Wu,_.HandleResponseCode,this.logger,this.performanceClient,t.correlationId)(t,e,r,Re.acquireTokenRedirect,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:Re.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=t||this.config.auth.onRedirectNavigate;if(typeof o=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),o(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),W(Ia)}async logout(e){var o,i;this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Re.logout);try{this.eventHandler.emitEvent(ee.LOGOUT_START,te.Redirect,e),await this.clearCacheOnLogout(t.account);const s={apiId:Re.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await S(this.createAuthCodeClient.bind(this),_.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===Lt.OIDC)try{a.authority.endSessionEndpoint}catch{if((o=t.account)!=null&&o.homeAccountId){this.browserStorage.removeAccount((i=t.account)==null?void 0:i.homeAccountId),this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,te.Redirect,t);return}}const c=a.getLogoutUri(t);if(this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,te.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(c)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Qn.SIGNOUT),await this.navigationClient.navigateExternal(c,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Qn.SIGNOUT),await this.navigationClient.navigateExternal(c,s);return}}catch(s){throw s instanceof Pe&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(ee.LOGOUT_FAILURE,te.Redirect,null,s),this.eventHandler.emitEvent(ee.LOGOUT_END,te.Redirect),s}this.eventHandler.emitEvent(ee.LOGOUT_END,te.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return pe.getAbsoluteUrl(t,Dn())}}/*! @azure/msal-browser v4.13.1 2025-06-10 */async function ZS(n,e,t,r,o){if(e.addQueueMeasurement(_.SilentHandlerInitiateAuthRequest,r),!n)throw t.info("Navigate url is empty"),W(Ia);return o?S(tI,_.SilentHandlerLoadFrame,t,e,r)(n,o,e,r):rn(nI,_.SilentHandlerLoadFrameSync,t,e,r)(n)}async function eI(n,e,t,r,o){const i=Yu();if(!i.contentDocument)throw"No document associated with iframe!";return(await Vu(i.contentDocument,n,e,t,r,o)).submit(),i}async function Vh(n,e,t,r,o,i,s){return r.addQueueMeasurement(_.SilentHandlerMonitorIframeForHash,i),new Promise((a,c)=>{e<ul&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${ul}ms). This may result in timeouts.`);const u=window.setTimeout(()=>{window.clearInterval(l),c(W(t_))},e),l=window.setInterval(()=>{let d="";const h=n.contentWindow;try{d=h?h.location.href:""}catch{}if(!d||d==="about:blank")return;let f="";h&&(s===ga.QUERY?f=h.location.search:f=h.location.hash),window.clearTimeout(u),window.clearInterval(l),a(f)},t)}).finally(()=>{rn(rI,_.RemoveHiddenIframe,o,r,i)(n)})}function tI(n,e,t,r){return t.addQueueMeasurement(_.SilentHandlerLoadFrame,r),new Promise((o,i)=>{const s=Yu();window.setTimeout(()=>{if(!s){i("Unable to load iframe");return}s.src=n,o(s)},e)})}function nI(n){const e=Yu();return e.src=n,e}function Yu(){const n=document.createElement("iframe");return n.className="msalSilentIframe",n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(n),n}function rI(n){document.body===n.parentNode&&document.body.removeChild(n)}/*! @azure/msal-browser v4.13.1 2025-06-10 */class oI extends Do{constructor(e,t,r,o,i,s,a,c,u,l,d){super(e,t,r,o,i,s,c,l,d),this.apiId=a,this.nativeStorage=u}async acquireToken(e){this.performanceClient.addQueueMeasurement(_.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==Xe.NONE&&t.prompt!==Xe.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${Xe.NONE}`),t.prompt=Xe.NONE):t.prompt=Xe.NONE;const r=await S(this.initializeAuthorizationRequest.bind(this),_.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,te.Silent);return r.platformBroker=bi(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),D_(r.authority),this.config.auth.protocolMode===Lt.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let t;const r=this.initializeServerTelemetryManager(this.apiId);try{return t=await S(this.createAuthCodeClient.bind(this),_.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await S(this.silentTokenHelper.bind(this),_.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(o){if(o instanceof Pe&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),!t||!(o instanceof Pe)||o.errorCode!==yt.INVALID_GRANT_ERROR)throw o;return this.performanceClient.addFields({retryError:o.errorCode},this.correlationId),await S(this.silentTokenHelper.bind(this),_.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,r=await S(this.getDiscoveredAuthority.bind(this),_.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await S(Lu,_.GenerateEarKey,this.logger,this.performanceClient,t)(),i={...e,earJwk:o},s=await S(eI,_.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,t)(this.config,r,i,this.logger,this.performanceClient),a=this.config.auth.OIDCOptions.serverResponseType,c=await S(Vh,_.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,t)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,a),u=rn(Ks,_.DeserializeResponse,this.logger,this.performanceClient,t)(c,a,this.logger);return S(zu,_.HandleResponseEar,this.logger,this.performanceClient,t)(i,u,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(W(Ra))}async silentTokenHelper(e,t){const r=t.correlationId;this.performanceClient.addQueueMeasurement(_.SilentIframeClientTokenHelper,r);const o=await S(Na,_.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),i={...t,codeChallenge:o.challenge},s=await S(Gu,_.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,i,this.logger,this.performanceClient),a=await S(ZS,_.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(s,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,u=await S(Vh,_.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,c),l=rn(Ks,_.DeserializeResponse,this.logger,this.performanceClient,r)(u,c,this.logger);return S(Wu,_.HandleResponseCode,this.logger,this.performanceClient,r)(t,l,o.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class iI extends Do{async acquireToken(e){this.performanceClient.addQueueMeasurement(_.SilentRefreshClientAcquireToken,e.correlationId);const t=await S(ju,_.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...t};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const o=this.initializeServerTelemetryManager(Re.acquireTokenSilent_silentFlow),i=await this.createRefreshTokenClient({serverTelemetryManager:o,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return S(i.acquireTokenByRefreshToken.bind(i),_.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s),s})}logout(){return Promise.reject(W(Ra))}async createRefreshTokenClient(e){const t=await S(this.getClientConfiguration.bind(this),_.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new vA(t,this.performanceClient)}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class sI{constructor(e,t,r,o){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=o}async loadExternalTokens(e,t,r){if(!this.isBrowserEnvironment)throw W(ka);const o=e.correlationId||sn(),i=t.id_token?Po(t.id_token,tn):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new Ze(Ze.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,e.correlationId||sn()):void 0,c=await this.loadAccount(e,r.clientInfo||t.client_info||"",o,i,a),u=await this.loadIdToken(t,c.homeAccountId,c.environment,c.realm,o),l=await this.loadAccessToken(e,t,c.homeAccountId,c.environment,c.realm,r,o),d=await this.loadRefreshToken(t,c.homeAccountId,c.environment,o);return this.generateAuthenticationResult(e,{account:c,idToken:u,accessToken:l,refreshToken:d},i,a)}async loadAccount(e,t,r,o,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const u=dt.createFromAccountInfo(e.account);return await this.storage.setAccount(u,r),u}else if(!i||!t&&!o)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),W(u_);const s=dt.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,o),a=o==null?void 0:o.tid,c=Tu(this.storage,i,s,tn,o,t,i.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(c,r),c}async loadIdToken(e,t,r,o,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=ma(t,r,e.id_token,this.config.auth.clientId,o);return await this.storage.setIdTokenCredential(s,i),s}async loadAccessToken(e,t,r,o,i,s,a){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=t.scope?Ve.fromString(t.scope):new Ve(e.scopes),u=s.expiresOn||t.expires_in+Ht(),l=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+Ht(),d=_a(r,o,t.access_token,this.config.auth.clientId,i,c.printScopes(),u,l,tn);return await this.storage.setAccessTokenCredential(d,a),d}async loadRefreshToken(e,t,r,o){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=tm(t,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,o),i}generateAuthenticationResult(e,t,r,o){var l,d,h;let i="",s=[],a=null,c;t!=null&&t.accessToken&&(i=t.accessToken.secret,s=Ve.fromString(t.accessToken.target).asArray(),a=fo(t.accessToken.expiresOn),c=fo(t.accessToken.extendedExpiresOn));const u=t.account;return{authority:o?o.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:u.getAccountInfo(),idToken:((l=t.idToken)==null?void 0:l.secret)||"",idTokenClaims:r||{},accessToken:i,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((d=t.refreshToken)==null?void 0:d.familyId)||"",tokenType:((h=t==null?void 0:t.accessToken)==null?void 0:h.tokenType)||"",state:e.state||"",cloudGraphHostName:u.cloudGraphHostName||"",msGraphHost:u.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class aI extends Bm{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.13.1 2025-06-10 */class cI extends Do{constructor(e,t,r,o,i,s,a,c,u,l){super(e,t,r,o,i,s,c,u,l),this.apiId=a}async acquireToken(e){if(!e.code)throw W(d_);const t=await S(this.initializeAuthorizationRequest.bind(this),_.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,te.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const o={...t,code:e.code},i=await S(this.getClientConfiguration.bind(this),_.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new aI(i);this.logger.verbose("Auth code client created");const a=new U_(s,this.browserStorage,o,this.logger,this.performanceClient);return await S(a.handleCodeResponseFromServer.bind(a),_.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(o){throw o instanceof Pe&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),o}}logout(){return Promise.reject(W(Ra))}}/*! @azure/msal-browser v4.13.1 2025-06-10 */function lI(n,e,t){var s;const r=((s=window.msal)==null?void 0:s.clientIds)||[],o=r.length,i=r.filter(a=>a===n).length;i>1&&t.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:o,sameClientIdInstanceCount:i})}/*! @azure/msal-browser v4.13.1 2025-06-10 */function pn(n){const e=n==null?void 0:n.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Qi(n,e){try{Bu(n)}catch(t){throw e.end({success:!1},t),t}}class Ma{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Fn(this.logger,this.performanceClient):Ps,this.eventHandler=new PS(this.logger),this.browserStorage=this.isBrowserEnvironment?new pl(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,lA(this.config.auth)):wS(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const t={cacheLocation:qe.MemoryStorage,temporaryCacheLocation:qe.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new pl(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new sI(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const r=new Ma(e);return await r.initialize(t),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(ee.INITIALIZE_END);return}const r=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),o=this.config.system.allowPlatformBroker,i=this.performanceClient.startMeasurement(_.InitializeClientApplication,r);if(this.eventHandler.emitEvent(ee.INITIALIZE_START),!t)try{this.logMultipleInstances(i)}catch{}if(await S(this.browserStorage.initialize.bind(this.browserStorage),_.InitializeCache,this.logger,this.performanceClient,r)(r),o)try{this.platformAuthProvider=await qS(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await S(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),_.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(this.performanceClient,r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(ee.INITIALIZE_END),i.end({allowPlatformBroker:o,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),M_(this.initialized),this.isBrowserEnvironment){const t=e||"";let r=this.redirectResponse.get(t);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var c;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((c=this.browserStorage.getInteractionInProgress())==null?void 0:c.type)===Qn.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),o=this.browserStorage.getCachedNativeRequest(),i=o&&this.platformAuthProvider&&!e;let s;this.eventHandler.emitEvent(ee.HANDLE_REDIRECT_START,te.Redirect);let a;try{if(i&&this.platformAuthProvider){s=this.performanceClient.startMeasurement(_.AcquireTokenRedirect,(o==null?void 0:o.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const u=new ds(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Re.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,o.accountId,this.nativeInternalStorage,o.correlationId);a=S(u.handleRedirectPromise.bind(u),_.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{const[u,l]=this.browserStorage.getCachedRequest(),d=u.correlationId;s=this.performanceClient.startMeasurement(_.AcquireTokenRedirect,d),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const h=this.createRedirectClient(d);a=S(h.handleRedirectPromise.bind(h),_.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,u,l,s)}}catch(u){throw this.browserStorage.resetRequestCache(),u}return a.then(u=>(u?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ee.LOGIN_SUCCESS,te.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_SUCCESS,te.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:pn(u.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(ee.HANDLE_REDIRECT_END,te.Redirect),u)).catch(u=>{this.browserStorage.resetRequestCache();const l=u;throw r.length>0?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_FAILURE,te.Redirect,null,l):this.eventHandler.emitEvent(ee.LOGIN_FAILURE,te.Redirect,null,l),this.eventHandler.emitEvent(ee.HANDLE_REDIRECT_END,te.Redirect),s.end({success:!1},l),u})}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const r=this.performanceClient.startMeasurement(_.AcquireTokenPreRedirect,t);r.add({accountType:pn(e.account),scenarioId:e.scenarioId});const o=e.onRedirectNavigate;if(o)e.onRedirectNavigate=s=>{const a=typeof o=="function"?o(s):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const c=typeof s=="function"?s(a):void 0;return c!==!1?r.end({success:!0}):r.discard(),c}}const i=this.getAllAccounts().length>0;try{$h(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Qn.SIGNIN),i?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_START,te.Redirect,e):this.eventHandler.emitEvent(ee.LOGIN_START,te.Redirect,e);let s;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?s=new ds(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Re.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,r).catch(c=>{if(c instanceof Cn&&eo(c))return this.platformAuthProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(c instanceof on)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw c}):s=this.createRedirectClient(t).acquireToken(e),await s}catch(s){throw this.browserStorage.resetRequestCache(),r.end({success:!1},s),i?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_FAILURE,te.Redirect,null,s):this.eventHandler.emitEvent(ee.LOGIN_FAILURE,te.Redirect,null,s),s}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(_.AcquireTokenPopup,t);r.add({scenarioId:e.scenarioId,accountType:pn(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Qi(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,Qn.SIGNIN)}catch(a){return Promise.reject(a)}const o=this.getAllAccounts();o.length>0?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_START,te.Popup,e):this.eventHandler.emitEvent(ee.LOGIN_START,te.Popup,e);let i;const s=this.getPreGeneratedPkceCodes(t);return this.canUsePlatformBroker(e)?i=this.acquireTokenNative({...e,correlationId:t},Re.acquireTokenPopup).then(a=>(r.end({success:!0,isNativeBroker:!0,accountType:pn(a.account)}),a)).catch(a=>{if(a instanceof Cn&&eo(a))return this.platformAuthProvider=void 0,this.createPopupClient(t).acquireToken(e,s);if(a instanceof on)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e,s);throw a}):i=this.createPopupClient(t).acquireToken(e,s),i.then(a=>(o.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ee.LOGIN_SUCCESS,te.Popup,a):this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_SUCCESS,te.Popup,a),r.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:pn(a.account)}),a)).catch(a=>(o.length>0?this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_FAILURE,te.Popup,null,a):this.eventHandler.emitEvent(ee.LOGIN_FAILURE,te.Popup,null,a),r.end({success:!1},a),Promise.reject(a))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var i,s;const t=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:t};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(_.SsoSilent,t),(i=this.ssoSilentMeasurement)==null||i.add({scenarioId:e.scenarioId,accountType:pn(e.account)}),Qi(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(ee.SSO_SILENT_START,te.Silent,r);let o;return this.canUsePlatformBroker(r)?o=this.acquireTokenNative(r,Re.ssoSilent).catch(a=>{if(a instanceof Cn&&eo(a))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw a}):o=this.createSilentIframeClient(r.correlationId).acquireToken(r),o.then(a=>{var c;return this.eventHandler.emitEvent(ee.SSO_SILENT_SUCCESS,te.Silent,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:pn(a.account)}),a}).catch(a=>{var c;throw this.eventHandler.emitEvent(ee.SSO_SILENT_FAILURE,te.Silent,null,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const r=this.performanceClient.startMeasurement(_.AcquireTokenByCode,t);Qi(this.initialized,r),this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_START,te.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw W(f_);if(e.code){const o=e.code;let i=this.hybridAuthCodeResponses.get(o);return i?(this.logger.verbose("Existing acquireTokenByCode request found",t),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),i=this.acquireTokenByCodeAsync({...e,correlationId:t}).then(s=>(this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_SUCCESS,te.Silent,s),this.hybridAuthCodeResponses.delete(o),r.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:pn(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(o),this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_FAILURE,te.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(o,i)),await i}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){const o=await this.acquireTokenNative({...e,correlationId:t},Re.acquireTokenByCode,e.nativeAccountId).catch(i=>{throw i instanceof Cn&&eo(i)&&(this.platformAuthProvider=void 0),i});return r.end({accountType:pn(o.account),success:!0}),o}else throw W(p_);else throw W(h_)}catch(o){throw this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_FAILURE,te.Silent,null,o),r.end({success:!1},o),o}}async acquireTokenByCodeAsync(e){var o;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(_.AcquireTokenByCodeAsync,e.correlationId),(o=this.acquireTokenByCodeAsyncMeasurement)==null||o.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:i.fromCache,isNativeBroker:i.fromNativeBroker}),i}).catch(i=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(_.AcquireTokenFromCache,e.correlationId),t){case ct.Default:case ct.AccessToken:case ct.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return S(r.acquireToken.bind(r),_.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw H(tr)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(_.AcquireTokenByRefreshToken,e.correlationId),t){case ct.Default:case ct.AccessTokenAndRefreshToken:case ct.RefreshToken:case ct.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return S(r.acquireToken.bind(r),_.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw H(tr)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(_.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return S(t.acquireToken.bind(t),_.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);return $h(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Qn.SIGNOUT),this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);return Bu(this.initialized),this.browserStorage.setInteractionInProgress(!0,Qn.SIGNOUT),this.createPopupClient(t).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return TS(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return bS(e,this.logger,this.browserStorage)}getAccountByUsername(e){return AS(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return SS(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return IS(e,this.logger,this.browserStorage)}setActiveAccount(e){RS(e,this.browserStorage)}getActiveAccount(){return kS(this.browserStorage)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const r=dt.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,r,o){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw W(Pu);return new ds(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,o)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!bi(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Xe.NONE:case Xe.CONSENT:case Xe.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new QS(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new XS(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new oI(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Re.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new F_(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new iI(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new cI(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Re.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return N_(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==qe.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==qe.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?sn():T.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||xh})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||xh})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(_.AcquireTokenSilent,t);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Qi(this.initialized,r),this.logger.verbose("acquireTokenSilent called",t);const o=e.account||this.getActiveAccount();if(!o)throw W(i_);return r.add({accountType:pn(o)}),this.acquireTokenSilentDeduped(e,o,t).then(i=>(r.end({success:!0,fromCache:i.fromCache,isNativeBroker:i.fromNativeBroker,accessTokenSize:i.accessToken.length,idTokenSize:i.idToken.length}),{...i,state:e.state,correlationId:t})).catch(i=>{throw i instanceof Pe&&i.setCorrelationId(t),r.end({success:!1},i),i})}async acquireTokenSilentDeduped(e,t,r){const o=ba(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},t.homeAccountId),i=JSON.stringify(o),s=this.activeSilentTokenRequests.get(i);if(typeof s>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const a=S(this.acquireTokenSilentAsync.bind(this),_.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},t);return this.activeSilentTokenRequests.set(i,a),a.finally(()=>{this.activeSilentTokenRequests.delete(i)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),s}async acquireTokenSilentAsync(e,t){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(_.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_START,te.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const o=await S(NS,_.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||ct.Default;return this.acquireTokenSilentNoIframe(o,i).catch(async a=>{if(uI(a,i))if(this.activeIframeRequest)if(i!==ct.Skip){const[u,l]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${l}`,o.correlationId);const d=this.performanceClient.startMeasurement(_.AwaitConcurrentIframe,o.correlationId);d.add({awaitIframeCorrelationId:l});const h=await u;if(d.end({success:h}),h)return this.logger.verbose(`Parallel iframe request with correlationId: ${l} succeeded. Retrying cache and/or RT redemption`,o.correlationId),this.acquireTokenSilentNoIframe(o,i);throw this.logger.info(`Iframe request with correlationId: ${l} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",o.correlationId),S(this.acquireTokenBySilentIframe.bind(this),_.AcquireTokenBySilentIframe,this.logger,this.performanceClient,o.correlationId)(o);else{let u;return this.activeIframeRequest=[new Promise(l=>{u=l}),o.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",o.correlationId),S(this.acquireTokenBySilentIframe.bind(this),_.AcquireTokenBySilentIframe,this.logger,this.performanceClient,o.correlationId)(o).then(l=>(u(!0),l)).catch(l=>{throw u(!1),l}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_SUCCESS,te.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_FAILURE,te.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,t){return bi(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Re.acquireTokenSilent_silentFlow,e.account.nativeAccountId,t).catch(async r=>{throw r instanceof Cn&&eo(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,H(tr)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===ct.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),S(this.acquireTokenFromCache.bind(this),_.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(r=>{if(t===ct.AccessToken)throw r;return this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_NETWORK_START,te.Silent,e),S(this.acquireTokenByRefreshToken.bind(this),_.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await S(Na,_.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${t?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),lI(t,e,this.logger)}}function uI(n,e){const t=!(n instanceof on&&n.subError!==Sa),r=n.errorCode===yt.INVALID_GRANT_ERROR||n.errorCode===tr,o=t&&r||n.errorCode===Us||n.errorCode===wu,i=$A.includes(e);return o&&i}/*! @azure/msal-browser v4.13.1 2025-06-10 */async function dI(n,e){const t=new Pr(n);return await t.initialize(),Ma.createController(t,e)}/*! @azure/msal-browser v4.13.1 2025-06-10 */class Qu{static async createPublicClientApplication(e){const t=await dI(e);return new Qu(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new Ma(new Pr(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}let zr=null,Wh,qr;class Da{constructor(){this._authDisabled=!1;const e={auth:{clientId:"25c48d77-0995-4626-803b-b6a832041db2",authority:"https://login.microsoftonline.com/4d5f34d3-d97b-40c7-8704-edff856d3654",knownAuthorities:["https://RideshareDavid64.ciamlogin.com/organizations"],redirectUri:"https://davidrideshareapp-e8b5gbgxgwhcc8c3.westus2-01.azurewebsites.net"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(o,i,s)=>{if(!s)switch(o){case Se.Error:console.error(i);break;case Se.Info:console.info(i);break;case Se.Verbose:console.debug(i);break;case Se.Warning:console.warn(i);break}}}}};this._publicClientApplication=new Qu(e);const t="openid,profile,email,api://25c48d77-0995-4626-803b-b6a832041db2/Access".split(","),r="api://25c48d77-0995-4626-803b-b6a832041db2/Access".split(",");Wh={scopes:t},qr={scopes:r,forceRefresh:!0}}getUser(){return this._authDisabled?{homeAccountId:"mock-user-id",username:"mock@example.com",name:"Mock User"}:zr?this._publicClientApplication.getAccountByHomeId(zr):null}getError(){return this._error}getAccessToken(){return this._authDisabled?Promise.resolve("mock-access-token"):(qr.account=this._publicClientApplication.getAccountByHomeId(zr),this._publicClientApplication.acquireTokenSilent(qr).then(e=>e.accessToken,()=>this._publicClientApplication.acquireTokenPopup(qr).then(e=>e.accessToken,e=>console.error(e))))}login(){return this._authDisabled?(console.log("Login bypassed - authentication disabled"),Promise.resolve({homeAccountId:"mock-user-id",username:"mock@example.com",name:"Mock User"})):this._publicClientApplication.loginPopup(Wh).then(e=>(zr=e.account.homeAccountId,e.account),()=>null)}logout(){if(this._authDisabled)return console.log("Logout bypassed - authentication disabled"),window.location.replace("/"),Promise.resolve();const e={account:zr,redirectUri:"https://davidrideshareapp-e8b5gbgxgwhcc8c3.westus2-01.azurewebsites.net"};return this._publicClientApplication.logoutPopup(e).then(()=>{window.location.replace("/")})}isAuthenticated(){return this._authDisabled||!!this.getUser()}getAccessTokenOrLoginWithPopup(){return this._authDisabled?Promise.resolve("mock-access-token"):(qr.account=this._publicClientApplication.getAccountByHomeId(zr),this._publicClientApplication.acquireTokenSilent(qr).catch(()=>this.login()))}}const hI={id:"app"},fI={class:"navbar navbar-light navbar-expand-lg fixed-top",id:"mainNav"},pI={class:"container"},gI={class:"collapse navbar-collapse",id:"navbarResponsive"},mI={class:"nav navbar-nav ml-auto"},_I={class:"nav-item",role:"presentation"},yI={class:"nav-item",role:"presentation"},vI={class:"nav-item",role:"presentation"},CI={key:0,class:"nav-item",role:"presentation"},EI={key:1,class:"nav-item",role:"presentation"},wI={__name:"App",setup(n){const e=new Da,t=Ep(e.authenticated),r=GE(),o=fT(),i=Nt(()=>r.getters["common/user"]);function s(){e.login().then(c=>{r.dispatch("common/setUser",c||null)},()=>{r.dispatch("common/setUser",null)})}function a(){confirm("Are you sure you wish to log out?")&&e.logout().then(()=>{r.dispatch("common/setUser",null),o.push("/")})}return Dp(()=>{const c=e.getUser();r.dispatch("common/setUser",c||null)}),(c,u)=>{const l=EC("scroll");return Fe(),ze("div",hI,[_r((Fe(),ze("nav",fI,[m("div",pI,[x(Pt(yr),{to:{name:"home"},class:"navbar-brand"},{default:$(()=>u[0]||(u[0]=[X("Rideshare by Relecloud")])),_:1,__:[0]}),u[4]||(u[4]=m("button",{class:"navbar-toggler float-right","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},[m("i",{class:"fa fa-bars"})],-1)),m("div",gI,[m("ul",mI,[m("li",_I,[x(Pt(yr),{to:{name:"trip"},class:"nav-link"},{default:$(()=>u[1]||(u[1]=[X("My Trip")])),_:1,__:[1]})]),m("li",yI,[x(Pt(yr),{to:{name:"passengers"},class:"nav-link"},{default:$(()=>u[2]||(u[2]=[X("Passengers")])),_:1,__:[2]})]),m("li",vI,[x(Pt(yr),{to:{name:"drivers"},class:"nav-link"},{default:$(()=>u[3]||(u[3]=[X("Drivers")])),_:1,__:[3]})]),i.value?(Fe(),ze("li",CI,[m("a",{href:"javascript:void(0)",class:"nav-link",onClick:a},"Logout")])):(Fe(),ze("li",EI,[m("a",{href:"javascript:void(0)",class:"nav-link",onClick:s},"Login")]))])])])])),[[l,c.handleScroll]]),x(Pt(Mg),{authenticated:t.value},null,8,["authenticated"])])}}},$r=(n,e)=>{const t=n.__vccOpts||n;for(const[r,o]of e)t[r]=o;return t},TI={};function bI(n,e){return Fe(),ze("div",null,e[0]||(e[0]=[xn('<section id="contact" class="contact bg-primary"><div class="container"><h2><span>We </span><i class="fas fa-heart" style="color:#d73925;"></i><span> new friends!</span></h2><ul class="list-inline list-social"><li class="list-inline-item social-twitter"><a href="#"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item social-facebook"><a href="#"><i class="fab fa-facebook-f"></i></a></li><li class="list-inline-item social-google-plus"><a href="#"><i class="fab fa-google-plus"></i></a></li></ul></div></section><footer><div class="container"><p>© Rideshare by Relecloud. All Rights Reserved.</p><ul class="list-inline"><li class="list-inline-item"><a href="#">Privacy</a></li><li class="list-inline-item"><a href="#">Terms</a></li><li class="list-inline-item"><a href="#">FAQ</a></li></ul></div></footer>',2)]))}const AI=$r(TI,[["render",bI]]);class br extends Error{constructor(e,t){const r=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=r}}class Ju extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class Xt extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class SI extends Error{constructor(e,t){const r=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=r}}class II extends Error{constructor(e,t){const r=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=r}}class RI extends Error{constructor(e,t){const r=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=r}}class zh extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class kI extends Error{constructor(e,t){const r=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=r}}class j_{constructor(e,t,r){this.statusCode=e,this.statusText=t,this.content=r}}class xa{get(e,t){return this.send({...t,method:"GET",url:e})}post(e,t){return this.send({...t,method:"POST",url:e})}delete(e,t){return this.send({...t,method:"DELETE",url:e})}getCookieString(e){return""}}var b;(function(n){n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Information=2]="Information",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.None=6]="None"})(b||(b={}));class Ai{constructor(){}log(e,t){}}Ai.instance=new Ai;const OI="8.0.7";class Be{static isRequired(e,t){if(e==null)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,r){if(!(e in t))throw new Error(`Unknown ${r} value: ${e}.`)}}class xe{static get isBrowser(){return!xe.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!xe.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!xe.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Si(n,e){let t="";return Nr(n)?(t=`Binary data of length ${n.byteLength}`,e&&(t+=`. Content: '${PI(n)}'`)):typeof n=="string"&&(t=`String data of length ${n.length}`,e&&(t+=`. Content: '${n}'`)),t}function PI(n){const e=new Uint8Array(n);let t="";return e.forEach(r=>{const o=r<16?"0":"";t+=`0x${o}${r.toString(16)} `}),t.substr(0,t.length-1)}function Nr(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}async function G_(n,e,t,r,o,i){const s={},[a,c]=wo();s[a]=c,n.log(b.Trace,`(${e} transport) sending data. ${Si(o,i.logMessageContent)}.`);const u=Nr(o)?"arraybuffer":"text",l=await t.post(r,{content:o,headers:{...s,...i.headers},responseType:u,timeout:i.timeout,withCredentials:i.withCredentials});n.log(b.Trace,`(${e} transport) request complete. Response status: ${l.statusCode}.`)}function NI(n){return n===void 0?new Vs(b.Information):n===null?Ai.instance:n.log!==void 0?n:new Vs(n)}class MI{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(t=>{})}}class Vs{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${b[e]}: ${t}`;switch(e){case b.Critical:case b.Error:this.out.error(r);break;case b.Warning:this.out.warn(r);break;case b.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function wo(){let n="X-SignalR-User-Agent";return xe.isNode&&(n="User-Agent"),[n,DI(OI,xI(),HI(),LI())]}function DI(n,e,t,r){let o="Microsoft SignalR/";const i=n.split(".");return o+=`${i[0]}.${i[1]}`,o+=` (${n}; `,e&&e!==""?o+=`${e}; `:o+="Unknown OS; ",o+=`${t}`,r?o+=`; ${r}`:o+="; Unknown Runtime Version",o+=")",o}function xI(){if(xe.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function LI(){if(xe.isNode)return process.versions.node}function HI(){return xe.isNode?"NodeJS":"Browser"}function mc(n){return n.stack?n.stack:n.message?n.message:`${n}`}function UI(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class $I extends xa{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||xe.isNode){const t=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(t("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=t("node-fetch"):this._fetchType=fetch,this._fetchType=t("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(UI());if(typeof AbortController>"u"){const t=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=t("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new Xt;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const t=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),r=new Xt});let o=null;if(e.timeout){const c=e.timeout;o=setTimeout(()=>{t.abort(),this._logger.log(b.Warning,"Timeout from HTTP request."),r=new Ju},c)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Nr(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let i;try{i=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(c){throw r||(this._logger.log(b.Warning,`Error from HTTP request. ${c}.`),c)}finally{o&&clearTimeout(o),e.abortSignal&&(e.abortSignal.onabort=null)}if(!i.ok){const c=await qh(i,"text");throw new br(c||i.statusText,i.status)}const a=await qh(i,e.responseType);return new j_(i.status,i.statusText,a)}getCookieString(e){let t="";return xe.isNode&&this._jar&&this._jar.getCookies(e,(r,o)=>t=o.join("; ")),t}}function qh(n,e){let t;switch(e){case"arraybuffer":t=n.arrayBuffer();break;case"text":t=n.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:t=n.text();break}return t}class FI extends xa{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Xt):e.method?e.url?new Promise((t,r)=>{const o=new XMLHttpRequest;o.open(e.method,e.url,!0),o.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(Nr(e.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const i=e.headers;i&&Object.keys(i).forEach(s=>{o.setRequestHeader(s,i[s])}),e.responseType&&(o.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{o.abort(),r(new Xt)}),e.timeout&&(o.timeout=e.timeout),o.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),o.status>=200&&o.status<300?t(new j_(o.status,o.statusText,o.response||o.responseText)):r(new br(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(b.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),r(new br(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(b.Warning,"Timeout from HTTP request."),r(new Ju)},o.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class BI extends xa{constructor(e){if(super(),typeof fetch<"u"||xe.isNode)this._httpClient=new $I(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new FI(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Xt):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class xt{static write(e){return`${e}${xt.RecordSeparator}`}static parse(e){if(e[e.length-1]!==xt.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(xt.RecordSeparator);return t.pop(),t}}xt.RecordSeparatorCode=30;xt.RecordSeparator=String.fromCharCode(xt.RecordSeparatorCode);class KI{writeHandshakeRequest(e){return xt.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,r;if(Nr(e)){const a=new Uint8Array(e),c=a.indexOf(xt.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,u))),r=a.byteLength>u?a.slice(u).buffer:null}else{const a=e,c=a.indexOf(xt.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;t=a.substring(0,u),r=a.length>u?a.substring(u):null}const o=xt.parse(t),i=JSON.parse(o[0]);if(i.type)throw new Error("Expected a handshake response from the server.");return[r,i]}}var oe;(function(n){n[n.Invocation=1]="Invocation",n[n.StreamItem=2]="StreamItem",n[n.Completion=3]="Completion",n[n.StreamInvocation=4]="StreamInvocation",n[n.CancelInvocation=5]="CancelInvocation",n[n.Ping=6]="Ping",n[n.Close=7]="Close",n[n.Ack=8]="Ack",n[n.Sequence=9]="Sequence"})(oe||(oe={}));class jI{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new MI(this,e)}}class GI{constructor(e,t,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=t,this._bufferSize=r}async _send(e){const t=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let o=()=>{},i=()=>{};Nr(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((s,a)=>{o=s,i=a})),this._messages.push(new VI(t,this._totalMessageCount,o,i))}try{this._reconnectInProgress||await this._connection.send(t)}catch{this._disconnected()}await r}_ack(e){let t=-1;for(let r=0;r<this._messages.length;r++){const o=this._messages[r];if(o._id<=e.sequenceId)t=r,Nr(o._message)?this._bufferedByteCount-=o._message.byteLength:this._bufferedByteCount-=o._message.length,o._resolver();else if(this._bufferedByteCount<this._bufferSize)o._resolver();else break}t!==-1&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==oe.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:oe.Sequence,sequenceId:e}));const t=this._messages;for(const r of t)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const t of this._messages)t._rejector(e)}_isInvocationMessage(e){switch(e.type){case oe.Invocation:case oe.StreamItem:case oe.Completion:case oe.StreamInvocation:case oe.CancelInvocation:return!0;case oe.Close:case oe.Sequence:case oe.Ping:case oe.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:oe.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class VI{constructor(e,t,r,o){this._message=e,this._id=t,this._resolver=r,this._rejector=o}}const WI=30*1e3,zI=15*1e3,qI=1e5;var Me;(function(n){n.Disconnected="Disconnected",n.Connecting="Connecting",n.Connected="Connected",n.Disconnecting="Disconnecting",n.Reconnecting="Reconnecting"})(Me||(Me={}));class Xu{static create(e,t,r,o,i,s,a){return new Xu(e,t,r,o,i,s,a)}constructor(e,t,r,o,i,s,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(b.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Be.isRequired(e,"connection"),Be.isRequired(t,"logger"),Be.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=i??WI,this.keepAliveIntervalInMilliseconds=s??zI,this._statefulReconnectBufferSize=a??qI,this._logger=t,this._protocol=r,this.connection=e,this._reconnectPolicy=o,this._handshakeProtocol=new KI,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Me.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:oe.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Me.Disconnected&&this._connectionState!==Me.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Me.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Me.Connecting,this._logger.log(b.Debug,"Starting HubConnection.");try{await this._startInternal(),xe.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Me.Connected,this._connectionStarted=!0,this._logger.log(b.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Me.Disconnected,this._logger.log(b.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((t,r)=>{this._handshakeResolver=t,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);const r={protocol:this._protocol.name,version:t};if(this._logger.log(b.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(b.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new GI(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(t){throw this._logger.log(b.Debug,`Hub handshake failed with error '${t}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(t),t}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===Me.Disconnected)return this._logger.log(b.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Me.Disconnecting)return this._logger.log(b.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const t=this._connectionState;return this._connectionState=Me.Disconnecting,this._logger.log(b.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(b.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===Me.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new Xt("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...t){const[r,o]=this._replaceStreamingParams(t),i=this._createStreamInvocation(e,t,o);let s;const a=new jI;return a.cancelCallback=()=>{const c=this._createCancelInvocation(i.invocationId);return delete this._callbacks[i.invocationId],s.then(()=>this._sendWithProtocol(c))},this._callbacks[i.invocationId]=(c,u)=>{if(u){a.error(u);return}else c&&(c.type===oe.Completion?c.error?a.error(new Error(c.error)):a.complete():a.next(c.item))},s=this._sendWithProtocol(i).catch(c=>{a.error(c),delete this._callbacks[i.invocationId]}),this._launchStreams(r,s),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[r,o]=this._replaceStreamingParams(t),i=this._sendWithProtocol(this._createInvocation(e,t,!0,o));return this._launchStreams(r,i),i}invoke(e,...t){const[r,o]=this._replaceStreamingParams(t),i=this._createInvocation(e,t,!1,o);return new Promise((a,c)=>{this._callbacks[i.invocationId]=(l,d)=>{if(d){c(d);return}else l&&(l.type===oe.Completion?l.error?c(new Error(l.error)):a(l.result):c(new Error(`Unexpected message type: ${l.type}`)))};const u=this._sendWithProtocol(i).catch(l=>{c(l),delete this._callbacks[i.invocationId]});this._launchStreams(r,u)})}on(e,t){!e||!t||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(t)===-1&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(t){const o=r.indexOf(t);o!==-1&&(r.splice(o,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const t=this._protocol.parseMessages(e,this._logger);for(const r of t)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case oe.Invocation:this._invokeClientMethod(r).catch(o=>{this._logger.log(b.Error,`Invoke client method threw error: ${mc(o)}`)});break;case oe.StreamItem:case oe.Completion:{const o=this._callbacks[r.invocationId];if(o){r.type===oe.Completion&&delete this._callbacks[r.invocationId];try{o(r)}catch(i){this._logger.log(b.Error,`Stream callback threw error: ${mc(i)}`)}}break}case oe.Ping:break;case oe.Close:{this._logger.log(b.Information,"Close message received from server.");const o=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(o):this._stopPromise=this._stopInternal(o);break}case oe.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case oe.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(b.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,r;try{[r,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(o){const i="Error parsing handshake response: "+o;this._logger.log(b.Error,i);const s=new Error(i);throw this._handshakeRejecter(s),s}if(t.error){const o="Server returned handshake error: "+t.error;this._logger.log(b.Error,o);const i=new Error(o);throw this._handshakeRejecter(i),i}else this._logger.log(b.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Me.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const t=e.target.toLowerCase(),r=this._methods[t];if(!r){this._logger.log(b.Warning,`No client method with the name '${t}' found.`),e.invocationId&&(this._logger.log(b.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const o=r.slice(),i=!!e.invocationId;let s,a,c;for(const u of o)try{const l=s;s=await u.apply(this,e.arguments),i&&s&&l&&(this._logger.log(b.Error,`Multiple results provided for '${t}'. Sending error to server.`),c=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),a=void 0}catch(l){a=l,this._logger.log(b.Error,`A callback for the method '${t}' threw error '${l}'.`)}c?await this._sendWithProtocol(c):i?(a?c=this._createCompletionMessage(e.invocationId,`${a}`,null):s!==void 0?c=this._createCompletionMessage(e.invocationId,null,s):(this._logger.log(b.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),c=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):s&&this._logger.log(b.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(b.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new Xt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Me.Disconnecting?this._completeClose(e):this._connectionState===Me.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Me.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Me.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),xe.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(t=>t.apply(this,[e]))}catch(t){this._logger.log(b.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){const t=Date.now();let r=0,o=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),i=this._getNextRetryDelay(r++,0,o);if(i===null){this._logger.log(b.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=Me.Reconnecting,e?this._logger.log(b.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(b.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[e]))}catch(s){this._logger.log(b.Error,`An onreconnecting callback called with error '${e}' threw error '${s}'.`)}if(this._connectionState!==Me.Reconnecting){this._logger.log(b.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;i!==null;){if(this._logger.log(b.Information,`Reconnect attempt number ${r} will start in ${i} ms.`),await new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,i)}),this._reconnectDelayHandle=void 0,this._connectionState!==Me.Reconnecting){this._logger.log(b.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Me.Connected,this._logger.log(b.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(b.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(b.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==Me.Reconnecting){this._logger.log(b.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Me.Disconnecting&&this._completeClose();return}o=s instanceof Error?s:new Error(s.toString()),i=this._getNextRetryDelay(r++,Date.now()-t,o)}}this._logger.log(b.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:r})}catch(o){return this._logger.log(b.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${o}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach(r=>{const o=t[r];try{o(null,e)}catch(i){this._logger.log(b.Error,`Stream 'error' callback called with '${e}' threw error: ${mc(i)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,r,o){if(r)return o.length!==0?{arguments:t,streamIds:o,target:e,type:oe.Invocation}:{arguments:t,target:e,type:oe.Invocation};{const i=this._invocationId;return this._invocationId++,o.length!==0?{arguments:t,invocationId:i.toString(),streamIds:o,target:e,type:oe.Invocation}:{arguments:t,invocationId:i.toString(),target:e,type:oe.Invocation}}}_launchStreams(e,t){if(e.length!==0){t||(t=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:o=>{let i;o instanceof Error?i=o.message:o&&o.toString?i=o.toString():i="Unknown error",t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,i)))},next:o=>{t=t.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,o)))}})}}_replaceStreamingParams(e){const t=[],r=[];for(let o=0;o<e.length;o++){const i=e[o];if(this._isObservable(i)){const s=this._invocationId;this._invocationId++,t[s]=i,r.push(s.toString()),e.splice(o,1)}}return[t,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,t,r){const o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:t,invocationId:o.toString(),streamIds:r,target:e,type:oe.StreamInvocation}:{arguments:t,invocationId:o.toString(),target:e,type:oe.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:oe.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:oe.StreamItem}}_createCompletionMessage(e,t,r){return t?{error:t,invocationId:e,type:oe.Completion}:{invocationId:e,result:r,type:oe.Completion}}_createCloseMessage(){return{type:oe.Close}}}const YI=[0,2e3,1e4,3e4,null];class Yh{constructor(e){this._retryDelays=e!==void 0?[...e,null]:YI}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class Ar{}Ar.Authorization="Authorization";Ar.Cookie="Cookie";class QI extends xa{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return t&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[Ar.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[Ar.Authorization]&&delete e.headers[Ar.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Ge;(function(n){n[n.None=0]="None",n[n.WebSockets=1]="WebSockets",n[n.ServerSentEvents=2]="ServerSentEvents",n[n.LongPolling=4]="LongPolling"})(Ge||(Ge={}));var nt;(function(n){n[n.Text=1]="Text",n[n.Binary=2]="Binary"})(nt||(nt={}));let JI=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Qh{get pollAborted(){return this._pollAbort.aborted}constructor(e,t,r){this._httpClient=e,this._logger=t,this._pollAbort=new JI,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,t){if(Be.isRequired(e,"url"),Be.isRequired(t,"transferFormat"),Be.isIn(t,nt,"transferFormat"),this._url=e,this._logger.log(b.Trace,"(LongPolling transport) Connecting."),t===nt.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,o]=wo(),i={[r]:o,...this._options.headers},s={abortSignal:this._pollAbort.signal,headers:i,timeout:1e5,withCredentials:this._options.withCredentials};t===nt.Binary&&(s.responseType="arraybuffer");const a=`${e}&_=${Date.now()}`;this._logger.log(b.Trace,`(LongPolling transport) polling: ${a}.`);const c=await this._httpClient.get(a,s);c.statusCode!==200?(this._logger.log(b.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new br(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)}async _poll(e,t){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(b.Trace,`(LongPolling transport) polling: ${r}.`);const o=await this._httpClient.get(r,t);o.statusCode===204?(this._logger.log(b.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):o.statusCode!==200?(this._logger.log(b.Error,`(LongPolling transport) Unexpected response code: ${o.statusCode}.`),this._closeError=new br(o.statusText||"",o.statusCode),this._running=!1):o.content?(this._logger.log(b.Trace,`(LongPolling transport) data received. ${Si(o.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(o.content)):this._logger.log(b.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof Ju?this._logger.log(b.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(b.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(b.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?G_(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(b.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(b.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[t,r]=wo();e[t]=r;const o={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let i;try{await this._httpClient.delete(this._url,o)}catch(s){i=s}i?i instanceof br&&(i.statusCode===404?this._logger.log(b.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(b.Trace,`(LongPolling transport) Error sending a DELETE request: ${i}`)):this._logger.log(b.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(b.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(b.Trace,e),this.onclose(this._closeError)}}}class XI{constructor(e,t,r,o){this._httpClient=e,this._accessToken=t,this._logger=r,this._options=o,this.onreceive=null,this.onclose=null}async connect(e,t){return Be.isRequired(e,"url"),Be.isRequired(t,"transferFormat"),Be.isIn(t,nt,"transferFormat"),this._logger.log(b.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,o)=>{let i=!1;if(t!==nt.Text){o(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(xe.isBrowser||xe.isWebWorker)s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const a=this._httpClient.getCookieString(e),c={};c.Cookie=a;const[u,l]=wo();c[u]=l,s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{s.onmessage=a=>{if(this.onreceive)try{this._logger.log(b.Trace,`(SSE transport) data received. ${Si(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(c){this._close(c);return}},s.onerror=a=>{i?this._close():o(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(b.Information,`SSE connected to ${this._url}`),this._eventSource=s,i=!0,r()}}catch(a){o(a);return}})}async send(e){return this._eventSource?G_(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class ZI{constructor(e,t,r,o,i,s){this._logger=r,this._accessTokenFactory=t,this._logMessageContent=o,this._webSocketConstructor=i,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=s}async connect(e,t){Be.isRequired(e,"url"),Be.isRequired(t,"transferFormat"),Be.isIn(t,nt,"transferFormat"),this._logger.log(b.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((o,i)=>{e=e.replace(/^http/,"ws");let s;const a=this._httpClient.getCookieString(e);let c=!1;if(xe.isNode||xe.isReactNative){const u={},[l,d]=wo();u[l]=d,r&&(u[Ar.Authorization]=`Bearer ${r}`),a&&(u[Ar.Cookie]=a),s=new this._webSocketConstructor(e,void 0,{headers:{...u,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);s||(s=new this._webSocketConstructor(e)),t===nt.Binary&&(s.binaryType="arraybuffer"),s.onopen=u=>{this._logger.log(b.Information,`WebSocket connected to ${e}.`),this._webSocket=s,c=!0,o()},s.onerror=u=>{let l=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?l=u.error:l="There was an error with the transport",this._logger.log(b.Information,`(WebSockets transport) ${l}.`)},s.onmessage=u=>{if(this._logger.log(b.Trace,`(WebSockets transport) data received. ${Si(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(l){this._close(l);return}},s.onclose=u=>{if(c)this._close(u);else{let l=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?l=u.error:l="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",i(new Error(l))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(b.Trace,`(WebSockets transport) sending data. ${Si(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(b.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const Jh=100;class eR{constructor(e,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Be.isRequired(e,"url"),this._logger=NI(t.logger),this.baseUrl=this._resolveUrl(e),t=t||{},t.logMessageContent=t.logMessageContent===void 0?!1:t.logMessageContent,typeof t.withCredentials=="boolean"||t.withCredentials===void 0)t.withCredentials=t.withCredentials===void 0?!0:t.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.timeout=t.timeout===void 0?100*1e3:t.timeout;let r=null,o=null;if(xe.isNode&&typeof require<"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=i("ws"),o=i("eventsource")}!xe.isNode&&typeof WebSocket<"u"&&!t.WebSocket?t.WebSocket=WebSocket:xe.isNode&&!t.WebSocket&&r&&(t.WebSocket=r),!xe.isNode&&typeof EventSource<"u"&&!t.EventSource?t.EventSource=EventSource:xe.isNode&&!t.EventSource&&typeof o<"u"&&(t.EventSource=o),this._httpClient=new QI(t.httpClient||new BI(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||nt.Binary,Be.isIn(e,nt,"transferFormat"),this._logger.log(b.Debug,`Starting connection with transfer format '${nt[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const t="Failed to start the HttpConnection before stop() was called.";return this._logger.log(b.Error,t),await this._stopPromise,Promise.reject(new Xt(t))}else if(this._connectionState!=="Connected"){const t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(b.Error,t),Promise.reject(new Xt(t))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Zu(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(b.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(b.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(t=>{this._stopPromiseResolver=t}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(t){this._logger.log(b.Error,`HttpConnection.transport.stop() threw error '${t}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(b.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Ge.WebSockets)this.transport=this._constructTransport(Ge.WebSockets),await this._startTransport(t,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,o=0;do{if(r=await this._getNegotiationResponse(t),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Xt("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(t=r.url),r.accessToken){const i=r.accessToken;this._accessTokenFactory=()=>i,this._httpClient._accessToken=i,this._httpClient._accessTokenFactory=void 0}o++}while(r.url&&o<Jh);if(o===Jh&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,r,e)}this.transport instanceof Qh&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(b.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(b.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const t={},[r,o]=wo();t[r]=o;const i=this._resolveNegotiateUrl(e);this._logger.log(b.Debug,`Sending negotiation request: ${i}.`);try{const s=await this._httpClient.post(i,{content:"",headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));const a=JSON.parse(s.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new zh("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(s){let a="Failed to complete negotiation with the server: "+s;return s instanceof br&&s.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(b.Error,a),Promise.reject(new zh(a))}}_createConnectUrl(e,t){return t?e+(e.indexOf("?")===-1?"?":"&")+`id=${t}`:e}async _createTransport(e,t,r,o){let i=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(t)){this._logger.log(b.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(i,o),this.connectionId=r.connectionId;return}const s=[],a=r.availableTransports||[];let c=r;for(const u of a){const l=this._resolveTransportOrError(u,t,o,(c==null?void 0:c.useStatefulReconnect)===!0);if(l instanceof Error)s.push(`${u.transport} failed:`),s.push(l);else if(this._isITransport(l)){if(this.transport=l,!c){try{c=await this._getNegotiationResponse(e)}catch(d){return Promise.reject(d)}i=this._createConnectUrl(e,c.connectionToken)}try{await this._startTransport(i,o),this.connectionId=c.connectionId;return}catch(d){if(this._logger.log(b.Error,`Failed to start the transport '${u.transport}': ${d}`),c=void 0,s.push(new RI(`${u.transport} failed: ${d}`,Ge[u.transport])),this._connectionState!=="Connecting"){const h="Failed to select transport before stop() was called.";return this._logger.log(b.Debug,h),Promise.reject(new Xt(h))}}}}return s.length>0?Promise.reject(new kI(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Ge.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new ZI(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Ge.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new XI(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Ge.LongPolling:return new Qh(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let o=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,t),await this.features.resend()}catch{o=!0}else{this._stopConnection(r);return}o&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,t)}_resolveTransportOrError(e,t,r,o){const i=Ge[e.transport];if(i==null)return this._logger.log(b.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(tR(t,i))if(e.transferFormats.map(a=>nt[a]).indexOf(r)>=0){if(i===Ge.WebSockets&&!this._options.WebSocket||i===Ge.ServerSentEvents&&!this._options.EventSource)return this._logger.log(b.Debug,`Skipping transport '${Ge[i]}' because it is not supported in your environment.'`),new SI(`'${Ge[i]}' is not supported in your environment.`,i);this._logger.log(b.Debug,`Selecting transport '${Ge[i]}'.`);try{return this.features.reconnect=i===Ge.WebSockets?o:void 0,this._constructTransport(i)}catch(a){return a}}else return this._logger.log(b.Debug,`Skipping transport '${Ge[i]}' because it does not support the requested transfer format '${nt[r]}'.`),new Error(`'${Ge[i]}' does not support ${nt[r]}.`);else return this._logger.log(b.Debug,`Skipping transport '${Ge[i]}' because it was disabled by the client.`),new II(`'${Ge[i]}' is disabled by the client.`,i)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(b.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(b.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(b.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(b.Error,`Connection disconnected with error '${e}'.`):this._logger.log(b.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(t=>{this._logger.log(b.Error,`TransportSendQueue.stop() threw error '${t}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(b.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!xe.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(b.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=new URL(e);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";const r=new URLSearchParams(t.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),t.search=r.toString(),t.toString()}}function tR(n,e){return!n||(e&n)!==0}class Zu{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new Ji,this._transportResult=new Ji,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new Ji),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Ji;const e=this._transportResult;this._transportResult=void 0;const t=typeof this._buffer[0]=="string"?this._buffer.join(""):Zu._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(t),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const t=e.map(i=>i.byteLength).reduce((i,s)=>i+s),r=new Uint8Array(t);let o=0;for(const i of e)r.set(new Uint8Array(i),o),o+=i.byteLength;return r.buffer}}class Ji{constructor(){this.promise=new Promise((e,t)=>[this._resolver,this._rejecter]=[e,t])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const nR="json";class rR{constructor(){this.name=nR,this.version=2,this.transferFormat=nt.Text}parseMessages(e,t){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];t===null&&(t=Ai.instance);const r=xt.parse(e),o=[];for(const i of r){const s=JSON.parse(i);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case oe.Invocation:this._isInvocationMessage(s);break;case oe.StreamItem:this._isStreamItemMessage(s);break;case oe.Completion:this._isCompletionMessage(s);break;case oe.Ping:break;case oe.Close:break;case oe.Ack:this._isAckMessage(s);break;case oe.Sequence:this._isSequenceMessage(s);break;default:t.log(b.Information,"Unknown message type '"+s.type+"' ignored.");continue}o.push(s)}return o}writeMessage(e){return xt.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,t){if(typeof e!="string"||e==="")throw new Error(t)}}const oR={trace:b.Trace,debug:b.Debug,info:b.Information,information:b.Information,warn:b.Warning,warning:b.Warning,error:b.Error,critical:b.Critical,none:b.None};function iR(n){const e=oR[n.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${n}`)}class sR{configureLogging(e){if(Be.isRequired(e,"logging"),aR(e))this.logger=e;else if(typeof e=="string"){const t=iR(e);this.logger=new Vs(t)}else this.logger=new Vs(e);return this}withUrl(e,t){return Be.isRequired(e,"url"),Be.isNotEmpty(e,"url"),this.url=e,typeof t=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...t}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:t},this}withHubProtocol(e){return Be.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new Yh(e):this.reconnectPolicy=e:this.reconnectPolicy=new Yh,this}withServerTimeout(e){return Be.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return Be.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e==null?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new eR(this.url,e);return Xu.create(t,this.logger||Ai.instance,this.protocol||new rR,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function aR(n){return n.log!==void 0}function V_(n,e){return function(){return n.apply(e,arguments)}}const{toString:cR}=Object.prototype,{getPrototypeOf:ed}=Object,{iterator:La,toStringTag:W_}=Symbol,Ha=(n=>e=>{const t=cR.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),cn=n=>(n=n.toLowerCase(),e=>Ha(e)===n),Ua=n=>e=>typeof e===n,{isArray:xo}=Array,Ii=Ua("undefined");function lR(n){return n!==null&&!Ii(n)&&n.constructor!==null&&!Ii(n.constructor)&&Ct(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const z_=cn("ArrayBuffer");function uR(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&z_(n.buffer),e}const dR=Ua("string"),Ct=Ua("function"),q_=Ua("number"),$a=n=>n!==null&&typeof n=="object",hR=n=>n===!0||n===!1,hs=n=>{if(Ha(n)!=="object")return!1;const e=ed(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(W_ in n)&&!(La in n)},fR=cn("Date"),pR=cn("File"),gR=cn("Blob"),mR=cn("FileList"),_R=n=>$a(n)&&Ct(n.pipe),yR=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ct(n.append)&&((e=Ha(n))==="formdata"||e==="object"&&Ct(n.toString)&&n.toString()==="[object FormData]"))},vR=cn("URLSearchParams"),[CR,ER,wR,TR]=["ReadableStream","Request","Response","Headers"].map(cn),bR=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Di(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),xo(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,n[a],a,n)}}function Y_(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Q_=n=>!Ii(n)&&n!==vr;function gl(){const{caseless:n}=Q_(this)&&this||{},e={},t=(r,o)=>{const i=n&&Y_(e,o)||o;hs(e[i])&&hs(r)?e[i]=gl(e[i],r):hs(r)?e[i]=gl({},r):xo(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Di(arguments[r],t);return e}const AR=(n,e,t,{allOwnKeys:r}={})=>(Di(e,(o,i)=>{t&&Ct(o)?n[i]=V_(o,t):n[i]=o},{allOwnKeys:r}),n),SR=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),IR=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},RR=(n,e,t,r)=>{let o,i,s;const a={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),i=o.length;i-- >0;)s=o[i],(!r||r(s,n,e))&&!a[s]&&(e[s]=n[s],a[s]=!0);n=t!==!1&&ed(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},kR=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},OR=n=>{if(!n)return null;if(xo(n))return n;let e=n.length;if(!q_(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},PR=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&ed(Uint8Array)),NR=(n,e)=>{const r=(n&&n[La]).call(n);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(n,i[0],i[1])}},MR=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},DR=cn("HTMLFormElement"),xR=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),Xh=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),LR=cn("RegExp"),J_=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Di(t,(o,i)=>{let s;(s=e(o,i,n))!==!1&&(r[i]=s||o)}),Object.defineProperties(n,r)},HR=n=>{J_(n,(e,t)=>{if(Ct(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ct(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},UR=(n,e)=>{const t={},r=o=>{o.forEach(i=>{t[i]=!0})};return xo(n)?r(n):r(String(n).split(e)),t},$R=()=>{},FR=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function BR(n){return!!(n&&Ct(n.append)&&n[W_]==="FormData"&&n[La])}const KR=n=>{const e=new Array(10),t=(r,o)=>{if($a(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=xo(r)?[]:{};return Di(r,(s,a)=>{const c=t(s,o+1);!Ii(c)&&(i[a]=c)}),e[o]=void 0,i}}return r};return t(n,0)},jR=cn("AsyncFunction"),GR=n=>n&&($a(n)||Ct(n))&&Ct(n.then)&&Ct(n.catch),X_=((n,e)=>n?setImmediate:e?((t,r)=>(vr.addEventListener("message",({source:o,data:i})=>{o===vr&&i===t&&r.length&&r.shift()()},!1),o=>{r.push(o),vr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ct(vr.postMessage)),VR=typeof queueMicrotask<"u"?queueMicrotask.bind(vr):typeof process<"u"&&process.nextTick||X_,WR=n=>n!=null&&Ct(n[La]),w={isArray:xo,isArrayBuffer:z_,isBuffer:lR,isFormData:yR,isArrayBufferView:uR,isString:dR,isNumber:q_,isBoolean:hR,isObject:$a,isPlainObject:hs,isReadableStream:CR,isRequest:ER,isResponse:wR,isHeaders:TR,isUndefined:Ii,isDate:fR,isFile:pR,isBlob:gR,isRegExp:LR,isFunction:Ct,isStream:_R,isURLSearchParams:vR,isTypedArray:PR,isFileList:mR,forEach:Di,merge:gl,extend:AR,trim:bR,stripBOM:SR,inherits:IR,toFlatObject:RR,kindOf:Ha,kindOfTest:cn,endsWith:kR,toArray:OR,forEachEntry:NR,matchAll:MR,isHTMLForm:DR,hasOwnProperty:Xh,hasOwnProp:Xh,reduceDescriptors:J_,freezeMethods:HR,toObjectSet:UR,toCamelCase:xR,noop:$R,toFiniteNumber:FR,findKey:Y_,global:vr,isContextDefined:Q_,isSpecCompliantForm:BR,toJSONObject:KR,isAsyncFn:jR,isThenable:GR,setImmediate:X_,asap:VR,isIterable:WR};function ce(n,e,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}w.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});const Z_=ce.prototype,ey={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ey[n]={value:n}});Object.defineProperties(ce,ey);Object.defineProperty(Z_,"isAxiosError",{value:!0});ce.from=(n,e,t,r,o,i)=>{const s=Object.create(Z_);return w.toFlatObject(n,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ce.call(s,n.message,e,t,r,o),s.cause=n,s.name=n.name,i&&Object.assign(s,i),s};const zR=null;function ml(n){return w.isPlainObject(n)||w.isArray(n)}function ty(n){return w.endsWith(n,"[]")?n.slice(0,-2):n}function Zh(n,e,t){return n?n.concat(e).map(function(o,i){return o=ty(o),!t&&i?"["+o+"]":o}).join(t?".":""):e}function qR(n){return w.isArray(n)&&!n.some(ml)}const YR=w.toFlatObject(w,{},null,function(e){return/^is[A-Z]/.test(e)});function Fa(n,e,t){if(!w.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=w.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,E){return!w.isUndefined(E[v])});const r=t.metaTokens,o=t.visitor||l,i=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(e);if(!w.isFunction(o))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(w.isDate(y))return y.toISOString();if(!c&&w.isBlob(y))throw new ce("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(y)||w.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function l(y,v,E){let R=y;if(y&&!E&&typeof y=="object"){if(w.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(w.isArray(y)&&qR(y)||(w.isFileList(y)||w.endsWith(v,"[]"))&&(R=w.toArray(y)))return v=ty(v),R.forEach(function(M,P){!(w.isUndefined(M)||M===null)&&e.append(s===!0?Zh([v],P,i):s===null?v:v+"[]",u(M))}),!1}return ml(y)?!0:(e.append(Zh(E,v,i),u(y)),!1)}const d=[],h=Object.assign(YR,{defaultVisitor:l,convertValue:u,isVisitable:ml});function f(y,v){if(!w.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(y),w.forEach(y,function(R,O){(!(w.isUndefined(R)||R===null)&&o.call(e,R,w.isString(O)?O.trim():O,v,h))===!0&&f(R,v?v.concat(O):[O])}),d.pop()}}if(!w.isObject(n))throw new TypeError("data must be an object");return f(n),e}function ef(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function td(n,e){this._pairs=[],n&&Fa(n,this,e)}const ny=td.prototype;ny.append=function(e,t){this._pairs.push([e,t])};ny.toString=function(e){const t=e?function(r){return e.call(this,r,ef)}:ef;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function QR(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ry(n,e,t){if(!e)return n;const r=t&&t.encode||QR;w.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let i;if(o?i=o(e,t):i=w.isURLSearchParams(e)?e.toString():new td(e,t).toString(r),i){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class tf{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){w.forEach(this.handlers,function(r){r!==null&&e(r)})}}const oy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JR=typeof URLSearchParams<"u"?URLSearchParams:td,XR=typeof FormData<"u"?FormData:null,ZR=typeof Blob<"u"?Blob:null,ek={isBrowser:!0,classes:{URLSearchParams:JR,FormData:XR,Blob:ZR},protocols:["http","https","file","blob","url","data"]},nd=typeof window<"u"&&typeof document<"u",_l=typeof navigator=="object"&&navigator||void 0,tk=nd&&(!_l||["ReactNative","NativeScript","NS"].indexOf(_l.product)<0),nk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rk=nd&&window.location.href||"http://localhost",ok=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nd,hasStandardBrowserEnv:tk,hasStandardBrowserWebWorkerEnv:nk,navigator:_l,origin:rk},Symbol.toStringTag,{value:"Module"})),ot={...ok,...ek};function ik(n,e){return Fa(n,new ot.classes.URLSearchParams,Object.assign({visitor:function(t,r,o,i){return ot.isNode&&w.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function sk(n){return w.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ak(n){const e={},t=Object.keys(n);let r;const o=t.length;let i;for(r=0;r<o;r++)i=t[r],e[i]=n[i];return e}function iy(n){function e(t,r,o,i){let s=t[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=i>=t.length;return s=!s&&w.isArray(o)?o.length:s,c?(w.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!w.isObject(o[s]))&&(o[s]=[]),e(t,r,o[s],i)&&w.isArray(o[s])&&(o[s]=ak(o[s])),!a)}if(w.isFormData(n)&&w.isFunction(n.entries)){const t={};return w.forEachEntry(n,(r,o)=>{e(sk(r),o,t,0)}),t}return null}function ck(n,e,t){if(w.isString(n))try{return(e||JSON.parse)(n),w.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const xi={transitional:oy,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,i=w.isObject(e);if(i&&w.isHTMLForm(e)&&(e=new FormData(e)),w.isFormData(e))return o?JSON.stringify(iy(e)):e;if(w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e)||w.isReadableStream(e))return e;if(w.isArrayBufferView(e))return e.buffer;if(w.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ik(e,this.formSerializer).toString();if((a=w.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Fa(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||o?(t.setContentType("application/json",!1),ck(e)):e}],transformResponse:[function(e){const t=this.transitional||xi.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(w.isResponse(e)||w.isReadableStream(e))return e;if(e&&w.isString(e)&&(r&&!this.responseType||o)){const s=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?ce.from(a,ce.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],n=>{xi.headers[n]={}});const lk=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uk=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(s){o=s.indexOf(":"),t=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!t||e[t]&&lk[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},nf=Symbol("internals");function zo(n){return n&&String(n).trim().toLowerCase()}function fs(n){return n===!1||n==null?n:w.isArray(n)?n.map(fs):String(n)}function dk(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const hk=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function _c(n,e,t,r,o){if(w.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!w.isString(e)){if(w.isString(r))return e.indexOf(r)!==-1;if(w.isRegExp(r))return r.test(e)}}function fk(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function pk(n,e){const t=w.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}let Et=class{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function i(a,c,u){const l=zo(c);if(!l)throw new Error("header name must be a non-empty string");const d=w.findKey(o,l);(!d||o[d]===void 0||u===!0||u===void 0&&o[d]!==!1)&&(o[d||c]=fs(a))}const s=(a,c)=>w.forEach(a,(u,l)=>i(u,l,c));if(w.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(w.isString(e)&&(e=e.trim())&&!hk(e))s(uk(e),t);else if(w.isObject(e)&&w.isIterable(e)){let a={},c,u;for(const l of e){if(!w.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?w.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}s(a,t)}else e!=null&&i(t,e,r);return this}get(e,t){if(e=zo(e),e){const r=w.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return dk(o);if(w.isFunction(t))return t.call(this,o,r);if(w.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=zo(e),e){const r=w.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||_c(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function i(s){if(s=zo(s),s){const a=w.findKey(r,s);a&&(!t||_c(r,r[a],a,t))&&(delete r[a],o=!0)}}return w.isArray(e)?e.forEach(i):i(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const i=t[r];(!e||_c(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const t=this,r={};return w.forEach(this,(o,i)=>{const s=w.findKey(r,i);if(s){t[s]=fs(o),delete t[i];return}const a=e?fk(i):String(i).trim();a!==i&&delete t[i],t[a]=fs(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return w.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&w.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[nf]=this[nf]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=zo(s);r[a]||(pk(o,s),r[a]=!0)}return w.isArray(e)?e.forEach(i):i(e),this}};Et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(Et.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});w.freezeMethods(Et);function yc(n,e){const t=this||xi,r=e||t,o=Et.from(r.headers);let i=r.data;return w.forEach(n,function(a){i=a.call(t,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function sy(n){return!!(n&&n.__CANCEL__)}function Lo(n,e,t){ce.call(this,n??"canceled",ce.ERR_CANCELED,e,t),this.name="CanceledError"}w.inherits(Lo,ce,{__CANCEL__:!0});function ay(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ce("Request failed with status code "+t.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function gk(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function mk(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=r[i];s||(s=u),t[o]=c,r[o]=u;let d=i,h=0;for(;d!==o;)h+=t[d++],d=d%n;if(o=(o+1)%n,o===i&&(i=(i+1)%n),u-s<e)return;const f=l&&u-l;return f?Math.round(h*1e3/f):void 0}}function _k(n,e){let t=0,r=1e3/e,o,i;const s=(u,l=Date.now())=>{t=l,o=null,i&&(clearTimeout(i),i=null),n.apply(null,u)};return[(...u)=>{const l=Date.now(),d=l-t;d>=r?s(u,l):(o=u,i||(i=setTimeout(()=>{i=null,s(o)},r-d)))},()=>o&&s(o)]}const Ws=(n,e,t=3)=>{let r=0;const o=mk(50,250);return _k(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,c=s-r,u=o(c),l=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-s)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(d)},t)},rf=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},of=n=>(...e)=>w.asap(()=>n(...e)),yk=ot.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ot.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,vk=ot.hasStandardBrowserEnv?{write(n,e,t,r,o,i){const s=[n+"="+encodeURIComponent(e)];w.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),w.isString(r)&&s.push("path="+r),w.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ck(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ek(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function cy(n,e,t){let r=!Ck(e);return n&&(r||t==!1)?Ek(n,e):e}const sf=n=>n instanceof Et?{...n}:n;function Mr(n,e){e=e||{};const t={};function r(u,l,d,h){return w.isPlainObject(u)&&w.isPlainObject(l)?w.merge.call({caseless:h},u,l):w.isPlainObject(l)?w.merge({},l):w.isArray(l)?l.slice():l}function o(u,l,d,h){if(w.isUndefined(l)){if(!w.isUndefined(u))return r(void 0,u,d,h)}else return r(u,l,d,h)}function i(u,l){if(!w.isUndefined(l))return r(void 0,l)}function s(u,l){if(w.isUndefined(l)){if(!w.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in e)return r(u,l);if(d in n)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,l,d)=>o(sf(u),sf(l),d,!0)};return w.forEach(Object.keys(Object.assign({},n,e)),function(l){const d=c[l]||o,h=d(n[l],e[l],l);w.isUndefined(h)&&d!==a||(t[l]=h)}),t}const ly=n=>{const e=Mr({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=e;e.headers=s=Et.from(s),e.url=ry(cy(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(w.isFormData(t)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[u,...l]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...l].join("; "))}}if(ot.hasStandardBrowserEnv&&(r&&w.isFunction(r)&&(r=r(e)),r||r!==!1&&yk(e.url))){const u=o&&i&&vk.read(i);u&&s.set(o,u)}return e},wk=typeof XMLHttpRequest<"u",Tk=wk&&function(n){return new Promise(function(t,r){const o=ly(n);let i=o.data;const s=Et.from(o.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=o,l,d,h,f,y;function v(){f&&f(),y&&y(),o.cancelToken&&o.cancelToken.unsubscribe(l),o.signal&&o.signal.removeEventListener("abort",l)}let E=new XMLHttpRequest;E.open(o.method.toUpperCase(),o.url,!0),E.timeout=o.timeout;function R(){if(!E)return;const M=Et.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),B={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:M,config:n,request:E};ay(function(Q){t(Q),v()},function(Q){r(Q),v()},B),E=null}"onloadend"in E?E.onloadend=R:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(R)},E.onabort=function(){E&&(r(new ce("Request aborted",ce.ECONNABORTED,n,E)),E=null)},E.onerror=function(){r(new ce("Network Error",ce.ERR_NETWORK,n,E)),E=null},E.ontimeout=function(){let P=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const B=o.transitional||oy;o.timeoutErrorMessage&&(P=o.timeoutErrorMessage),r(new ce(P,B.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,n,E)),E=null},i===void 0&&s.setContentType(null),"setRequestHeader"in E&&w.forEach(s.toJSON(),function(P,B){E.setRequestHeader(B,P)}),w.isUndefined(o.withCredentials)||(E.withCredentials=!!o.withCredentials),a&&a!=="json"&&(E.responseType=o.responseType),u&&([h,y]=Ws(u,!0),E.addEventListener("progress",h)),c&&E.upload&&([d,f]=Ws(c),E.upload.addEventListener("progress",d),E.upload.addEventListener("loadend",f)),(o.cancelToken||o.signal)&&(l=M=>{E&&(r(!M||M.type?new Lo(null,n,E):M),E.abort(),E=null)},o.cancelToken&&o.cancelToken.subscribe(l),o.signal&&(o.signal.aborted?l():o.signal.addEventListener("abort",l)));const O=gk(o.url);if(O&&ot.protocols.indexOf(O)===-1){r(new ce("Unsupported protocol "+O+":",ce.ERR_BAD_REQUEST,n));return}E.send(i||null)})},bk=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,o;const i=function(u){if(!o){o=!0,a();const l=u instanceof Error?u:this.reason;r.abort(l instanceof ce?l:new Lo(l instanceof Error?l.message:l))}};let s=e&&setTimeout(()=>{s=null,i(new ce(`timeout ${e} of ms exceeded`,ce.ETIMEDOUT))},e);const a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),n=null)};n.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>w.asap(a),c}},Ak=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,o;for(;r<t;)o=r+e,yield n.slice(r,o),r=o},Sk=async function*(n,e){for await(const t of Ik(n))yield*Ak(t,e)},Ik=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},af=(n,e,t,r)=>{const o=Sk(n,e);let i=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await o.next();if(u){a(),c.close();return}let d=l.byteLength;if(t){let h=i+=d;t(h)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),o.return()}},{highWaterMark:2})},Ba=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uy=Ba&&typeof ReadableStream=="function",Rk=Ba&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),dy=(n,...e)=>{try{return!!n(...e)}catch{return!1}},kk=uy&&dy(()=>{let n=!1;const e=new Request(ot.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),cf=64*1024,yl=uy&&dy(()=>w.isReadableStream(new Response("").body)),zs={stream:yl&&(n=>n.body)};Ba&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zs[e]&&(zs[e]=w.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ce(`Response type '${e}' is not supported`,ce.ERR_NOT_SUPPORT,r)})})})(new Response);const Ok=async n=>{if(n==null)return 0;if(w.isBlob(n))return n.size;if(w.isSpecCompliantForm(n))return(await new Request(ot.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(w.isArrayBufferView(n)||w.isArrayBuffer(n))return n.byteLength;if(w.isURLSearchParams(n)&&(n=n+""),w.isString(n))return(await Rk(n)).byteLength},Pk=async(n,e)=>{const t=w.toFiniteNumber(n.getContentLength());return t??Ok(e)},Nk=Ba&&(async n=>{let{url:e,method:t,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:h}=ly(n);u=u?(u+"").toLowerCase():"text";let f=bk([o,i&&i.toAbortSignal()],s),y;const v=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let E;try{if(c&&kk&&t!=="get"&&t!=="head"&&(E=await Pk(l,r))!==0){let B=new Request(e,{method:"POST",body:r,duplex:"half"}),q;if(w.isFormData(r)&&(q=B.headers.get("content-type"))&&l.setContentType(q),B.body){const[Q,he]=rf(E,Ws(of(c)));r=af(B.body,cf,Q,he)}}w.isString(d)||(d=d?"include":"omit");const R="credentials"in Request.prototype;y=new Request(e,{...h,signal:f,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:R?d:void 0});let O=await fetch(y);const M=yl&&(u==="stream"||u==="response");if(yl&&(a||M&&v)){const B={};["status","statusText","headers"].forEach(me=>{B[me]=O[me]});const q=w.toFiniteNumber(O.headers.get("content-length")),[Q,he]=a&&rf(q,Ws(of(a),!0))||[];O=new Response(af(O.body,cf,Q,()=>{he&&he(),v&&v()}),B)}u=u||"text";let P=await zs[w.findKey(zs,u)||"text"](O,n);return!M&&v&&v(),await new Promise((B,q)=>{ay(B,q,{data:P,headers:Et.from(O.headers),status:O.status,statusText:O.statusText,config:n,request:y})})}catch(R){throw v&&v(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,n,y),{cause:R.cause||R}):ce.from(R,R&&R.code,n,y)}}),vl={http:zR,xhr:Tk,fetch:Nk};w.forEach(vl,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const lf=n=>`- ${n}`,Mk=n=>w.isFunction(n)||n===null||n===!1,hy={getAdapter:n=>{n=w.isArray(n)?n:[n];const{length:e}=n;let t,r;const o={};for(let i=0;i<e;i++){t=n[i];let s;if(r=t,!Mk(t)&&(r=vl[(s=String(t)).toLowerCase()],r===void 0))throw new ce(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(lf).join(`
`):" "+lf(i[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:vl};function vc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Lo(null,n)}function uf(n){return vc(n),n.headers=Et.from(n.headers),n.data=yc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),hy.getAdapter(n.adapter||xi.adapter)(n).then(function(r){return vc(n),r.data=yc.call(n,n.transformResponse,r),r.headers=Et.from(r.headers),r},function(r){return sy(r)||(vc(n),r&&r.response&&(r.response.data=yc.call(n,n.transformResponse,r.response),r.response.headers=Et.from(r.response.headers))),Promise.reject(r)})}const fy="1.9.0",Ka={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ka[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const df={};Ka.transitional=function(e,t,r){function o(i,s){return"[Axios v"+fy+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new ce(o(s," has been removed"+(t?" in "+t:"")),ce.ERR_DEPRECATED);return t&&!df[s]&&(df[s]=!0,console.warn(o(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,s,a):!0}};Ka.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Dk(n,e,t){if(typeof n!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=n[i],c=a===void 0||s(a,i,n);if(c!==!0)throw new ce("option "+i+" must be "+c,ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ce("Unknown option "+i,ce.ERR_BAD_OPTION)}}const ps={assertOptions:Dk,validators:Ka},gn=ps.validators;let Sr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new tf,response:new tf}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Mr(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:i}=t;r!==void 0&&ps.assertOptions(r,{silentJSONParsing:gn.transitional(gn.boolean),forcedJSONParsing:gn.transitional(gn.boolean),clarifyTimeoutError:gn.transitional(gn.boolean)},!1),o!=null&&(w.isFunction(o)?t.paramsSerializer={serialize:o}:ps.assertOptions(o,{encode:gn.function,serialize:gn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ps.assertOptions(t,{baseUrl:gn.spelling("baseURL"),withXsrfToken:gn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&w.merge(i.common,i[t.method]);i&&w.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),t.headers=Et.concat(s,i);const a=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(c=c&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let l,d=0,h;if(!c){const y=[uf.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),h=y.length,l=Promise.resolve(t);d<h;)l=l.then(y[d++],y[d++]);return l}h=a.length;let f=t;for(d=0;d<h;){const y=a[d++],v=a[d++];try{f=y(f)}catch(E){v.call(this,E);break}}try{l=uf.call(this,f)}catch(y){return Promise.reject(y)}for(d=0,h=u.length;d<h;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=Mr(this.defaults,e);const t=cy(e.baseURL,e.url,e.allowAbsoluteUrls);return ry(t,e.params,e.paramsSerializer)}};w.forEach(["delete","get","head","options"],function(e){Sr.prototype[e]=function(t,r){return this.request(Mr(r||{},{method:e,url:t,data:(r||{}).data}))}});w.forEach(["post","put","patch"],function(e){function t(r){return function(i,s,a){return this.request(Mr(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Sr.prototype[e]=t(),Sr.prototype[e+"Form"]=t(!0)});let xk=class py{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new Lo(i,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new py(function(o){e=o}),cancel:e}}};function Lk(n){return function(t){return n.apply(null,t)}}function Hk(n){return w.isObject(n)&&n.isAxiosError===!0}const Cl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cl).forEach(([n,e])=>{Cl[e]=n});function gy(n){const e=new Sr(n),t=V_(Sr.prototype.request,e);return w.extend(t,Sr.prototype,e,{allOwnKeys:!0}),w.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return gy(Mr(n,o))},t}const He=gy(xi);He.Axios=Sr;He.CanceledError=Lo;He.CancelToken=xk;He.isCancel=sy;He.VERSION=fy;He.toFormData=Fa;He.AxiosError=ce;He.Cancel=He.CanceledError;He.all=function(e){return Promise.all(e)};He.spread=Lk;He.isAxiosError=Hk;He.mergeConfig=Mr;He.AxiosHeaders=Et;He.formToJSON=n=>iy(w.isHTMLForm(n)?new FormData(n):n);He.getAdapter=hy.getAdapter;He.HttpStatusCode=Cl;He.default=He;const{Axios:n0,AxiosError:r0,CanceledError:o0,isCancel:i0,CancelToken:s0,VERSION:a0,all:c0,Cancel:l0,isAxiosError:u0,spread:d0,toFormData:h0,AxiosHeaders:f0,HttpStatusCode:p0,formToJSON:g0,getAdapter:m0,mergeConfig:_0}=He,Uk=new Da,$k=[200,201,202,203,204,300,301,302,303,304];function Fk(n,e,t){let r="",o="";return n&&(o={Authorization:`Bearer ${n}`},r=o),r}function Bk(n){if($k.includes(n.status))return n;if(n.status===401)return Promise.reject(new Error("USER_ANONYMOUS"));let e=new Error(n.statusText);return e.response=n,Promise.reject(e)}const hf=encodeURIComponent;function Kk(n){return Object.keys(n).map(e=>hf(e)+"="+hf(n[e])).join("&")}function jk(n,e={},t,r){return Object.keys(e).length>0&&(n=`${n}?${Kk(e)}`),Uk.getAccessToken().then(o=>He.get(n,{headers:Fk(o),withCredentials:!1}))}const Gk="https://ridesharewv64apim.azure-api.net/Passengers/v1.0";function Vk(n){return jk(`${Gk}/passengers/${n}`,{}).then(Bk)}const{mapGetters:Wk}=jn("common"),{mapGetters:zk,mapActions:qk}=jn("trips"),Yk={name:"SignalRTrips",data(){return{}},computed:{...Wk(["notificationSystem","user"]),...zk(["trip","currentStep","contentLoading"])},watch:{user(n,e){e===null&&n!==null&&this.connectToSignalR()}},methods:{...qk(["setTrip","setCurrentStep","createTrip","getSignalRInfo"]),async getSignalRInformation(){let n=await Vk(this.user.idTokenClaims.oid);if(n&&n.data){let e=await this.getSignalRInfo(n.data.email);if(e.status===200){let t=e.data;return console.log(`Connection Endpoint: ${t.url}`),t}else return console.log(`getSignalRInfo Response status: ${e.status}`),null}},connectToSignalR(){this.user!==null?this.getSignalRInformation().then(n=>{if(n!=null){let e={accessTokenFactory:()=>n.accessToken},t=new sR().withUrl(n.url,e).configureLogging(b.Information).build();console.log("Connected to SignalR"),t.on("tripUpdated",r=>{console.log(`tripUpdated Trip code: ${r.code}`),this.$toast.success(`Trip Code: ${r.code}. Message: tripUpdated.`,"Trip Updated",this.notificationSystem.options.success)}),t.on("tripDriversNotified",r=>{console.log(`tripDriversNotified Trip code: ${r.code}`),this.$toast.info(`Trip Code: ${r.code}. Message: tripDriversNotified.`,"Drivers Notified",this.notificationSystem.options.info)}),t.on("tripDriverPicked",r=>{console.log(`tripDriverPicked Trip code: ${r.code}`),this.setCurrentStep(2),this.setTrip(r),this.$toast.info(`Trip Code: ${r.code}. Message: tripDriverPicked.`,"Driver Picked",this.notificationSystem.options.info)}),t.on("tripStarting",r=>{console.log(`tripStarting Trip code: ${r.code}`),this.setCurrentStep(3),this.$toast.info(`Trip Code: ${r.code}. Message: tripStarting.`,"Trip Starting",this.notificationSystem.options.info)}),t.on("tripRunning",r=>{console.log(`tripRunning Trip code: ${r.code}`),this.currentStep<3&&this.setCurrentStep(3),this.$toast.info(`Trip Code: ${r.code}. Message: tripRunning.`,"Trip Running",this.notificationSystem.options.info)}),t.on("tripCompleted",r=>{console.log(`tripCompleted Trip code: ${r.code}`),this.setCurrentStep(4),this.$toast.success(`Trip Code: ${r.code}. Message: tripCompleted.`,"Trip Completed",this.notificationSystem.options.success)}),t.on("tripAborted",r=>{console.log(`tripAborted Trip code: ${r.code}`),this.setCurrentStep(0),this.$toast.warning(`Trip Code: ${r.code}. Message: tripAborted.`,"Trip Aborted",this.notificationSystem.options.warning)}),t.start().catch(r=>console.log(r.toString()))}else console.log("signalrInfo is null")}).catch(n=>{this.$toast.error(n.response?n.response:n.message?n.message:n,"Error",this.notificationSystem.options.error)}):console.log("Not connecting to SignalR because the user is not authenticated.")}},mounted(){this.connectToSignalR()}};function Qk(n,e,t,r,o,i){return Fe(),ze("div")}const Jk=$r(Yk,[["render",Qk]]),ff="/assets/rideshare-mock-app-BapwCRZ_.png",Xk="/assets/google-play-badge-DyfsG79m.svg",Zk="/assets/app-store-badge-Bw36Ky4f.svg",eO={class:"masthead masthead-home"},tO={class:"container h-100"},nO={class:"row h-100"},rO={class:"col-lg-7 my-auto"},oO={class:"mx-auto header-content"},iO={id:"features",class:"features"},sO={class:"container"},aO={class:"row"},cO={class:"col-lg-8 my-auto"},lO={class:"container-fluid"},uO={class:"row"},dO={class:"feature-item"},hO={class:"text-muted"},fO={class:"cta cta-background"},pO={class:"cta-content"},gO={class:"container"},mO={__name:"Home",setup(n){const e=[{icon:"icon-screen-smartphone",title:"Simple to use",text:"Just select 'Find my ride!' and wait for your driver... it's that simple!"},{icon:"icon-star",title:"Rating system",text:"Our rating system is straightforward and easy to use."},{icon:"icon-map",title:"Great coverage",text:"We offer the highest number of drivers, all around the world!"},{icon:"icon-speech",title:"Get notified",text:"Instant notifications mean you are less likely to miss your ride."}];return(t,r)=>(Fe(),ze("div",null,[m("header",eO,[m("div",tO,[m("div",nO,[m("div",rO,[m("div",oO,[r[1]||(r[1]=m("h1",{class:"mb-5"}," Rideshare by Relecloud will get you there! Find a driver in seconds. Forget about the other crowded and tired options and improve your ride share experience today. ",-1)),x(Pt(yr),{class:"btn btn-outline-warning btn-xl js-scroll-trigger",to:{name:"trip"}},{default:$(()=>r[0]||(r[0]=[X(" Find my ride! ")])),_:1,__:[0]})])]),r[2]||(r[2]=xn('<div class="col-lg-5 my-auto" data-v-4c929746><div class="device-container" data-v-4c929746><div class="device-mockup iphone6_plus portrait white" data-v-4c929746><div class="device device-iphone" data-v-4c929746><div class="screen" data-v-4c929746><img class="img-fluid" src="'+ff+'" alt="App mockup" data-v-4c929746></div></div></div></div></div>',1))])])]),r[8]||(r[8]=xn('<section id="download" class="download text-center bg-primary" data-v-4c929746><div class="container" data-v-4c929746><div class="row" data-v-4c929746><div class="col-md-8 mx-auto" data-v-4c929746><h2 class="section-heading" data-v-4c929746>Use the ride share app like no other... today!</h2><p data-v-4c929746>Our app is available on any mobile device! Download now to get started!</p><div class="badges" data-v-4c929746><a href="#" class="badge-link" data-v-4c929746><img src="'+Xk+'" alt="Google Play" data-v-4c929746></a><a href="#" class="badge-link" data-v-4c929746><img src="'+Zk+'" alt="App Store" data-v-4c929746></a></div></div></div></div></section>',1)),m("section",iO,[m("div",sO,[r[4]||(r[4]=m("div",{class:"section-heading text-center"},[m("h2",null,"We get you there faster, with less hassle."),m("p",{class:"text-muted"}," Our simplified approach to finding rides and communicating trip details will let you think about your destination, not how you get there... "),m("hr")],-1)),m("div",aO,[r[3]||(r[3]=xn('<div class="col-lg-4 my-auto" data-v-4c929746><div class="device-container" data-v-4c929746><div class="device-mockup iphone6_plus portrait white" data-v-4c929746><div class="device device-iphone" data-v-4c929746><div class="screen" data-v-4c929746><img class="img-fluid" src="'+ff+'" alt="App screenshot" data-v-4c929746></div></div></div></div></div>',1)),m("div",cO,[m("div",lO,[m("div",uO,[(Fe(),ze(Bt,null,$c(e,(o,i)=>m("div",{class:"col-lg-6",key:i},[m("div",dO,[m("i",{class:Jn(o.icon+" text-primary")},null,2),m("h3",null,ie(o.title),1),m("p",hO,ie(o.text),1)])])),64))])])])])])]),m("section",fO,[m("div",pO,[m("div",gO,[r[6]||(r[6]=m("h2",null,[X("Stop waiting."),m("br"),X("Start riding."),m("br")],-1)),x(Pt(yr),{class:"btn btn-outline-warning btn-xl js-scroll-trigger",to:{name:"trip"}},{default:$(()=>r[5]||(r[5]=[X(" Find my ride! ")])),_:1,__:[5]})])]),r[7]||(r[7]=m("div",{class:"overlay"},null,-1))])]))}},_O=$r(mO,[["__scopeId","data-v-4c929746"]]),yO="/assets/ride-icon-DDfnI_OC.png",vO="/assets/yellow-car-BcyIH34d.png",{mapGetters:CO,mapActions:EO}=jn("common"),{mapGetters:wO,mapActions:TO}=jn("trips");new Da;const bO={name:"Trip",props:["authenticated"],data(){return{drivers:[],selectedDriver:null,selectedPickUpLocation:null,selectedDestinationLocation:null,driverInfo:null,passengerInfo:null,html:'<i class="fas fa-cog fa-spin fa-3x fa-fw"></i>'}},computed:{...CO(["notificationSystem","user","pickUpLocations","destinationLocations"]),...wO(["trip","currentStep","contentLoading"]),requestDriverDisabled(){return this.selectedPickUpLocation===null||this.selectedDestinationLocation===null},selectedPickUpLocationName(){return this.selectedPickUpLocation!==null&&this.selectedPickUpLocation!==void 0?this.selectedPickUpLocation.name:null},selectedDestinationLocationName(){return this.selectedDestinationLocation!==null&&this.selectedDestinationLocation!==void 0?this.selectedDestinationLocation.name:null},driverFound(){return this.trip!==void 0&&this.trip!==null&&this.trip.driver!==void 0&&this.trip.driver!==null},tripRequestedClass(){return{active:this.currentStep===1,complete:this.currentStep>1}},driverFoundClass(){return{active:this.currentStep===2,complete:this.currentStep>2}},tripStartedClass(){return{active:this.currentStep===3,complete:this.currentStep>3}},tripEndedClass(){return{active:this.currentStep===4,complete:this.currentStep>4}}},methods:{...EO(["setUser"]),...TO(["setTrip","setCurrentStep","createTrip"]),createTripRequest(n){this.createTrip(n).then(e=>{this.setCurrentStep(1),this.$toast.success(`Request Code: <b>${e.code}`,"Driver Requested Successfully",this.notificationSystem.options.success)}).catch(e=>{console.error(e),this.$toast.error(e.response?e.response.data:e.message?e.message:e,"Error",this.notificationSystem.options.error)})},requestDriver(){if(this.user){(this.user.idTokenClaims===void 0||this.user.idTokenClaims.emails===void 0||this.user.idTokenClaims.emails.length==0)&&(console.error("this.user.idTokenClaims.emails is not present or does not contain any emails. Please check user claims and permissions."),this.$toast.error("User's email not found","Error",this.notificationSystem.options.error));var n={passenger:{code:this.user.idTokenClaims.emails[0],firstName:this.user.idTokenClaims.given_name,surname:this.user.idTokenClaims.family_name,email:this.user.idTokenClaims.emails[0]},source:{latitude:this.selectedPickUpLocation.latitude,longitude:this.selectedPickUpLocation.longitude},destination:{latitude:this.selectedDestinationLocation.latitude,longitude:this.selectedDestinationLocation.longitude},type:1};this.createTripRequest(n)}else this.$toast.error("You must be logged in to start a new trip!","Error",this.notificationSystem.options.error)},selectPickup(n){this.selectedPickUpLocation=n},selectDestination(n){this.selectedDestinationLocation=n}},mounted(){}},AO={id:"features",class:"features",style:{"padding-top":"60px"}},SO={class:"container"},IO={class:"row"},RO={class:"container-fluid"},kO={class:"row"},OO={class:"col-md-4"},PO={class:"feature-item"},NO={class:"col-md-4"},MO={class:"feature-item"},DO={class:"col-md-4"},xO={class:"feature-item"},LO={class:"text-muted"},HO={class:"step-indicator",key:"trip-progress"},UO={id:"features",class:"features",style:{"padding-top":"10px"}},$O={class:"container"},FO={class:"row"},BO={key:0,class:"col-lg-6 my-auto"},KO={key:0,class:"container-fluid"},jO={class:"row"},GO={class:"col-lg-6"},VO={class:"feature-item"},WO={class:"text-muted"},zO={class:"col-lg-6"},qO={class:"feature-item"},YO={class:"card text-black bg-warning"},QO={class:"card-body"},JO={key:1,class:"container-fluid"},XO={key:1,class:"col-lg-6 my-auto"};function ZO(n,e,t,r,o,i){const s=Le("BlockUI"),a=Le("b-dropdown-item-button"),c=Le("b-dropdown"),u=Le("b-button"),l=Le("b-col"),d=Le("b-form-row");return Fe(),ze("div",null,[e[21]||(e[21]=xn('<header class="masthead masthead-custom" data-v-e6fd065a><div class="container h-100" style="height:155px;" data-v-e6fd065a><div class="row justify-content-center h-100" style="height:120px;" data-v-e6fd065a><div class="col-12 col-lg-7 mt-auto" style="margin:0px;margin-top:0px;margin-bottom:0px;height:80px;max-width:100%;" data-v-e6fd065a><div class="mx-auto header-content" data-v-e6fd065a><h1 class="mb-5" data-v-e6fd065a>MY TRIP <img class="float-right" src="'+yO+'" alt="Start my ride" data-v-e6fd065a></h1></div></div></div></div></header>',1)),_r(x(s,{message:"Please wait...",html:o.html},null,8,["html"]),[[oo,n.contentLoading]]),m("section",AO,[m("div",SO,[e[10]||(e[10]=m("div",{class:"section-heading text-center",style:{"margin-bottom":"50px"}},[m("h2",null,"Find my ride!"),m("p",{class:"text-muted"},"Confirm your pickup and destination to start your trip."),m("hr")],-1)),m("div",IO,[m("div",RO,[m("div",kO,[m("div",OO,[e[1]||(e[1]=m("div",{class:"feature-item"},[m("i",{class:"icon-location-pin text-primary"}),m("h3",null,"Confirm pickup location")],-1)),m("div",PO,[x(c,{id:"ddown-pickup",text:"Pickup Location",variant:"info",class:""},{default:$(()=>[(Fe(!0),ze(Bt,null,$c(n.pickUpLocations,h=>(Fe(),Hd(a,{onClick:Is(f=>i.selectPickup(h),["stop"]),key:h.id},{default:$(()=>[X(ie(h.name),1)]),_:2},1032,["onClick"]))),128))]),_:1}),_r(m("div",null,ie(i.selectedPickUpLocationName),513),[[oo,i.selectedPickUpLocationName!==null]])])]),m("div",NO,[e[2]||(e[2]=m("div",{class:"feature-item"},[m("i",{class:"icon-map text-primary"}),m("h3",null,"Select destination")],-1)),m("div",MO,[x(c,{id:"ddown-pickup",text:"Destination",variant:"info",class:""},{default:$(()=>[(Fe(!0),ze(Bt,null,$c(n.destinationLocations,h=>(Fe(),Hd(a,{onClick:Is(f=>i.selectDestination(h),["stop"]),key:h.id},{default:$(()=>[X(ie(h.name),1)]),_:2},1032,["onClick"]))),128))]),_:1}),_r(m("div",null,ie(i.selectedDestinationLocationName),513),[[oo,i.selectedDestinationLocationName!==null]])])]),m("div",DO,[e[5]||(e[5]=m("div",{class:"feature-item"},[m("i",{class:"icon-flag text-primary"}),m("h3",null,"Request a driver")],-1)),m("div",xO,[x(u,{id:"request-driver",text:"Request Driver",variant:"primary",disabled:i.requestDriverDisabled,onClick:e[0]||(e[0]=h=>i.requestDriver())},{default:$(()=>e[3]||(e[3]=[X("Request Driver")])),_:1,__:[3]},8,["disabled"]),_r(m("p",LO,e[4]||(e[4]=[m("em",null,"Select your pickup location and destination to start your trip",-1)]),512),[[oo,i.requestDriverDisabled]])])])])])]),e[11]||(e[11]=m("hr",null,null,-1)),m("ol",HO,[m("li",{class:Jn(i.tripRequestedClass)},e[6]||(e[6]=[m("div",{class:"step"},[m("i",{class:"fas fa-check"})],-1),m("div",{class:"caption hidden-xs hidden-sm"},"Trip requested",-1)]),2),m("li",{class:Jn(i.driverFoundClass)},e[7]||(e[7]=[m("div",{class:"step"},[m("i",{class:"fas fa-car"})],-1),m("div",{class:"caption hidden-xs hidden-sm"},"Driver found",-1)]),2),m("li",{class:Jn(i.tripStartedClass)},e[8]||(e[8]=[m("div",{class:"step"},[m("i",{class:"fas fa-car-side"})],-1),m("div",{class:"caption hidden-xs hidden-sm"},"Trip started",-1)]),2),m("li",{class:Jn(i.tripEndedClass)},e[9]||(e[9]=[m("div",{class:"step"},[m("i",{class:"fas fa-flag-checkered"})],-1),m("div",{class:"caption hidden-xs hidden-sm"},"You have arrived!",-1)]),2)])])]),m("section",UO,[m("div",$O,[m("div",FO,[n.currentStep>0?(Fe(),ze("div",BO,[i.driverFound?(Fe(),ze("div",KO,[m("div",jO,[m("div",GO,[m("div",VO,[e[12]||(e[12]=m("i",{class:"icon-user text-primary"},null,-1)),m("h3",null,"Your driver is "+ie(n.trip.driver.firstName)+" "+ie(n.trip.driver.lastName),1),m("p",WO,"Meet "+ie(n.trip.driver.firstName)+" at the pickup point.",1)])]),m("div",zO,[m("div",qO,[m("div",YO,[e[17]||(e[17]=m("div",{class:"card-header"},"CAR",-1)),m("div",QO,[x(d,null,{default:$(()=>[x(l,null,{default:$(()=>e[13]||(e[13]=[m("em",null,[m("strong",null,"Make")],-1)])),_:1,__:[13]}),x(l,null,{default:$(()=>[X(ie(n.trip.driver.car.make),1)]),_:1})]),_:1}),x(d,null,{default:$(()=>[x(l,null,{default:$(()=>e[14]||(e[14]=[m("em",null,[m("strong",null,"Model")],-1)])),_:1,__:[14]}),x(l,null,{default:$(()=>[X(ie(n.trip.driver.car.model),1)]),_:1})]),_:1}),x(d,null,{default:$(()=>[x(l,null,{default:$(()=>e[15]||(e[15]=[m("em",null,[m("strong",null,"Color")],-1)])),_:1,__:[15]}),x(l,null,{default:$(()=>[X(ie(n.trip.driver.car.color),1)]),_:1})]),_:1}),x(d,null,{default:$(()=>[x(l,null,{default:$(()=>e[16]||(e[16]=[m("em",null,[m("strong",null,"License plate")],-1)])),_:1,__:[16]}),x(l,null,{default:$(()=>[X(ie(n.trip.driver.car.licensePlate),1)]),_:1})]),_:1})])])])])])])):(Fe(),ze("div",JO,e[18]||(e[18]=[m("div",{class:"feature-item"},[m("i",{class:"icon-user text-primary"}),m("h3",null,"Searching for a nearby driver..."),m("p",{class:"text-muted"},"Your driver's information will appear here once found.")],-1)])))])):(Fe(),ze("div",XO,e[19]||(e[19]=[m("div",{class:"container-fluid"},[m("div",{class:"feature-item"},[m("i",{class:"icon-screen-smartphone text-primary"}),m("h3",null,"Use the options above to find a ride"),m("p",{class:"text-muted"},[X(" Confirm your pickup location, set your destination, then select "),m("strong",null,"request driver"),X(" to get started. Your driver information will appear here once they are found! ")])])],-1)]))),e[20]||(e[20]=xn('<div class="col-lg-6 my-auto" data-v-e6fd065a><div class="device-container" data-v-e6fd065a><div class="device-container" data-v-e6fd065a><div data-v-e6fd065a><img class="img-fluid" src="'+vO+'" alt="Yellow car" data-v-e6fd065a></div></div><p class="text-muted" style="margin-top:28px;font-size:16px;" data-v-e6fd065a>Our drivers pass rigorous background checks and are required to maintain a high standard of driving, customer satisfaction, and vehicle maintenance. You will be rolling like a rockstar in no time!</p></div></div>',1))])])])])}const eP=$r(bO,[["render",ZO],["__scopeId","data-v-e6fd065a"]]),tP="/assets/driver-icon-BQdbHx4h.png",{mapGetters:nP}=jn("common"),{mapGetters:rP,mapActions:oP}=jn("drivers"),iP={name:"Drivers",props:["authenticated"],data(){return{drivers:[],driverInfo:null,html:'<i class="fas fa-cog fa-spin fa-3x fa-fw"></i>',fields:[{key:"code",label:"Code",sortable:!0},{key:"firstName",label:"First Name",sortable:!0},{key:"lastName",label:"Last Name",sortable:!0},{key:"latitude",label:"Latitude",class:"text-right"},{key:"longitude",label:"Longitude",class:"text-right"},{key:"isAcceptingRides",label:"Accepting rides?",class:"text-right"},{key:"actions",label:""}],currentPage:1,perPage:10,pageOptions:[5,10,15]}},computed:{...nP(["notificationSystem"]),...rP(["selectedDriver","contentLoading"])},methods:{...oP(["getDrivers","setSelectedDriver"]),retrieveDrivers(){this.getDrivers().then(n=>{this.drivers=n}).catch(n=>{this.$toast.error(n.response?n.response:n.message?n.message:n,"Error",this.notificationSystem.options.error)})},selectDriver(n){this.setSelectedDriver(n),this.$refs.modalRef.show()},hideModal(){this.$refs.modalRef.hide()}},mounted(){this.retrieveDrivers()}},sP={id:"features",class:"features",style:{"padding-top":"60px"}},aP={class:"container"},cP={class:"section-heading text-center",style:{"margin-bottom":"50px"}},lP={class:"card border-danger"},uP={class:"card-body"},dP={slot:"code","slot-scope":"row"},hP={slot:"firstName","slot-scope":"row"},fP={slot:"lastName","slot-scope":"row"},pP={slot:"latitude","slot-scope":"row"},gP={slot:"longitude","slot-scope":"row"},mP={slot:"isAcceptingRides","slot-scope":"row"},_P={slot:"actions","slot-scope":"row"},yP={class:"card text-white bg-secondary"},vP={class:"card-body"},CP={slot:"modal-footer",class:"w-100"};function EP(n,e,t,r,o,i){const s=Le("BlockUI"),a=Le("b-button"),c=Le("b-table"),u=Le("b-col"),l=Le("b-form-row"),d=Le("b-container"),h=Le("b-btn"),f=Le("b-modal");return Fe(),ze("div",null,[e[20]||(e[20]=xn('<header class="masthead masthead-custom"><div class="container h-100" style="height:155px;"><div class="row justify-content-center h-100" style="height:120px;"><div class="col-12 col-lg-7 mt-auto" style="margin:0px;margin-top:0px;margin-bottom:0px;height:80px;max-width:100%;"><div class="mx-auto header-content"><h1 class="mb-5">DRIVERS<img class="float-right" src="'+tP+'" alt="Drivers"></h1></div></div></div></div></header>',1)),_r(x(s,{message:"Please wait...",html:o.html},null,8,["html"]),[[oo,n.contentLoading]]),m("section",sP,[m("div",aP,[m("div",cP,[e[4]||(e[4]=m("h2",null,"View driver information",-1)),e[5]||(e[5]=m("p",{class:"text-muted"},"View all drivers and driver profile information",-1)),e[6]||(e[6]=m("hr",null,null,-1)),m("div",lP,[m("div",uP,[e[3]||(e[3]=m("h4",{class:"card-title"},"All Drivers",-1)),x(c,{"show-empty":"",responsive:"",striped:"",hover:"",items:o.drivers,fields:o.fields,"current-page":o.currentPage,"per-page":o.perPage},{default:$(()=>[m("template",dP,[m("strong",null,ie(n.row.value),1)]),m("template",hP,[X(ie(n.row.value),1)]),m("template",fP,[X(ie(n.row.value),1)]),m("template",pP,[X(ie(n.row.value),1)]),m("template",gP,[X(ie(n.row.value),1)]),m("template",mP,[X(ie(n.row.value?"Yes":"No"),1)]),m("template",_P,[x(a,{size:"sm",onClick:e[0]||(e[0]=Is(y=>i.selectDriver(n.row.item),["stop"])),class:"mr-1"},{default:$(()=>e[2]||(e[2]=[X(" Select ")])),_:1,__:[2]})])]),_:1},8,["items","fields","current-page","per-page"])])])])])]),x(f,{id:"driverInformationModal",ref:"modalRef",title:"DRIVER INFORMATION","header-bg-variant":"warning","header-text-variant":"dark","footer-bg-variant":"light","footer-text-variant":"dark"},{default:$(()=>[x(d,{fluid:""},{default:$(()=>[x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[7]||(e[7]=[m("em",null,[m("strong",null,"Code")],-1)])),_:1,__:[7]}),x(u,null,{default:$(()=>[X(ie(n.selectedDriver.code),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[8]||(e[8]=[m("em",null,[m("strong",null,"First name")],-1)])),_:1,__:[8]}),x(u,null,{default:$(()=>[X(ie(n.selectedDriver.firstName),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[9]||(e[9]=[m("em",null,[m("strong",null,"Last name")],-1)])),_:1,__:[9]}),x(u,null,{default:$(()=>[X(ie(n.selectedDriver.lastName),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[10]||(e[10]=[m("em",null,[m("strong",null,"Coordinates")],-1)])),_:1,__:[10]}),x(u,null,{default:$(()=>[X(ie(n.selectedDriver.latitude)+", "+ie(n.selectedDriver.longitude),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[11]||(e[11]=[m("em",null,[m("strong",null,"Accepting rides?")],-1)])),_:1,__:[11]}),x(u,null,{default:$(()=>[X(ie(n.selectedDriver.isAcceptingRides?"Yes":"No"),1)]),_:1})]),_:1}),e[17]||(e[17]=m("hr",null,null,-1)),m("div",yP,[e[16]||(e[16]=m("div",{class:"card-header"},"CAR",-1)),m("div",vP,[x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[12]||(e[12]=[m("em",null,[m("strong",null,"Make")],-1)])),_:1,__:[12]}),x(u,null,{default:$(()=>[X(ie(n.selectedDriver.car.make),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[13]||(e[13]=[m("em",null,[m("strong",null,"Model")],-1)])),_:1,__:[13]}),x(u,null,{default:$(()=>[X(ie(n.selectedDriver.car.model),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[14]||(e[14]=[m("em",null,[m("strong",null,"Color")],-1)])),_:1,__:[14]}),x(u,null,{default:$(()=>[X(ie(n.selectedDriver.car.color),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[15]||(e[15]=[m("em",null,[m("strong",null,"License plate")],-1)])),_:1,__:[15]}),x(u,null,{default:$(()=>[X(ie(n.selectedDriver.car.licensePlate),1)]),_:1})]),_:1})])])]),_:1,__:[17]}),m("div",CP,[e[19]||(e[19]=m("p",{class:"float-left"},null,-1)),x(h,{size:"sm",class:"float-right",variant:"primary",onClick:e[1]||(e[1]=y=>i.hideModal())},{default:$(()=>e[18]||(e[18]=[X(" Close ")])),_:1,__:[18]})])]),_:1},512)])}const wP=$r(iP,[["render",EP]]),TP="/assets/rider-icon-B83aUH9W.png",{mapGetters:bP}=jn("common"),{mapGetters:AP,mapActions:SP}=jn("passengers"),IP={name:"Passengers",props:["authenticated"],data(){return{message:"",passengers:[],html:'<i class="fas fa-cog fa-spin fa-3x fa-fw"></i>',fields:[{key:"givenName",label:"First Name",sortable:!0},{key:"surname",label:"Last Name",sortable:!0},{key:"email",label:"Email"},{key:"state",label:"State"},{key:"postalCode",label:"PostalCode",class:"text-right"},{key:"actions",label:""}],currentPage:1,perPage:10,pageOptions:[5,10,15]}},computed:{...bP(["notificationSystem"]),...AP(["selectedPassenger","contentLoading"])},methods:{...SP(["getPassengers","setSelectedPassenger"]),retrievePassengers(){this.getPassengers().then(n=>{this.passengers=n}).catch(n=>{this.$toast.error(n.response?n.response:n.message?n.message:n,"Error",this.notificationSystem.options.error)})},selectPassenger(n){this.setSelectedPassenger(n),this.$refs.modalRef.show()},hideModal(){this.$refs.modalRef.hide()}},mounted(){this.retrievePassengers()}},RP={id:"features",class:"features",style:{"padding-top":"60px"}},kP={class:"container"},OP={class:"section-heading text-center",style:{"margin-bottom":"50px"}},PP={class:"card border-danger"},NP={class:"card-body"},MP={slot:"givenName","slot-scope":"row"},DP={slot:"surame","slot-scope":"row"},xP={slot:"email","slot-scope":"row"},LP={slot:"state","slot-scope":"row"},HP={slot:"postalCode","slot-scope":"row"},UP={slot:"actions","slot-scope":"row"},$P={slot:"modal-footer",class:"w-100"};function FP(n,e,t,r,o,i){const s=Le("BlockUI"),a=Le("b-button"),c=Le("b-table"),u=Le("b-col"),l=Le("b-form-row"),d=Le("b-container"),h=Le("b-btn"),f=Le("b-modal");return Fe(),ze("div",null,[e[18]||(e[18]=xn('<header class="masthead masthead-custom"><div class="container h-100" style="height:155px;"><div class="row justify-content-center h-100" style="height:120px;"><div class="col-12 col-lg-7 mt-auto" style="margin:0px;margin-top:0px;margin-bottom:0px;height:80px;max-width:100%;"><div class="mx-auto header-content"><h1 class="mb-5">PASSENGERS<img class="float-right" src="'+TP+'" alt="Passengers"></h1></div></div></div></div></header>',1)),_r(x(s,{message:"Please wait...",html:o.html},null,8,["html"]),[[oo,n.contentLoading]]),m("section",RP,[m("div",kP,[m("div",OP,[e[4]||(e[4]=m("h2",null,"View passenger information",-1)),e[5]||(e[5]=m("p",{class:"text-muted"},"View all passengers and passenger profile information",-1)),e[6]||(e[6]=m("hr",null,null,-1)),m("div",PP,[m("div",NP,[e[3]||(e[3]=m("h4",{class:"card-title"},"All Passengers",-1)),x(c,{"show-empty":"",responsive:"",striped:"",hover:"",items:o.passengers,fields:o.fields,"current-page":o.currentPage,"per-page":o.perPage},{default:$(()=>[m("template",MP,[X(ie(n.row.value),1)]),m("template",DP,[X(ie(n.row.value),1)]),m("template",xP,[X(ie(n.row.value),1)]),m("template",LP,[X(ie(n.row.value),1)]),m("template",HP,[X(ie(n.row.value),1)]),m("template",UP,[x(a,{size:"sm",onClick:e[0]||(e[0]=Is(y=>i.selectPassenger(n.row.item),["stop"])),class:"mr-1"},{default:$(()=>e[2]||(e[2]=[X(" Select ")])),_:1,__:[2]})])]),_:1},8,["items","fields","current-page","per-page"])])])])])]),x(f,{id:"passengerInformationModal",ref:"modalRef",title:"PASSENGER INFORMATION","header-bg-variant":"warning","header-text-variant":"dark","footer-bg-variant":"light","footer-text-variant":"dark"},{default:$(()=>[x(d,{fluid:""},{default:$(()=>[x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[7]||(e[7]=[m("em",null,[m("strong",null,"First name")],-1)])),_:1,__:[7]}),x(u,null,{default:$(()=>[X(ie(n.selectedPassenger.givenName),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[8]||(e[8]=[m("em",null,[m("strong",null,"Last name")],-1)])),_:1,__:[8]}),x(u,null,{default:$(()=>[X(ie(n.selectedPassenger.surname),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[9]||(e[9]=[m("em",null,[m("strong",null,"Display name")],-1)])),_:1,__:[9]}),x(u,null,{default:$(()=>[X(ie(n.selectedPassenger.displayName),1)]),_:1})]),_:1}),e[15]||(e[15]=m("hr",null,null,-1)),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[10]||(e[10]=[m("em",null,[m("strong",null,"Street address")],-1)])),_:1,__:[10]}),x(u,null,{default:$(()=>[X(ie(n.selectedPassenger.streetAddress),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[11]||(e[11]=[m("em",null,[m("strong",null,"City")],-1)])),_:1,__:[11]}),x(u,null,{default:$(()=>[X(ie(n.selectedPassenger.city),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[12]||(e[12]=[m("em",null,[m("strong",null,"State/province")],-1)])),_:1,__:[12]}),x(u,null,{default:$(()=>[X(ie(n.selectedPassenger.state),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[13]||(e[13]=[m("em",null,[m("strong",null,"Postal code")],-1)])),_:1,__:[13]}),x(u,null,{default:$(()=>[X(ie(n.selectedPassenger.postalCode),1)]),_:1})]),_:1}),x(l,null,{default:$(()=>[x(u,null,{default:$(()=>e[14]||(e[14]=[m("em",null,[m("strong",null,"Country")],-1)])),_:1,__:[14]}),x(u,null,{default:$(()=>[X(ie(n.selectedPassenger.country),1)]),_:1})]),_:1})]),_:1,__:[15]}),m("div",$P,[e[17]||(e[17]=m("p",{class:"float-left"},"Passenger information retrieved from the Graph API",-1)),x(h,{size:"sm",class:"float-right",variant:"primary",onClick:e[1]||(e[1]=y=>i.hideModal())},{default:$(()=>e[16]||(e[16]=[X(" Close ")])),_:1,__:[16]})])]),_:1},512)])}const BP=$r(IP,[["render",FP]]),my=new Da,{login:y0,logout:v0,getUser:C0,getAccessToken:E0,authenticated:w0}=my,{mapActions:KP}=jn("common"),jP={name:"NoAccess",props:["authenticated"],computed:{},methods:{...KP(["setUser"]),login(){my.login().then(n=>{n?this.setUser(n):this.setUser(null),this.$router.push("/")},()=>{this.setUser(null),this.$router.push("/")})}},mounted(){}},GP={id:"features",class:"features",style:{"padding-top":"60px"}},VP={class:"container"},WP={class:"section-heading text-center",style:{"margin-bottom":"50px"}};function zP(n,e,t,r,o,i){return Fe(),ze("div",null,[e[8]||(e[8]=xn('<header class="masthead masthead-custom"><div class="container h-100" style="height:155px;"><div class="row justify-content-center h-100" style="height:120px;"><div class="col-12 col-lg-7 mt-auto" style="margin:0px;margin-top:0px;margin-bottom:0px;height:80px;max-width:100%;"><div class="mx-auto header-content"><h1 class="mb-5">NO ACCESS</h1></div></div></div></div></header>',1)),m("section",GP,[m("div",VP,[m("div",WP,[e[3]||(e[3]=m("h2",null,"You're not signed in",-1)),e[4]||(e[4]=m("p",{class:"text-muted"}," ",-1)),m("p",null,[e[1]||(e[1]=X("Please ")),m("a",{href:"javascript:void(0)",class:"btn btn-danger action-button",role:"button",onClick:e[0]||(e[0]=s=>i.login())},"log in"),e[2]||(e[2]=X(" to get started!"))]),e[5]||(e[5]=m("hr",null,null,-1)),e[6]||(e[6]=m("p",{class:"text-muted"},[X("If you don't have an account, choose the "),m("strong",null,"sign up"),X(" link below the login form to create an account.")],-1)),e[7]||(e[7]=m("p",{class:"text-muted"},[m("strong",null,"Please note: "),X("the login form displays in a popup window. Please disable your browser's popup blocker for this site.")],-1))])])])])}const qP=$r(jP,[["render",zP]]),YP=[{path:"/",name:"home",component:_O},{path:"/trip",name:"trip",component:eP},{path:"/drivers",name:"drivers",component:wP},{path:"/passengers",name:"passengers",component:BP},{path:"/noauth",name:"noauth",component:qP}],QP=dT({history:Kw(),routes:YP}),JP=sw({modules:{common:{namespaced:!0,state:()=>({user:null,notificationSystem:null}),getters:{user:n=>n.user,notificationSystem:n=>n.notificationSystem},actions:{setUser({commit:n},e){n("setUser",e)}},mutations:{setUser(n,e){n.user=e}}},trips:{namespaced:!0,state:()=>({trip:null,currentStep:"",contentLoading:!1}),getters:{trip:n=>n.trip,currentStep:n=>n.currentStep,contentLoading:n=>n.contentLoading},actions:{setTrip({commit:n},e){n("setTrip",e)},setCurrentStep({commit:n},e){n("setCurrentStep",e)},getSignalRInfo(){return Promise.resolve({url:"/signalr-hub",accessToken:"mock-token"})}},mutations:{setTrip(n,e){n.trip=e},setCurrentStep(n,e){n.currentStep=e}}}}});var ht="top",Ut="bottom",$t="right",ft="left",ja="auto",Ho=[ht,Ut,$t,ft],Dr="start",To="end",_y="clippingParents",rd="viewport",to="popper",yy="reference",El=Ho.reduce(function(n,e){return n.concat([e+"-"+Dr,e+"-"+To])},[]),od=[].concat(Ho,[ja]).reduce(function(n,e){return n.concat([e,e+"-"+Dr,e+"-"+To])},[]),vy="beforeRead",Cy="read",Ey="afterRead",wy="beforeMain",Ty="main",by="afterMain",Ay="beforeWrite",Sy="write",Iy="afterWrite",Ry=[vy,Cy,Ey,wy,Ty,by,Ay,Sy,Iy];function Sn(n){return n?(n.nodeName||"").toLowerCase():null}function Ft(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function xr(n){var e=Ft(n).Element;return n instanceof e||n instanceof Element}function Gt(n){var e=Ft(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function id(n){if(typeof ShadowRoot>"u")return!1;var e=Ft(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function XP(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},o=e.attributes[t]||{},i=e.elements[t];!Gt(i)||!Sn(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function ZP(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],i=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=s.reduce(function(c,u){return c[u]="",c},{});!Gt(o)||!Sn(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}const sd={name:"applyStyles",enabled:!0,phase:"write",fn:XP,effect:ZP,requires:["computeStyles"]};function Tn(n){return n.split("-")[0]}var Ir=Math.max,qs=Math.min,bo=Math.round;function wl(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ky(){return!/^((?!chrome|android).)*safari/i.test(wl())}function Ao(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),o=1,i=1;e&&Gt(n)&&(o=n.offsetWidth>0&&bo(r.width)/n.offsetWidth||1,i=n.offsetHeight>0&&bo(r.height)/n.offsetHeight||1);var s=xr(n)?Ft(n):window,a=s.visualViewport,c=!ky()&&t,u=(r.left+(c&&a?a.offsetLeft:0))/o,l=(r.top+(c&&a?a.offsetTop:0))/i,d=r.width/o,h=r.height/i;return{width:d,height:h,top:l,right:u+d,bottom:l+h,left:u,x:u,y:l}}function ad(n){var e=Ao(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function Oy(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&id(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bn(n){return Ft(n).getComputedStyle(n)}function eN(n){return["table","td","th"].indexOf(Sn(n))>=0}function ur(n){return((xr(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ga(n){return Sn(n)==="html"?n:n.assignedSlot||n.parentNode||(id(n)?n.host:null)||ur(n)}function pf(n){return!Gt(n)||Bn(n).position==="fixed"?null:n.offsetParent}function tN(n){var e=/firefox/i.test(wl()),t=/Trident/i.test(wl());if(t&&Gt(n)){var r=Bn(n);if(r.position==="fixed")return null}var o=Ga(n);for(id(o)&&(o=o.host);Gt(o)&&["html","body"].indexOf(Sn(o))<0;){var i=Bn(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Li(n){for(var e=Ft(n),t=pf(n);t&&eN(t)&&Bn(t).position==="static";)t=pf(t);return t&&(Sn(t)==="html"||Sn(t)==="body"&&Bn(t).position==="static")?e:t||tN(n)||e}function cd(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function di(n,e,t){return Ir(n,qs(e,t))}function nN(n,e,t){var r=di(n,e,t);return r>t?t:r}function Py(){return{top:0,right:0,bottom:0,left:0}}function Ny(n){return Object.assign({},Py(),n)}function My(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var rN=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Ny(typeof e!="number"?e:My(e,Ho))};function oN(n){var e,t=n.state,r=n.name,o=n.options,i=t.elements.arrow,s=t.modifiersData.popperOffsets,a=Tn(t.placement),c=cd(a),u=[ft,$t].indexOf(a)>=0,l=u?"height":"width";if(!(!i||!s)){var d=rN(o.padding,t),h=ad(i),f=c==="y"?ht:ft,y=c==="y"?Ut:$t,v=t.rects.reference[l]+t.rects.reference[c]-s[c]-t.rects.popper[l],E=s[c]-t.rects.reference[c],R=Li(i),O=R?c==="y"?R.clientHeight||0:R.clientWidth||0:0,M=v/2-E/2,P=d[f],B=O-h[l]-d[y],q=O/2-h[l]/2+M,Q=di(P,q,B),he=c;t.modifiersData[r]=(e={},e[he]=Q,e.centerOffset=Q-q,e)}}function iN(n){var e=n.state,t=n.options,r=t.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Oy(e.elements.popper,o)&&(e.elements.arrow=o))}const Dy={name:"arrow",enabled:!0,phase:"main",fn:oN,effect:iN,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function So(n){return n.split("-")[1]}var sN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aN(n,e){var t=n.x,r=n.y,o=e.devicePixelRatio||1;return{x:bo(t*o)/o||0,y:bo(r*o)/o||0}}function gf(n){var e,t=n.popper,r=n.popperRect,o=n.placement,i=n.variation,s=n.offsets,a=n.position,c=n.gpuAcceleration,u=n.adaptive,l=n.roundOffsets,d=n.isFixed,h=s.x,f=h===void 0?0:h,y=s.y,v=y===void 0?0:y,E=typeof l=="function"?l({x:f,y:v}):{x:f,y:v};f=E.x,v=E.y;var R=s.hasOwnProperty("x"),O=s.hasOwnProperty("y"),M=ft,P=ht,B=window;if(u){var q=Li(t),Q="clientHeight",he="clientWidth";if(q===Ft(t)&&(q=ur(t),Bn(q).position!=="static"&&a==="absolute"&&(Q="scrollHeight",he="scrollWidth")),q=q,o===ht||(o===ft||o===$t)&&i===To){P=Ut;var me=d&&q===B&&B.visualViewport?B.visualViewport.height:q[Q];v-=me-r.height,v*=c?1:-1}if(o===ft||(o===ht||o===Ut)&&i===To){M=$t;var ge=d&&q===B&&B.visualViewport?B.visualViewport.width:q[he];f-=ge-r.width,f*=c?1:-1}}var Ne=Object.assign({position:a},u&&sN),je=l===!0?aN({x:f,y:v},Ft(t)):{x:f,y:v};if(f=je.x,v=je.y,c){var ke;return Object.assign({},Ne,(ke={},ke[P]=O?"0":"",ke[M]=R?"0":"",ke.transform=(B.devicePixelRatio||1)<=1?"translate("+f+"px, "+v+"px)":"translate3d("+f+"px, "+v+"px, 0)",ke))}return Object.assign({},Ne,(e={},e[P]=O?v+"px":"",e[M]=R?f+"px":"",e.transform="",e))}function cN(n){var e=n.state,t=n.options,r=t.gpuAcceleration,o=r===void 0?!0:r,i=t.adaptive,s=i===void 0?!0:i,a=t.roundOffsets,c=a===void 0?!0:a,u={placement:Tn(e.placement),variation:So(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gf(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gf(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ld={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cN,data:{}};var Xi={passive:!0};function lN(n){var e=n.state,t=n.instance,r=n.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,c=Ft(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(l){l.addEventListener("scroll",t.update,Xi)}),a&&c.addEventListener("resize",t.update,Xi),function(){i&&u.forEach(function(l){l.removeEventListener("scroll",t.update,Xi)}),a&&c.removeEventListener("resize",t.update,Xi)}}const ud={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lN,data:{}};var uN={left:"right",right:"left",bottom:"top",top:"bottom"};function gs(n){return n.replace(/left|right|bottom|top/g,function(e){return uN[e]})}var dN={start:"end",end:"start"};function mf(n){return n.replace(/start|end/g,function(e){return dN[e]})}function dd(n){var e=Ft(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function hd(n){return Ao(ur(n)).left+dd(n).scrollLeft}function hN(n,e){var t=Ft(n),r=ur(n),o=t.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;var u=ky();(u||!u&&e==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a+hd(n),y:c}}function fN(n){var e,t=ur(n),r=dd(n),o=(e=n.ownerDocument)==null?void 0:e.body,i=Ir(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Ir(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+hd(n),c=-r.scrollTop;return Bn(o||t).direction==="rtl"&&(a+=Ir(t.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}function fd(n){var e=Bn(n),t=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+r)}function xy(n){return["html","body","#document"].indexOf(Sn(n))>=0?n.ownerDocument.body:Gt(n)&&fd(n)?n:xy(Ga(n))}function hi(n,e){var t;e===void 0&&(e=[]);var r=xy(n),o=r===((t=n.ownerDocument)==null?void 0:t.body),i=Ft(r),s=o?[i].concat(i.visualViewport||[],fd(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(hi(Ga(s)))}function Tl(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function pN(n,e){var t=Ao(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function _f(n,e,t){return e===rd?Tl(hN(n,t)):xr(e)?pN(e,t):Tl(fN(ur(n)))}function gN(n){var e=hi(Ga(n)),t=["absolute","fixed"].indexOf(Bn(n).position)>=0,r=t&&Gt(n)?Li(n):n;return xr(r)?e.filter(function(o){return xr(o)&&Oy(o,r)&&Sn(o)!=="body"}):[]}function mN(n,e,t,r){var o=e==="clippingParents"?gN(n):[].concat(e),i=[].concat(o,[t]),s=i[0],a=i.reduce(function(c,u){var l=_f(n,u,r);return c.top=Ir(l.top,c.top),c.right=qs(l.right,c.right),c.bottom=qs(l.bottom,c.bottom),c.left=Ir(l.left,c.left),c},_f(n,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ly(n){var e=n.reference,t=n.element,r=n.placement,o=r?Tn(r):null,i=r?So(r):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,c;switch(o){case ht:c={x:s,y:e.y-t.height};break;case Ut:c={x:s,y:e.y+e.height};break;case $t:c={x:e.x+e.width,y:a};break;case ft:c={x:e.x-t.width,y:a};break;default:c={x:e.x,y:e.y}}var u=o?cd(o):null;if(u!=null){var l=u==="y"?"height":"width";switch(i){case Dr:c[u]=c[u]-(e[l]/2-t[l]/2);break;case To:c[u]=c[u]+(e[l]/2-t[l]/2);break}}return c}function Io(n,e){e===void 0&&(e={});var t=e,r=t.placement,o=r===void 0?n.placement:r,i=t.strategy,s=i===void 0?n.strategy:i,a=t.boundary,c=a===void 0?_y:a,u=t.rootBoundary,l=u===void 0?rd:u,d=t.elementContext,h=d===void 0?to:d,f=t.altBoundary,y=f===void 0?!1:f,v=t.padding,E=v===void 0?0:v,R=Ny(typeof E!="number"?E:My(E,Ho)),O=h===to?yy:to,M=n.rects.popper,P=n.elements[y?O:h],B=mN(xr(P)?P:P.contextElement||ur(n.elements.popper),c,l,s),q=Ao(n.elements.reference),Q=Ly({reference:q,element:M,placement:o}),he=Tl(Object.assign({},M,Q)),me=h===to?he:q,ge={top:B.top-me.top+R.top,bottom:me.bottom-B.bottom+R.bottom,left:B.left-me.left+R.left,right:me.right-B.right+R.right},Ne=n.modifiersData.offset;if(h===to&&Ne){var je=Ne[o];Object.keys(ge).forEach(function(ke){var Tt=[$t,Ut].indexOf(ke)>=0?1:-1,pt=[ht,Ut].indexOf(ke)>=0?"y":"x";ge[ke]+=je[pt]*Tt})}return ge}function _N(n,e){e===void 0&&(e={});var t=e,r=t.placement,o=t.boundary,i=t.rootBoundary,s=t.padding,a=t.flipVariations,c=t.allowedAutoPlacements,u=c===void 0?od:c,l=So(r),d=l?a?El:El.filter(function(y){return So(y)===l}):Ho,h=d.filter(function(y){return u.indexOf(y)>=0});h.length===0&&(h=d);var f=h.reduce(function(y,v){return y[v]=Io(n,{placement:v,boundary:o,rootBoundary:i,padding:s})[Tn(v)],y},{});return Object.keys(f).sort(function(y,v){return f[y]-f[v]})}function yN(n){if(Tn(n)===ja)return[];var e=gs(n);return[mf(n),e,mf(e)]}function vN(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var o=t.mainAxis,i=o===void 0?!0:o,s=t.altAxis,a=s===void 0?!0:s,c=t.fallbackPlacements,u=t.padding,l=t.boundary,d=t.rootBoundary,h=t.altBoundary,f=t.flipVariations,y=f===void 0?!0:f,v=t.allowedAutoPlacements,E=e.options.placement,R=Tn(E),O=R===E,M=c||(O||!y?[gs(E)]:yN(E)),P=[E].concat(M).reduce(function(At,St){return At.concat(Tn(St)===ja?_N(e,{placement:St,boundary:l,rootBoundary:d,padding:u,flipVariations:y,allowedAutoPlacements:v}):St)},[]),B=e.rects.reference,q=e.rects.popper,Q=new Map,he=!0,me=P[0],ge=0;ge<P.length;ge++){var Ne=P[ge],je=Tn(Ne),ke=So(Ne)===Dr,Tt=[ht,Ut].indexOf(je)>=0,pt=Tt?"width":"height",_e=Io(e,{placement:Ne,boundary:l,rootBoundary:d,altBoundary:h,padding:u}),le=Tt?ke?$t:ft:ke?Ut:ht;B[pt]>q[pt]&&(le=gs(le));var fe=gs(le),Ye=[];if(i&&Ye.push(_e[je]<=0),a&&Ye.push(_e[le]<=0,_e[fe]<=0),Ye.every(function(At){return At})){me=Ne,he=!1;break}Q.set(Ne,Ye)}if(he)for(var bt=y?3:1,gt=function(St){var We=P.find(function(A){var V=Q.get(A);if(V)return V.slice(0,St).every(function(K){return K})});if(We)return me=We,"break"},Ue=bt;Ue>0;Ue--){var Yt=gt(Ue);if(Yt==="break")break}e.placement!==me&&(e.modifiersData[r]._skip=!0,e.placement=me,e.reset=!0)}}const Hy={name:"flip",enabled:!0,phase:"main",fn:vN,requiresIfExists:["offset"],data:{_skip:!1}};function yf(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function vf(n){return[ht,$t,Ut,ft].some(function(e){return n[e]>=0})}function CN(n){var e=n.state,t=n.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=Io(e,{elementContext:"reference"}),a=Io(e,{altBoundary:!0}),c=yf(s,r),u=yf(a,o,i),l=vf(c),d=vf(u);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}const Uy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:CN};function EN(n,e,t){var r=Tn(n),o=[ft,ht].indexOf(r)>=0?-1:1,i=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[ft,$t].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function wN(n){var e=n.state,t=n.options,r=n.name,o=t.offset,i=o===void 0?[0,0]:o,s=od.reduce(function(l,d){return l[d]=EN(d,e.rects,i),l},{}),a=s[e.placement],c=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const $y={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wN};function TN(n){var e=n.state,t=n.name;e.modifiersData[t]=Ly({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const pd={name:"popperOffsets",enabled:!0,phase:"read",fn:TN,data:{}};function bN(n){return n==="x"?"y":"x"}function AN(n){var e=n.state,t=n.options,r=n.name,o=t.mainAxis,i=o===void 0?!0:o,s=t.altAxis,a=s===void 0?!1:s,c=t.boundary,u=t.rootBoundary,l=t.altBoundary,d=t.padding,h=t.tether,f=h===void 0?!0:h,y=t.tetherOffset,v=y===void 0?0:y,E=Io(e,{boundary:c,rootBoundary:u,padding:d,altBoundary:l}),R=Tn(e.placement),O=So(e.placement),M=!O,P=cd(R),B=bN(P),q=e.modifiersData.popperOffsets,Q=e.rects.reference,he=e.rects.popper,me=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,ge=typeof me=="number"?{mainAxis:me,altAxis:me}:Object.assign({mainAxis:0,altAxis:0},me),Ne=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,je={x:0,y:0};if(q){if(i){var ke,Tt=P==="y"?ht:ft,pt=P==="y"?Ut:$t,_e=P==="y"?"height":"width",le=q[P],fe=le+E[Tt],Ye=le-E[pt],bt=f?-he[_e]/2:0,gt=O===Dr?Q[_e]:he[_e],Ue=O===Dr?-he[_e]:-Q[_e],Yt=e.elements.arrow,At=f&&Yt?ad(Yt):{width:0,height:0},St=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Py(),We=St[Tt],A=St[pt],V=di(0,Q[_e],At[_e]),K=M?Q[_e]/2-bt-V-We-ge.mainAxis:gt-V-We-ge.mainAxis,z=M?-Q[_e]/2+bt+V+A+ge.mainAxis:Ue+V+A+ge.mainAxis,ve=e.elements.arrow&&Li(e.elements.arrow),p=ve?P==="y"?ve.clientTop||0:ve.clientLeft||0:0,g=(ke=Ne==null?void 0:Ne[P])!=null?ke:0,C=le+K-g-p,I=le+z-g,N=di(f?qs(fe,C):fe,le,f?Ir(Ye,I):Ye);q[P]=N,je[P]=N-le}if(a){var k,j=P==="x"?ht:ft,F=P==="x"?Ut:$t,U=q[B],L=B==="y"?"height":"width",J=U+E[j],G=U-E[F],Y=[ht,ft].indexOf(R)!==-1,ne=(k=Ne==null?void 0:Ne[B])!=null?k:0,de=Y?J:U-Q[L]-he[L]-ne+ge.altAxis,Te=Y?U+Q[L]+he[L]-ne-ge.altAxis:G,ye=f&&Y?nN(de,U,Te):di(f?de:J,U,f?Te:G);q[B]=ye,je[B]=ye-U}e.modifiersData[r]=je}}const Fy={name:"preventOverflow",enabled:!0,phase:"main",fn:AN,requiresIfExists:["offset"]};function SN(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function IN(n){return n===Ft(n)||!Gt(n)?dd(n):SN(n)}function RN(n){var e=n.getBoundingClientRect(),t=bo(e.width)/n.offsetWidth||1,r=bo(e.height)/n.offsetHeight||1;return t!==1||r!==1}function kN(n,e,t){t===void 0&&(t=!1);var r=Gt(e),o=Gt(e)&&RN(e),i=ur(e),s=Ao(n,o,t),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((Sn(e)!=="body"||fd(i))&&(a=IN(e)),Gt(e)?(c=Ao(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=hd(i))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function ON(n){var e=new Map,t=new Set,r=[];n.forEach(function(i){e.set(i.name,i)});function o(i){t.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var c=e.get(a);c&&o(c)}}),r.push(i)}return n.forEach(function(i){t.has(i.name)||o(i)}),r}function PN(n){var e=ON(n);return Ry.reduce(function(t,r){return t.concat(e.filter(function(o){return o.phase===r}))},[])}function NN(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function MN(n){var e=n.reduce(function(t,r){var o=t[r.name];return t[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var Cf={placement:"bottom",modifiers:[],strategy:"absolute"};function Ef(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Va(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,o=e.defaultOptions,i=o===void 0?Cf:o;return function(a,c,u){u===void 0&&(u=i);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cf,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,f={state:l,setOptions:function(R){var O=typeof R=="function"?R(l.options):R;v(),l.options=Object.assign({},i,l.options,O),l.scrollParents={reference:xr(a)?hi(a):a.contextElement?hi(a.contextElement):[],popper:hi(c)};var M=PN(MN([].concat(r,l.options.modifiers)));return l.orderedModifiers=M.filter(function(P){return P.enabled}),y(),f.update()},forceUpdate:function(){if(!h){var R=l.elements,O=R.reference,M=R.popper;if(Ef(O,M)){l.rects={reference:kN(O,Li(M),l.options.strategy==="fixed"),popper:ad(M)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(ge){return l.modifiersData[ge.name]=Object.assign({},ge.data)});for(var P=0;P<l.orderedModifiers.length;P++){if(l.reset===!0){l.reset=!1,P=-1;continue}var B=l.orderedModifiers[P],q=B.fn,Q=B.options,he=Q===void 0?{}:Q,me=B.name;typeof q=="function"&&(l=q({state:l,options:he,name:me,instance:f})||l)}}}},update:NN(function(){return new Promise(function(E){f.forceUpdate(),E(l)})}),destroy:function(){v(),h=!0}};if(!Ef(a,c))return f;f.setOptions(u).then(function(E){!h&&u.onFirstUpdate&&u.onFirstUpdate(E)});function y(){l.orderedModifiers.forEach(function(E){var R=E.name,O=E.options,M=O===void 0?{}:O,P=E.effect;if(typeof P=="function"){var B=P({state:l,name:R,instance:f,options:M}),q=function(){};d.push(B||q)}})}function v(){d.forEach(function(E){return E()}),d=[]}return f}}var DN=Va(),xN=[ud,pd,ld,sd],LN=Va({defaultModifiers:xN}),HN=[ud,pd,ld,sd,$y,Hy,Fy,Dy,Uy],gd=Va({defaultModifiers:HN});const By=Object.freeze(Object.defineProperty({__proto__:null,afterMain:by,afterRead:Ey,afterWrite:Iy,applyStyles:sd,arrow:Dy,auto:ja,basePlacements:Ho,beforeMain:wy,beforeRead:vy,beforeWrite:Ay,bottom:Ut,clippingParents:_y,computeStyles:ld,createPopper:gd,createPopperBase:DN,createPopperLite:LN,detectOverflow:Io,end:To,eventListeners:ud,flip:Hy,hide:Uy,left:ft,main:Ty,modifierPhases:Ry,offset:$y,placements:od,popper:to,popperGenerator:Va,popperOffsets:pd,preventOverflow:Fy,read:Cy,reference:yy,right:$t,start:Dr,top:ht,variationPlacements:El,viewport:rd,write:Sy},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Wn=new Map,Cc={set(n,e,t){Wn.has(n)||Wn.set(n,new Map);const r=Wn.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Wn.has(n)&&Wn.get(n).get(e)||null},remove(n,e){if(!Wn.has(n))return;const t=Wn.get(n);t.delete(e),t.size===0&&Wn.delete(n)}},UN=1e6,$N=1e3,bl="transitionend",Ky=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),FN=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),BN=n=>{do n+=Math.floor(Math.random()*UN);while(document.getElementById(n));return n},KN=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),o=Number.parseFloat(t);return!r&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*$N)},jy=n=>{n.dispatchEvent(new Event(bl))},Ln=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),sr=n=>Ln(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(Ky(n)):null,Uo=n=>{if(!Ln(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},ar=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",Gy=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?Gy(n.parentNode):null},Ys=()=>{},Hi=n=>{n.offsetHeight},Vy=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ec=[],jN=n=>{document.readyState==="loading"?(Ec.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Ec)e()}),Ec.push(n)):n()},Wt=()=>document.documentElement.dir==="rtl",qt=n=>{jN(()=>{const e=Vy();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},vt=(n,e=[],t=n)=>typeof n=="function"?n.call(...e):t,Wy=(n,e,t=!0)=>{if(!t){vt(n);return}const o=KN(e)+5;let i=!1;const s=({target:a})=>{a===e&&(i=!0,e.removeEventListener(bl,s),vt(n))};e.addEventListener(bl,s),setTimeout(()=>{i||jy(e)},o)},md=(n,e,t,r)=>{const o=n.length;let i=n.indexOf(e);return i===-1?!t&&r?n[o-1]:n[0]:(i+=t?1:-1,r&&(i=(i+o)%o),n[Math.max(0,Math.min(i,o-1))])},GN=/[^.]*(?=\..*)\.|.*/,VN=/\..*/,WN=/::\d+$/,wc={};let wf=1;const zy={mouseenter:"mouseover",mouseleave:"mouseout"},zN=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function qy(n,e){return e&&`${e}::${wf++}`||n.uidEvent||wf++}function Yy(n){const e=qy(n);return n.uidEvent=e,wc[e]=wc[e]||{},wc[e]}function qN(n,e){return function t(r){return _d(r,{delegateTarget:n}),t.oneOff&&D.off(n,r.type,e),e.apply(n,[r])}}function YN(n,e,t){return function r(o){const i=n.querySelectorAll(e);for(let{target:s}=o;s&&s!==this;s=s.parentNode)for(const a of i)if(a===s)return _d(o,{delegateTarget:s}),r.oneOff&&D.off(n,o.type,e,t),t.apply(s,[o])}}function Qy(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function Jy(n,e,t){const r=typeof e=="string",o=r?t:e||t;let i=Xy(n);return zN.has(i)||(i=n),[r,o,i]}function Tf(n,e,t,r,o){if(typeof e!="string"||!n)return;let[i,s,a]=Jy(e,t,r);e in zy&&(s=(y=>function(v){if(!v.relatedTarget||v.relatedTarget!==v.delegateTarget&&!v.delegateTarget.contains(v.relatedTarget))return y.call(this,v)})(s));const c=Yy(n),u=c[a]||(c[a]={}),l=Qy(u,s,i?t:null);if(l){l.oneOff=l.oneOff&&o;return}const d=qy(s,e.replace(GN,"")),h=i?YN(n,t,s):qN(n,s);h.delegationSelector=i?t:null,h.callable=s,h.oneOff=o,h.uidEvent=d,u[d]=h,n.addEventListener(a,h,i)}function Al(n,e,t,r,o){const i=Qy(e[t],r,o);i&&(n.removeEventListener(t,i,!!o),delete e[t][i.uidEvent])}function QN(n,e,t,r){const o=e[t]||{};for(const[i,s]of Object.entries(o))i.includes(r)&&Al(n,e,t,s.callable,s.delegationSelector)}function Xy(n){return n=n.replace(VN,""),zy[n]||n}const D={on(n,e,t,r){Tf(n,e,t,r,!1)},one(n,e,t,r){Tf(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[o,i,s]=Jy(e,t,r),a=s!==e,c=Yy(n),u=c[s]||{},l=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(u).length)return;Al(n,c,s,i,o?t:null);return}if(l)for(const d of Object.keys(c))QN(n,c,d,e.slice(1));for(const[d,h]of Object.entries(u)){const f=d.replace(WN,"");(!a||e.includes(f))&&Al(n,c,s,h.callable,h.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=Vy(),o=Xy(e),i=e!==o;let s=null,a=!0,c=!0,u=!1;i&&r&&(s=r.Event(e,t),r(n).trigger(s),a=!s.isPropagationStopped(),c=!s.isImmediatePropagationStopped(),u=s.isDefaultPrevented());const l=_d(new Event(e,{bubbles:a,cancelable:!0}),t);return u&&l.preventDefault(),c&&n.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function _d(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function bf(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Tc(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Hn={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Tc(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Tc(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let o=r.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1),e[o]=bf(n.dataset[r])}return e},getDataAttribute(n,e){return bf(n.getAttribute(`data-bs-${Tc(e)}`))}};class Ui{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Ln(t)?Hn.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Ln(t)?Hn.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,o]of Object.entries(t)){const i=e[r],s=Ln(i)?"element":FN(i);if(!new RegExp(o).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${o}".`)}}}const JN="5.3.6";class ln extends Ui{constructor(e,t){super(),e=sr(e),e&&(this._element=e,this._config=this._getConfig(t),Cc.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Cc.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){Wy(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Cc.get(sr(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return JN}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const bc=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>Ky(t)).join(","):null},Z={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!ar(t)&&Uo(t))},getSelectorFromElement(n){const e=bc(n);return e&&Z.findOne(e)?e:null},getElementFromSelector(n){const e=bc(n);return e?Z.findOne(e):null},getMultipleElementsFromSelector(n){const e=bc(n);return e?Z.find(e):[]}},Wa=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;D.on(document,t,`[data-bs-dismiss="${r}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),ar(this))return;const i=Z.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(i)[e]()})},XN="alert",ZN="bs.alert",Zy=`.${ZN}`,eM=`close${Zy}`,tM=`closed${Zy}`,nM="fade",rM="show";class za extends ln{static get NAME(){return XN}close(){if(D.trigger(this._element,eM).defaultPrevented)return;this._element.classList.remove(rM);const t=this._element.classList.contains(nM);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),D.trigger(this._element,tM),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=za.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Wa(za,"close");qt(za);const oM="button",iM="bs.button",sM=`.${iM}`,aM=".data-api",cM="active",Af='[data-bs-toggle="button"]',lM=`click${sM}${aM}`;class qa extends ln{static get NAME(){return oM}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(cM))}static jQueryInterface(e){return this.each(function(){const t=qa.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}D.on(document,lM,Af,n=>{n.preventDefault();const e=n.target.closest(Af);qa.getOrCreateInstance(e).toggle()});qt(qa);const uM="swipe",$o=".bs.swipe",dM=`touchstart${$o}`,hM=`touchmove${$o}`,fM=`touchend${$o}`,pM=`pointerdown${$o}`,gM=`pointerup${$o}`,mM="touch",_M="pen",yM="pointer-event",vM=40,CM={endCallback:null,leftCallback:null,rightCallback:null},EM={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qs extends Ui{constructor(e,t){super(),this._element=e,!(!e||!Qs.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return CM}static get DefaultType(){return EM}static get NAME(){return uM}dispose(){D.off(this._element,$o)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),vt(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=vM)return;const t=e/this._deltaX;this._deltaX=0,t&&vt(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,pM,e=>this._start(e)),D.on(this._element,gM,e=>this._end(e)),this._element.classList.add(yM)):(D.on(this._element,dM,e=>this._start(e)),D.on(this._element,hM,e=>this._move(e)),D.on(this._element,fM,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===_M||e.pointerType===mM)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const wM="carousel",TM="bs.carousel",dr=`.${TM}`,ev=".data-api",bM="ArrowLeft",AM="ArrowRight",SM=500,qo="next",Yr="prev",no="left",ms="right",IM=`slide${dr}`,Ac=`slid${dr}`,RM=`keydown${dr}`,kM=`mouseenter${dr}`,OM=`mouseleave${dr}`,PM=`dragstart${dr}`,NM=`load${dr}${ev}`,MM=`click${dr}${ev}`,tv="carousel",Zi="active",DM="slide",xM="carousel-item-end",LM="carousel-item-start",HM="carousel-item-next",UM="carousel-item-prev",nv=".active",rv=".carousel-item",$M=nv+rv,FM=".carousel-item img",BM=".carousel-indicators",KM="[data-bs-slide], [data-bs-slide-to]",jM='[data-bs-ride="carousel"]',GM={[bM]:ms,[AM]:no},VM={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},WM={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $i extends ln{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Z.findOne(BM,this._element),this._addEventListeners(),this._config.ride===tv&&this.cycle()}static get Default(){return VM}static get DefaultType(){return WM}static get NAME(){return wM}next(){this._slide(qo)}nextWhenVisible(){!document.hidden&&Uo(this._element)&&this.next()}prev(){this._slide(Yr)}pause(){this._isSliding&&jy(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){D.one(this._element,Ac,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){D.one(this._element,Ac,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const o=e>r?qo:Yr;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&D.on(this._element,RM,e=>this._keydown(e)),this._config.pause==="hover"&&(D.on(this._element,kM,()=>this.pause()),D.on(this._element,OM,()=>this._maybeEnableCycle())),this._config.touch&&Qs.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Z.find(FM,this._element))D.on(r,PM,o=>o.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(no)),rightCallback:()=>this._slide(this._directionToOrder(ms)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),SM+this._config.interval))}};this._swipeHelper=new Qs(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=GM[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Z.findOne(nv,this._indicatorsElement);t.classList.remove(Zi),t.removeAttribute("aria-current");const r=Z.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Zi),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),o=e===qo,i=t||md(this._getItems(),r,o,this._config.wrap);if(i===r)return;const s=this._getItemIndex(i),a=f=>D.trigger(this._element,f,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:s});if(a(IM).defaultPrevented||!r||!i)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=i;const l=o?LM:xM,d=o?HM:UM;i.classList.add(d),Hi(i),r.classList.add(l),i.classList.add(l);const h=()=>{i.classList.remove(l,d),i.classList.add(Zi),r.classList.remove(Zi,d,l),this._isSliding=!1,a(Ac)};this._queueCallback(h,r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(DM)}_getActive(){return Z.findOne($M,this._element)}_getItems(){return Z.find(rv,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Wt()?e===no?Yr:qo:e===no?qo:Yr}_orderToDirection(e){return Wt()?e===Yr?no:ms:e===Yr?ms:no}static jQueryInterface(e){return this.each(function(){const t=$i.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}D.on(document,MM,KM,function(n){const e=Z.getElementFromSelector(this);if(!e||!e.classList.contains(tv))return;n.preventDefault();const t=$i.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(Hn.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});D.on(window,NM,()=>{const n=Z.find(jM);for(const e of n)$i.getOrCreateInstance(e)});qt($i);const zM="collapse",qM="bs.collapse",Fi=`.${qM}`,YM=".data-api",QM=`show${Fi}`,JM=`shown${Fi}`,XM=`hide${Fi}`,ZM=`hidden${Fi}`,eD=`click${Fi}${YM}`,Sc="show",io="collapse",es="collapsing",tD="collapsed",nD=`:scope .${io} .${io}`,rD="collapse-horizontal",oD="width",iD="height",sD=".collapse.show, .collapse.collapsing",Sl='[data-bs-toggle="collapse"]',aD={parent:null,toggle:!0},cD={parent:"(null|element)",toggle:"boolean"};class Ri extends ln{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=Z.find(Sl);for(const o of r){const i=Z.getSelectorFromElement(o),s=Z.find(i).filter(a=>a===this._element);i!==null&&s.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return aD}static get DefaultType(){return cD}static get NAME(){return zM}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(sD).filter(a=>a!==this._element).map(a=>Ri.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||D.trigger(this._element,QM).defaultPrevented)return;for(const a of e)a.hide();const r=this._getDimension();this._element.classList.remove(io),this._element.classList.add(es),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(es),this._element.classList.add(io,Sc),this._element.style[r]="",D.trigger(this._element,JM)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,XM).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Hi(this._element),this._element.classList.add(es),this._element.classList.remove(io,Sc);for(const o of this._triggerArray){const i=Z.getElementFromSelector(o);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(es),this._element.classList.add(io),D.trigger(this._element,ZM)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Sc)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=sr(e.parent),e}_getDimension(){return this._element.classList.contains(rD)?oD:iD}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Sl);for(const t of e){const r=Z.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=Z.find(nD,this._config.parent);return Z.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(tD,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Ri.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}D.on(document,eD,Sl,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of Z.getMultipleElementsFromSelector(this))Ri.getOrCreateInstance(e,{toggle:!1}).toggle()});qt(Ri);const Sf="dropdown",lD="bs.dropdown",Fr=`.${lD}`,yd=".data-api",uD="Escape",If="Tab",dD="ArrowUp",Rf="ArrowDown",hD=2,fD=`hide${Fr}`,pD=`hidden${Fr}`,gD=`show${Fr}`,mD=`shown${Fr}`,ov=`click${Fr}${yd}`,iv=`keydown${Fr}${yd}`,_D=`keyup${Fr}${yd}`,ro="show",yD="dropup",vD="dropend",CD="dropstart",ED="dropup-center",wD="dropdown-center",Cr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',TD=`${Cr}.${ro}`,_s=".dropdown-menu",bD=".navbar",AD=".navbar-nav",SD=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ID=Wt()?"top-end":"top-start",RD=Wt()?"top-start":"top-end",kD=Wt()?"bottom-end":"bottom-start",OD=Wt()?"bottom-start":"bottom-end",PD=Wt()?"left-start":"right-start",ND=Wt()?"right-start":"left-start",MD="top",DD="bottom",xD={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},LD={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class bn extends ln{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Z.next(this._element,_s)[0]||Z.prev(this._element,_s)[0]||Z.findOne(_s,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return xD}static get DefaultType(){return LD}static get NAME(){return Sf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ar(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!D.trigger(this._element,gD,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(AD))for(const r of[].concat(...document.body.children))D.on(r,"mouseover",Ys);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ro),this._element.classList.add(ro),D.trigger(this._element,mD,e)}}hide(){if(ar(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!D.trigger(this._element,fD,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))D.off(r,"mouseover",Ys);this._popper&&this._popper.destroy(),this._menu.classList.remove(ro),this._element.classList.remove(ro),this._element.setAttribute("aria-expanded","false"),Hn.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,pD,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ln(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Sf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof By>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ln(this._config.reference)?e=sr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=gd(e,this._menu,t)}_isShown(){return this._menu.classList.contains(ro)}_getPlacement(){const e=this._parent;if(e.classList.contains(vD))return PD;if(e.classList.contains(CD))return ND;if(e.classList.contains(ED))return MD;if(e.classList.contains(wD))return DD;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(yD)?t?RD:ID:t?OD:kD}_detectNavbar(){return this._element.closest(bD)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Hn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...vt(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const r=Z.find(SD,this._menu).filter(o=>Uo(o));r.length&&md(r,t,e===Rf,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=bn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===hD||e.type==="keyup"&&e.key!==If)return;const t=Z.find(TD);for(const r of t){const o=bn.getInstance(r);if(!o||o._config.autoClose===!1)continue;const i=e.composedPath(),s=i.includes(o._menu);if(i.includes(o._element)||o._config.autoClose==="inside"&&!s||o._config.autoClose==="outside"&&s||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===If||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:o._element};e.type==="click"&&(a.clickEvent=e),o._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===uD,o=[dD,Rf].includes(e.key);if(!o&&!r||t&&!r)return;e.preventDefault();const i=this.matches(Cr)?this:Z.prev(this,Cr)[0]||Z.next(this,Cr)[0]||Z.findOne(Cr,e.delegateTarget.parentNode),s=bn.getOrCreateInstance(i);if(o){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),i.focus())}}D.on(document,iv,Cr,bn.dataApiKeydownHandler);D.on(document,iv,_s,bn.dataApiKeydownHandler);D.on(document,ov,bn.clearMenus);D.on(document,_D,bn.clearMenus);D.on(document,ov,Cr,function(n){n.preventDefault(),bn.getOrCreateInstance(this).toggle()});qt(bn);const sv="backdrop",HD="fade",kf="show",Of=`mousedown.bs.${sv}`,UD={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},$D={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class av extends Ui{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return UD}static get DefaultType(){return $D}static get NAME(){return sv}show(e){if(!this._config.isVisible){vt(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Hi(t),t.classList.add(kf),this._emulateAnimation(()=>{vt(e)})}hide(e){if(!this._config.isVisible){vt(e);return}this._getElement().classList.remove(kf),this._emulateAnimation(()=>{this.dispose(),vt(e)})}dispose(){this._isAppended&&(D.off(this._element,Of),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(HD),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=sr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),D.on(e,Of,()=>{vt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Wy(e,this._getElement(),this._config.isAnimated)}}const FD="focustrap",BD="bs.focustrap",Js=`.${BD}`,KD=`focusin${Js}`,jD=`keydown.tab${Js}`,GD="Tab",VD="forward",Pf="backward",WD={autofocus:!0,trapElement:null},zD={autofocus:"boolean",trapElement:"element"};class cv extends Ui{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return WD}static get DefaultType(){return zD}static get NAME(){return FD}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,Js),D.on(document,KD,e=>this._handleFocusin(e)),D.on(document,jD,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,Js))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=Z.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===Pf?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===GD&&(this._lastTabNavDirection=e.shiftKey?Pf:VD)}}const Nf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mf=".sticky-top",ts="padding-right",Df="margin-right";class Il{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ts,t=>t+e),this._setElementAttributes(Nf,ts,t=>t+e),this._setElementAttributes(Mf,Df,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ts),this._resetElementAttributes(Nf,ts),this._resetElementAttributes(Mf,Df)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const o=this.getWidth(),i=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+o)return;this._saveInitialAttribute(s,t);const a=window.getComputedStyle(s).getPropertyValue(t);s.style.setProperty(t,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&Hn.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=o=>{const i=Hn.getDataAttribute(o,t);if(i===null){o.style.removeProperty(t);return}Hn.removeDataAttribute(o,t),o.style.setProperty(t,i)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Ln(e)){t(e);return}for(const r of Z.find(e,this._element))t(r)}}const qD="modal",YD="bs.modal",zt=`.${YD}`,QD=".data-api",JD="Escape",XD=`hide${zt}`,ZD=`hidePrevented${zt}`,lv=`hidden${zt}`,uv=`show${zt}`,ex=`shown${zt}`,tx=`resize${zt}`,nx=`click.dismiss${zt}`,rx=`mousedown.dismiss${zt}`,ox=`keydown.dismiss${zt}`,ix=`click${zt}${QD}`,xf="modal-open",sx="fade",Lf="show",Ic="modal-static",ax=".modal.show",cx=".modal-dialog",lx=".modal-body",ux='[data-bs-toggle="modal"]',dx={backdrop:!0,focus:!0,keyboard:!0},hx={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ro extends ln{constructor(e,t){super(e,t),this._dialog=Z.findOne(cx,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Il,this._addEventListeners()}static get Default(){return dx}static get DefaultType(){return hx}static get NAME(){return qD}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||D.trigger(this._element,uv,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||D.trigger(this._element,XD).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Lf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){D.off(window,zt),D.off(this._dialog,zt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new av({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new cv({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Z.findOne(lx,this._dialog);t&&(t.scrollTop=0),Hi(this._element),this._element.classList.add(Lf);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,ex,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,ox,e=>{if(e.key===JD){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),D.on(window,tx,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,rx,e=>{D.one(this._element,nx,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(xf),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,lv)})}_isAnimated(){return this._element.classList.contains(sx)}_triggerBackdropTransition(){if(D.trigger(this._element,ZD).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Ic)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Ic),this._queueCallback(()=>{this._element.classList.remove(Ic),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const o=Wt()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!r&&e){const o=Wt()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=Ro.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}D.on(document,ix,ux,function(n){const e=Z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),D.one(e,uv,o=>{o.defaultPrevented||D.one(e,lv,()=>{Uo(this)&&this.focus()})});const t=Z.findOne(ax);t&&Ro.getInstance(t).hide(),Ro.getOrCreateInstance(e).toggle(this)});Wa(Ro);qt(Ro);const fx="offcanvas",px="bs.offcanvas",Gn=`.${px}`,dv=".data-api",gx=`load${Gn}${dv}`,mx="Escape",Hf="show",Uf="showing",$f="hiding",_x="offcanvas-backdrop",hv=".offcanvas.show",yx=`show${Gn}`,vx=`shown${Gn}`,Cx=`hide${Gn}`,Ff=`hidePrevented${Gn}`,fv=`hidden${Gn}`,Ex=`resize${Gn}`,wx=`click${Gn}${dv}`,Tx=`keydown.dismiss${Gn}`,bx='[data-bs-toggle="offcanvas"]',Ax={backdrop:!0,keyboard:!0,scroll:!1},Sx={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class cr extends ln{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ax}static get DefaultType(){return Sx}static get NAME(){return fx}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||D.trigger(this._element,yx,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Il().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Uf);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Hf),this._element.classList.remove(Uf),D.trigger(this._element,vx,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||D.trigger(this._element,Cx).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add($f),this._backdrop.hide();const t=()=>{this._element.classList.remove(Hf,$f),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Il().reset(),D.trigger(this._element,fv)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){D.trigger(this._element,Ff);return}this.hide()},t=!!this._config.backdrop;return new av({className:_x,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new cv({trapElement:this._element})}_addEventListeners(){D.on(this._element,Tx,e=>{if(e.key===mx){if(this._config.keyboard){this.hide();return}D.trigger(this._element,Ff)}})}static jQueryInterface(e){return this.each(function(){const t=cr.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}D.on(document,wx,bx,function(n){const e=Z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ar(this))return;D.one(e,fv,()=>{Uo(this)&&this.focus()});const t=Z.findOne(hv);t&&t!==e&&cr.getInstance(t).hide(),cr.getOrCreateInstance(e).toggle(this)});D.on(window,gx,()=>{for(const n of Z.find(hv))cr.getOrCreateInstance(n).show()});D.on(window,Ex,()=>{for(const n of Z.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&cr.getOrCreateInstance(n).hide()});Wa(cr);qt(cr);const Ix=/^aria-[\w-]*$/i,pv={"*":["class","dir","id","lang","role",Ix],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Rx=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),kx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ox=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?Rx.has(t)?!!kx.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function Px(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const o=new window.DOMParser().parseFromString(n,"text/html"),i=[].concat(...o.body.querySelectorAll("*"));for(const s of i){const a=s.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){s.remove();continue}const c=[].concat(...s.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(const l of c)Ox(l,u)||s.removeAttribute(l.nodeName)}return o.body.innerHTML}const Nx="TemplateFactory",Mx={allowList:pv,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Dx={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},xx={entry:"(string|element|function|null)",selector:"(string|element)"};class Lx extends Ui{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Mx}static get DefaultType(){return Dx}static get NAME(){return Nx}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,i]of Object.entries(this._config.content))this._setContent(e,i,o);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},xx)}_setContent(e,t,r){const o=Z.findOne(r,e);if(o){if(t=this._resolvePossibleFunction(t),!t){o.remove();return}if(Ln(t)){this._putElementInTemplate(sr(t),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(t);return}o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?Px(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return vt(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const Hx="tooltip",Ux=new Set(["sanitize","allowList","sanitizeFn"]),Rc="fade",$x="modal",ns="show",Fx=".tooltip-inner",Bf=`.${$x}`,Kf="hide.bs.modal",Yo="hover",kc="focus",Bx="click",Kx="manual",jx="hide",Gx="hidden",Vx="show",Wx="shown",zx="inserted",qx="click",Yx="focusin",Qx="focusout",Jx="mouseenter",Xx="mouseleave",Zx={AUTO:"auto",TOP:"top",RIGHT:Wt()?"left":"right",BOTTOM:"bottom",LEFT:Wt()?"right":"left"},eL={allowList:pv,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},tL={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Fo extends ln{constructor(e,t){if(typeof By>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return eL}static get DefaultType(){return tL}static get NAME(){return Hx}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(Bf),Kf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=D.trigger(this._element,this.constructor.eventName(Vx)),r=(Gy(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(o),D.trigger(this._element,this.constructor.eventName(zx))),this._popper=this._createPopper(o),o.classList.add(ns),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))D.on(a,"mouseover",Ys);const s=()=>{D.trigger(this._element,this.constructor.eventName(Wx)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||D.trigger(this._element,this.constructor.eventName(jx)).defaultPrevented)return;if(this._getTipElement().classList.remove(ns),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))D.off(o,"mouseover",Ys);this._activeTrigger[Bx]=!1,this._activeTrigger[kc]=!1,this._activeTrigger[Yo]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName(Gx)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Rc,ns),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=BN(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Rc),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Lx({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Fx]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Rc)}_isShown(){return this.tip&&this.tip.classList.contains(ns)}_createPopper(e){const t=vt(this._config.placement,[this,e,this._element]),r=Zx[t.toUpperCase()];return gd(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return vt(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...vt(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")D.on(this._element,this.constructor.eventName(qx),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==Kx){const r=t===Yo?this.constructor.eventName(Jx):this.constructor.eventName(Yx),o=t===Yo?this.constructor.eventName(Xx):this.constructor.eventName(Qx);D.on(this._element,r,this._config.selector,i=>{const s=this._initializeOnDelegatedTarget(i);s._activeTrigger[i.type==="focusin"?kc:Yo]=!0,s._enter()}),D.on(this._element,o,this._config.selector,i=>{const s=this._initializeOnDelegatedTarget(i);s._activeTrigger[i.type==="focusout"?kc:Yo]=s._element.contains(i.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(Bf),Kf,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Hn.getDataAttributes(this._element);for(const r of Object.keys(t))Ux.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:sr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Fo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}qt(Fo);const nL="popover",rL=".popover-header",oL=".popover-body",iL={...Fo.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},sL={...Fo.DefaultType,content:"(null|string|element|function)"};class vd extends Fo{static get Default(){return iL}static get DefaultType(){return sL}static get NAME(){return nL}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[rL]:this._getTitle(),[oL]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=vd.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}qt(vd);const aL="scrollspy",cL="bs.scrollspy",Cd=`.${cL}`,lL=".data-api",uL=`activate${Cd}`,jf=`click${Cd}`,dL=`load${Cd}${lL}`,hL="dropdown-item",Qr="active",fL='[data-bs-spy="scroll"]',Oc="[href]",pL=".nav, .list-group",Gf=".nav-link",gL=".nav-item",mL=".list-group-item",_L=`${Gf}, ${gL} > ${Gf}, ${mL}`,yL=".dropdown",vL=".dropdown-toggle",CL={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},EL={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ya extends ln{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return CL}static get DefaultType(){return EL}static get NAME(){return aL}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=sr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,jf),D.on(this._config.target,jf,Oc,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:o,behavior:"smooth"});return}r.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(t(s))},o=(this._rootElement||document.documentElement).scrollTop,i=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}const a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&a){if(r(s),!o)return;continue}!i&&!a&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Z.find(Oc,this._config.target);for(const t of e){if(!t.hash||ar(t))continue;const r=Z.findOne(decodeURI(t.hash),this._element);Uo(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Qr),this._activateParents(e),D.trigger(this._element,uL,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(hL)){Z.findOne(vL,e.closest(yL)).classList.add(Qr);return}for(const t of Z.parents(e,pL))for(const r of Z.prev(t,_L))r.classList.add(Qr)}_clearActiveClass(e){e.classList.remove(Qr);const t=Z.find(`${Oc}.${Qr}`,e);for(const r of t)r.classList.remove(Qr)}static jQueryInterface(e){return this.each(function(){const t=Ya.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}D.on(window,dL,()=>{for(const n of Z.find(fL))Ya.getOrCreateInstance(n)});qt(Ya);const wL="tab",TL="bs.tab",Br=`.${TL}`,bL=`hide${Br}`,AL=`hidden${Br}`,SL=`show${Br}`,IL=`shown${Br}`,RL=`click${Br}`,kL=`keydown${Br}`,OL=`load${Br}`,PL="ArrowLeft",Vf="ArrowRight",NL="ArrowUp",Wf="ArrowDown",Pc="Home",zf="End",Er="active",qf="fade",Nc="show",ML="dropdown",gv=".dropdown-toggle",DL=".dropdown-menu",Mc=`:not(${gv})`,xL='.list-group, .nav, [role="tablist"]',LL=".nav-item, .list-group-item",HL=`.nav-link${Mc}, .list-group-item${Mc}, [role="tab"]${Mc}`,mv='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Dc=`${HL}, ${mv}`,UL=`.${Er}[data-bs-toggle="tab"], .${Er}[data-bs-toggle="pill"], .${Er}[data-bs-toggle="list"]`;class ko extends ln{constructor(e){super(e),this._parent=this._element.closest(xL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,kL,t=>this._keydown(t)))}static get NAME(){return wL}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?D.trigger(t,bL,{relatedTarget:e}):null;D.trigger(e,SL,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Er),this._activate(Z.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Nc);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),D.trigger(e,IL,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(qf))}_deactivate(e,t){if(!e)return;e.classList.remove(Er),e.blur(),this._deactivate(Z.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Nc);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),D.trigger(e,AL,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(qf))}_keydown(e){if(![PL,Vf,NL,Wf,Pc,zf].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(o=>!ar(o));let r;if([Pc,zf].includes(e.key))r=t[e.key===Pc?0:t.length-1];else{const o=[Vf,Wf].includes(e.key);r=md(t,e.target,o,!0)}r&&(r.focus({preventScroll:!0}),ko.getOrCreateInstance(r).show())}_getChildren(){return Z.find(Dc,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Z.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(ML))return;const o=(i,s)=>{const a=Z.findOne(i,r);a&&a.classList.toggle(s,t)};o(gv,Er),o(DL,Nc),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Er)}_getInnerElement(e){return e.matches(Dc)?e:Z.findOne(Dc,e)}_getOuterElement(e){return e.closest(LL)||e}static jQueryInterface(e){return this.each(function(){const t=ko.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}D.on(document,RL,mv,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!ar(this)&&ko.getOrCreateInstance(this).show()});D.on(window,OL,()=>{for(const n of Z.find(UL))ko.getOrCreateInstance(n)});qt(ko);const $L="toast",FL="bs.toast",hr=`.${FL}`,BL=`mouseover${hr}`,KL=`mouseout${hr}`,jL=`focusin${hr}`,GL=`focusout${hr}`,VL=`hide${hr}`,WL=`hidden${hr}`,zL=`show${hr}`,qL=`shown${hr}`,YL="fade",Yf="hide",rs="show",os="showing",QL={animation:"boolean",autohide:"boolean",delay:"number"},JL={animation:!0,autohide:!0,delay:5e3};class Qa extends ln{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return JL}static get DefaultType(){return QL}static get NAME(){return $L}show(){if(D.trigger(this._element,zL).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(YL);const t=()=>{this._element.classList.remove(os),D.trigger(this._element,qL),this._maybeScheduleHide()};this._element.classList.remove(Yf),Hi(this._element),this._element.classList.add(rs,os),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||D.trigger(this._element,VL).defaultPrevented)return;const t=()=>{this._element.classList.add(Yf),this._element.classList.remove(os,rs),D.trigger(this._element,WL)};this._element.classList.add(os),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rs),super.dispose()}isShown(){return this._element.classList.contains(rs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,BL,e=>this._onInteraction(e,!0)),D.on(this._element,KL,e=>this._onInteraction(e,!1)),D.on(this._element,jL,e=>this._onInteraction(e,!0)),D.on(this._element,GL,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Qa.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Wa(Qa);qt(Qa);const Kr=ME(wI);Kr.component("AppFooter",AI);Kr.component("SignalRTrips",Jk);Kr.directive("scroll",{mounted(n,e){const t=function(r){e.value(r,n)&&window.removeEventListener("scroll",t)};window.addEventListener("scroll",t)}});Kr.mixin({methods:{handleScroll(n,e){window.scrollY>100?e.setAttribute("class","navbar navbar-light navbar-expand-lg fixed-top navbar-shrink"):e.setAttribute("class","navbar navbar-light navbar-expand-lg fixed-top")}}});Kr.use(JP);Kr.use(QP);Kr.mount("#app");
